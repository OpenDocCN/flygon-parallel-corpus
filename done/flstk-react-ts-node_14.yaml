- en: '*Chapter 11*: What We Will Learn – Online Forum Application'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '*第11章*：我们将学到什么-在线论坛应用'
- en: No matter how many books we study, we as developers cannot truly learn how to
    program with a certain technology stack without building a realistic application
    that uses it. In this chapter, we'll learn about the application that we intend
    to build. We'll see how we will apply some of the topics we've covered. We'll
    see what features our application will have and some of the rationale for including
    those features. This author also has a fair amount of experience of building forum-style
    applications, such as my latest app, DzHaven. So, you can rest assured that what
    you'll learn is production-grade code that's actually being used in real-world
    applications.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 无论我们学习了多少书，作为开发人员，如果没有构建一个使用特定技术栈的现实应用，我们就无法真正学会如何使用它来编程。在本章中，我们将了解我们打算构建的应用程序。我们将看到我们将如何应用我们所涵盖的一些主题。我们将看到我们的应用程序将具有哪些功能以及包括这些功能的一些原因。本作者还有相当多的构建论坛式应用的经验，比如我的最新应用DzHaven。因此，您可以放心，您将学到的是实际在现实应用中使用的生产级代码。
- en: 'In this chapter, we''re going to cover the following main topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主要主题：
- en: Analyzing what we will build – The forum application
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析我们将要构建的内容-论坛应用
- en: Analyzing forum authentication
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析论坛认证
- en: Analyzing thread management
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析主题管理
- en: Analyzing the thread points system
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 分析主题积分系统
- en: Analyzing what we will build – The forum application
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析我们将要构建的内容-论坛应用
- en: As noted, we are building a forum application. It will be somewhat similar in
    style to other forum applications, such as StackOverflow and Bitcointalk.org.
    A user will be able to post a topic or ask a question and receive responses from
    other users in the application's community.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 正如所指出的，我们正在构建一个论坛应用。它在风格上与其他论坛应用相似，比如StackOverflow和Bitcointalk.org。用户将能够在应用的社区中发布主题或提问，并从其他用户那里获得回复。
- en: '**Why build a single forum application?**'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**为什么要构建单个论坛应用？**'
- en: We could have demonstrated JavaScript development by building several smaller
    simpler applications. The problem with demonstrating full-stack programming with
    simple apps is that they do not show all the capabilities of a modern JavaScript
    application. In other words, it could leave holes in your knowledge of how to
    implement certain features, such as authentication or database access.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 我们本可以通过构建几个更简单的小型应用来展示JavaScript开发。用简单的应用演示全栈编程的问题在于它们无法展示现代JavaScript应用的所有功能。换句话说，它可能会在你实现某些功能的知识上留下漏洞，比如认证或数据库访问。
- en: We could, of course, build a graphically intense photo or video application,
    but the issue with these apps is the enormous focus needed on graphical design
    and aesthetics. Also, working on editing photos or video is nice, but those skills
    don't translate well to general full-stack programming. There's nothing wrong
    with apps like these, but in a book such as this, the main goal is obviously to
    learn how to code a full-stack app, and not necessarily become a graphics specialist.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，我们可以构建一个图形密集型的照片或视频应用，但这些应用的问题在于需要大量关注图形设计和美学。此外，编辑照片或视频很好，但这些技能并不很好地转化为通用的全栈编程。这样的应用并没有错，但在这样的书中，主要目标显然是学习如何编写全栈应用，而不一定成为图形专家。
- en: 'So, a forum application will give us a good depth of understanding of the myriad
    frameworks necessary in a large full-stack application. It will also show the
    kind of features we need to implement in an app that will serve many users in
    a publicly accessible website. At a high level, we will be implementing the following
    technology features:'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，论坛应用将使我们深入了解大型全栈应用中所需的各种框架。它还将展示我们需要在一个可以为许多用户提供服务的公开网站中实现的功能。在高层次上，我们将实现以下技术特性：
- en: '**Security**'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**安全**'
- en: Broadly speaking, web security entails two main parts. Authentication is the
    server's ability to verify that a user is who they say they are, and authorization
    is the ability to control user access to features of the application.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 广义上讲，Web安全包括两个主要部分。认证是服务器验证用户是否为其所说的用户的能力，授权是控制用户对应用程序功能的访问权限的能力。
- en: '**Sessions and cookies**'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**会话和cookie**'
- en: Server-side sessions allow a server to maintain data about a user's current
    activity on the site. We will use sessions and cookies to identify users and provide
    an easier experience while they are using the site.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 服务器端会话允许服务器维护有关用户在站点上的当前活动的数据。我们将使用会话和cookie来识别用户，并在他们使用站点时提供更轻松的体验。
- en: '**Object Relational Mapper**'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**对象关系映射器**'
- en: An **Object Relational Mapper** (**ORM**) is technology that allows code, in
    our case TypeScript, to be used to interact with a database instead of SQL.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '**对象关系映射器**（**ORM**）是一种技术，允许代码（在我们的情况下是TypeScript）与数据库进行交互，而不是SQL。'
- en: '**Database access and repository layer**'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**数据库访问和存储库层**'
- en: Database access is complex, so we will use a design pattern called Repository
    to separate our database access code from the rest of our application code.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库访问是复杂的，因此我们将使用一种称为存储库的设计模式，将我们的数据库访问代码与应用程序的其余部分分开。
- en: These days, an application needs to be mobile-enabled by default. We need to
    make sure users on mobile phones are able to access and engage with our application
    community. Therefore, we'll build our application using responsive methods so
    that our app will work on both desktops and mobile devices. Responsive web design
    simply means that our application's screen will change to best fit the device
    screen size and dimensions. We will use modern CSS and JavaScript techniques to
    do this.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 如今，应用程序默认需要支持移动设备。我们需要确保手机用户能够访问并参与我们的应用社区。因此，我们将使用响应式方法构建我们的应用程序，以便我们的应用程序可以在桌面和移动设备上运行。响应式网页设计简单地意味着我们的应用程序屏幕将根据设备屏幕大小和尺寸进行调整。我们将使用现代的CSS和JavaScript技术来实现这一点。
- en: In this section, we reviewed what type of application we will be building and
    the reasons for our selection. In the next section, we'll look at forum authentication
    and some of its features.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们回顾了我们将要构建的应用程序类型以及我们选择的原因。在下一部分，我们将看一下论坛认证及其一些特性。
- en: Analyzing forum authentication
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析论坛认证
- en: In any large multi-user application, we need to use a system to recognize and
    authorize users. Our forum application is no different.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在任何大型多用户应用程序中，我们需要使用一个系统来识别和授权用户。我们的论坛应用程序也不例外。
- en: 'Users will be able to post forum topics and answer forum questions. They therefore
    need to be able to distinguish their own activity from that of other users. So,
    we will build a login system to allow users to authenticate and perform activities
    on the site with their own unique account. We will therefore build the following
    features:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 用户将能够发布论坛主题和回答论坛问题。因此，他们需要能够区分自己的活动和其他用户的活动。因此，我们将构建一个登录系统，允许用户使用自己的唯一帐户进行身份验证和在网站上执行活动。因此，我们将构建以下特性：
- en: '**Login and logout**'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**登录和注销**'
- en: This feature will include not only the **GraphQL** resolvers to allow logging
    in and logging out, but also the screens to allow the user to enter their ID and
    password. We will also be using several technologies to provide a unique session
    state for the user's activities at any given time.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 这个功能将不仅包括**GraphQL**解析器，允许登录和注销，还包括屏幕，允许用户输入他们的ID和密码。我们还将使用几种技术，为用户的活动在任何给定时间提供一个唯一的会话状态。
- en: '**Registration system**'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**注册系统**'
- en: A registration system will include both screens and resolvers that allow a user
    to create a unique account in order to distinguish their activities on the site.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 注册系统将包括屏幕和解析器，允许用户创建一个唯一的帐户，以区分他们在网站上的活动。
- en: '**Password reset**'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**重置密码**'
- en: The ability for users to change their password when required, but in a secure
    way.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 用户有能力在需要时以安全的方式更改他们的密码。
- en: '**Profile screen**'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**个人资料屏幕**'
- en: A screen and features that show a user's account information. This information
    will include their email and user ID. In addition to that, it provides the ability
    for the user to view all of their prior posts, including both topic posts and
    responses.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 一个屏幕和功能，显示用户的帐户信息。这些信息将包括他们的电子邮件和用户ID。除此之外，它还提供了用户查看他们以前的所有帖子的能力，包括主题帖和回复。
- en: '**Categories**'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类别**'
- en: Groupings based on categories should be created to allow users to view only
    the posts in categories that they are interested in and reduce noise.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 基于类别创建分组，允许用户只查看他们感兴趣的类别中的帖子，并减少噪音。
- en: '**Notification emails**'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**通知电子邮件**'
- en: A system for contacting users via email and notifying them of additional requirements
    or news about the site. For example, this could include a verification email that
    checks that the email they registered with is valid and accessible by the same
    user.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 通过电子邮件联系用户并通知他们有关网站的额外要求或新闻的系统。例如，这可能包括验证电子邮件，检查他们注册的电子邮件是否有效，并且可以被同一用户访问。
- en: In this section, we went over the list of features we will be building to allow
    users to authenticate and uniquely identify themselves and their activities on
    the site. In the next section, we'll review how we will implement **threads**,
    the main means of communication within our application.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们回顾了我们将要构建的功能列表，以允许用户在网站上进行身份验证并唯一地识别自己和他们的活动。在下一部分，我们将审查我们将如何实现**主题**，这是我们应用程序内部的主要交流方式。
- en: Analyzing thread management
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析主题管理
- en: 'Every post on the site can be considered the beginning of a thread; that is
    to say, the initial thread posting kicks off a discussion on a topic and creates
    a chain of responses. So, our application needs to be able to allow a user to
    start the discussion by adding the initial thread post. This post would then be
    viewable to all users and they can respond to it. Each thread item, including
    the initial post, will be uniquely identified to the user that made the post.
    So, in order to create this functionality, we will need the following features:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 网站上的每篇帖子都可以被视为一个主题的开始；也就是说，最初的主题帖会引发关于一个主题的讨论，并创建一系列回复。因此，我们的应用程序需要允许用户通过添加初始主题帖来开始讨论。然后所有用户都可以看到这个帖子并对其进行回复。每个主题项，包括初始帖子，都将被唯一地标识为发帖用户。因此，为了创建这个功能，我们将需要以下特性：
- en: '**Topic thread posting and editing**'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主题帖发布和编辑**'
- en: This feature will, of course, include the ability to be viewed by anyone, as
    well as adding and editing topic posts by an author. Users will also be able to
    see all their posts from their **UserProfile** screen.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 这个功能当然会包括被任何人查看的能力，以及作者添加和编辑主题帖的能力。用户还可以从他们的**用户资料**屏幕上看到他们所有的帖子。
- en: '**Responding to a thread topic**'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**回复主题帖**'
- en: This feature will include the ability for the topic-starting user and other
    users to respond to a topic post with their own comments. It has the ability to
    view a topic post and all responses related to that topic on one screen.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 这个功能将包括主题发起用户和其他用户对主题帖进行回复的能力。它具有查看主题帖以及所有与该主题相关的回复的能力。
- en: In order to keep the application's complexity down to a minimum, users will
    not be allowed to respond to specific responses, but only respond to the main
    topic. They will, however, be able to quote other posts in their response.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 为了将应用程序的复杂性降到最低，用户将不被允许回复特定的回复，而只能回复主题。但他们可以在回复中引用其他帖子。
- en: In this section, we reviewed the features for the main capabilities of the application.
    Creating and responding to new threads will be the core feature of the application,
    although we will add other related features in order to enhance its capabilities.
    In the next section, we will review what we will build for the thread points system.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，我们回顾了应用程序的主要功能。创建和回复新主题将是应用程序的核心功能，尽管我们将添加其他相关功能以增强其功能。在下一部分，我们将审查我们将为主题积分系统构建什么。
- en: Analyzing the thread points system
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 分析主题积分系统
- en: Users should be able to tag comments that they like and upvote them. Showing
    which postings are popular also helps users be more engaged in the communication.
    In this section, we'll review how we'll enable users to indicate their approval
    of posts.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 用户应该能够标记他们喜欢的评论并对其进行点赞。显示哪些帖子受欢迎也有助于用户更加参与沟通。在本节中，我们将回顾如何使用户能够表达他们对帖子的赞同。
- en: 'To enable this capability, we will include the following features in our app:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 为了实现这一功能，我们将在我们的应用程序中包括以下功能：
- en: '**Points system**'
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**积分系统**'
- en: A points system will be created to allow users to upvote or downvote thread
    postings and responses.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 将创建一个积分系统，允许用户对帖子和回复进行点赞或踩。
- en: '**Display view count**'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示查看次数**'
- en: Show the number of times a thread post was viewed by users.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 显示用户查看帖子的次数。
- en: '**Display response count**'
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示回复次数**'
- en: Show the number of responses a post has to let users know what topics are popular
    or trending.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 显示帖子的回复次数，以让用户知道哪些主题受欢迎或正在流行。
- en: In this section, we reviewed how the system is important to enable users to
    indicate how they feel about certain posts and view the popularity of topics.
    The points system will enhance user engagement and activity.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们回顾了系统如何重要，以使用户能够表达他们对某些帖子的感受并查看主题的受欢迎程度。积分系统将增强用户参与度和活动性。
- en: Summary
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we looked at the application we will be building, the list
    of features it will have, and some of the reasons for going with this type of
    application. Since we are building a full-stack application, the code we are about
    to build will be quite complex and challenging. You may even be surprised by the
    ultimate size and scope of this app. However, once we are done, we will have built
    a modern, sophisticated, and complete end-to-end application.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们看了一下我们将要构建的应用程序，它将具有的功能列表，以及选择这种类型应用程序的一些原因。由于我们正在构建一个全栈应用程序，我们即将构建的代码将会非常复杂和具有挑战性。您甚至可能会对这个应用程序的最终规模和范围感到惊讶。然而，一旦完成，我们将构建一个现代、复杂和完整的端到端应用程序。
- en: In the next chapter, we will start coding the React client-side portion of our
    application. We won't be able to entirely finish it since we've not started our
    backend. However, we will build a very large portion of it, and you will be able
    to see many of the screens.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将开始编写我们应用程序的React客户端部分的代码。由于我们还没有开始后端，我们将无法完全完成它。但是，我们将构建其中的很大一部分，您将能够看到许多屏幕。

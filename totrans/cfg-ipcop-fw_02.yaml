- en: Chapter 2. Introduction to IPCop
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第2章。IPCop简介
- en: Before we look at how we use IPCop, we need to first look at the background
    of IPCop and the tools it is built with. We also need to look at the licenses
    those tools are distributed under, and therefore the IPCop license. This chapter
    will be less beneficial for those who would like to get straight to the installation
    and configuration and already know the background of open-source software, the
    GPL, and Linux. We will, however, also look at the reasons to choose IPCop in
    this chapter and the unique features it has, which will be useful when deciding
    whether to or how to deploy IPCop. It is, therefore, extremely important.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们看如何使用IPCop之前，我们需要首先了解IPCop的背景以及它构建的工具。我们还需要查看这些工具分发的许可证，因此也需要查看IPCop许可证。对于那些想要直接进行安装和配置并且已经了解开源软件、GPL和Linux背景的人来说，本章将不太有益。然而，我们还将在本章中看到选择IPCop的原因以及它具有的独特功能，这在决定是否以及如何部署IPCop时将会有用。因此，这非常重要。
- en: Free and Open Source Software
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 自由和开源软件
- en: Many people might have heard of several common types of software, such as freeware,
    which is software you are allowed to use for free and (more generically), commercial
    software such as Microsoft Windows or Adobe Photoshop. Commercial software, generally,
    comes with a license restricting you to use the software in a certain way, and
    usually banning you from copying or modifying it.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 许多人可能听说过几种常见类型的软件，比如免费软件，这是你被允许免费使用的软件，还有商业软件，比如微软Windows或Adobe Photoshop。商业软件通常附带许可证，限制你以某种方式使用软件，并通常禁止你复制或修改它。
- en: IPCop is a type of software known as **Open Source Software** (**OSS**). As
    a piece of OSS, IPCop is released under a license called the **GNU General Public
    License** (**GPL**).
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop是一种称为**开源软件**（**OSS**）的软件类型。作为一种OSS，IPCop是根据称为**GNU通用公共许可证**（**GPL**）的许可证发布的。
- en: As with all Open Source Software packages distributed under this license and
    others like it, IPCop affords its users some basic freedoms.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 与所有根据此许可证和其他类似许可证分发的开源软件包一样，IPCop为其用户提供了一些基本的自由。
- en: Under the GPL, IPCop users are given the freedom to read, modify, and redistribute
    the source code of the software. The only caveat attached to this is that if you
    decide to redistribute this software (for instance, if you make a copy of IPCop
    with some improvements and give it to a friend) you must provide the modified
    work under the same license, and provide access to the source code. As we will
    see when we look at the history of IPCop, this can be very beneficial for users
    who would like to take a project in a new direction.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在GPL下，IPCop用户被赋予阅读、修改和重新分发软件源代码的自由。唯一附加的条件是，如果你决定重新分发这个软件（例如，如果你复制了一份带有一些改进的IPCop并把它给朋友），你必须以相同的许可证提供修改后的作品，并提供源代码的访问权限。当我们看IPCop的历史时，我们会发现这对于那些想要将项目引向新方向的用户非常有益。
- en: The GPL is one of the best-known open-source licenses. There are many others,
    however, such as the **Berkeley Software Distribution License** (**BSD License**).
    Each license differs in exactly what freedom it gives you, but all of them must
    allow at least the ability to read, modify, and redistribute the source code in
    order to be considered an open-source license by the Open Source Initiative.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: GPL是最知名的开源许可证之一。然而，还有许多其他许可证，比如**伯克利软件分发许可证**（**BSD许可证**）。每个许可证在给予你的自由方面略有不同，但它们都必须至少允许阅读、修改和重新分发源代码，才能被开源倡议认为是开源许可证。
- en: Note
  id: totrans-8
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注
- en: '**What is Source Code?**'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '**什么是源代码？**'
- en: Source code is a set of instructions written by a computer programmer in a human-readable
    language. This set of instructions is usually then converted by a **compiler**
    into an executable program that the computer can run. With closed-source software
    such as Microsoft Windows and ISA Server, you don't get to see this. With Open
    Source Software such as Linux and IPCop, you do!
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 源代码是由计算机程序员用人类可读的语言编写的一组指令。然后这组指令通常由编译器转换成计算机可以运行的可执行程序。对于像微软Windows和ISA Server这样的闭源软件，你看不到这一点。而对于像Linux和IPCop这样的开源软件，你可以看到！
- en: The Open Source Initiative is a non-profit organization involved in promoting
    open-source software and aiding developers in creating and using open-source licenses.
    It also maintains a list of all licenses accepted as open source.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 开源倡议是一个非营利组织，致力于推广开源软件，并帮助开发人员创建和使用开源许可证。它还维护着所有被接受为开源的许可证的列表。
- en: You can find all of the licenses recognized by the Open Source Initiative at
    [http://www.opensource.org/](http://www.opensource.org/).
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在开源倡议组织的网站[http://www.opensource.org/](http://www.opensource.org/)找到所有被认可的许可证。
- en: The GPL itself can be found on the GNU website, [http://www.gnu.org/copyleft/gpl.html](http://www.gnu.org/copyleft/gpl.html).
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: GPL本身可以在GNU网站[http://www.gnu.org/copyleft/gpl.html](http://www.gnu.org/copyleft/gpl.html)上找到。
- en: In addition to being the best-known OSS license, the GPL is also the license
    chosen by the best-known piece of OSS, the Linux kernel, which is a key component
    of IPCop. The release of the Linux kernel under the GPL is what makes systems
    like IPCop possible. The Linux kernel is the core of a Linux-based operating system
    (such as any of the Linux distributions that are variants of GNU/Linux). The kernel
    is developed by a team of developers mostly comprising volunteers around the world,
    but including many developers who are paid by companies that rely on Linux for
    some of their business, such as Red Hat Linux, Canonical, IBM, Novell, and Sun
    Microsystems.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 除了是最知名的开源软件许可证外，GPL也是最知名的开源软件Linux内核选择的许可证，这是IPCop的关键组件。Linux内核的发布是在GPL下，这使得像IPCop这样的系统成为可能。Linux内核是Linux操作系统的核心（比如GNU/Linux的各种变体）。内核由一个由世界各地的大多数志愿者组成的开发团队开发，但也包括许多依赖Linux进行业务的公司支付的开发人员，如红帽Linux、Canonical、IBM、Novell和Sun
    Microsystems。
- en: As we are now aware, creating Open Source Software means giving our users the
    ability to modify our source code and then redistribute their modifications. This
    is what has been done with IPCop. IPCop has taken the Linux kernel as well as
    a large number of other tools, bundled them into a **distribution** of software
    and enabled users to create a feature-rich easy-to-use firewall system. This is
    how a lot of Open Source Software is created and is a function of the philosophy
    behind OSS.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们现在所知，创建开源软件意味着让用户能够修改我们的源代码，然后重新分发他们的修改。这就是 IPCop 所做的。IPCop 采用了 Linux 内核以及大量其他工具，将它们捆绑成一个软件的
    *distribution*，并使用户能够创建一个功能丰富且易于使用的防火墙系统。这就是许多开源软件的创建方式，也是 OSS 背后哲学的一种功能。
- en: Forking IPCop
  id: totrans-16
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 分支 IPCop
- en: Not only can you build your software on top of other components with OSS, but
    you can take it a step further and take one of those components (or a collection
    of those—called a **distribution**) and modify it to become something that suits
    your needs better than the design of the original developers. For example, if
    the users and developers of a particular piece of software decide they want something
    more from the software or want the software to be taken in another direction,
    they have the full freedom to do so. This is what happened with IPCop.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 不仅可以在 OSS 上构建软件，还可以进一步采取其中一个组件（或一组这样的组件——称为 *distribution*）并修改它，使其成为比原始开发人员设计更适合您需求的东西。例如，如果某个软件的用户和开发人员决定他们希望软件有更多功能，或者希望软件朝另一个方向发展，他们完全有自由这样做。这就是
    IPCop 发生的情况。
- en: Before IPCop was created, SmoothWall existed ([http://www.smoothwall.org](http://www.smoothwall.org)).
    SmoothWall is a very similar distribution to IPCop at the present time and all
    of the initial code in IPCop was SmoothWall code. SmoothWall, however, employed
    *dual licensing* to release variants of its free firewall commercially. The commercial
    variants of SmoothWall had greater functionality, possibly causing conflict between
    the development goals of the free and commercial packages as there is a disincentive
    to improve a free product if it will cause your non-free product to make less
    money.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建 IPCop 之前，SmoothWall 存在（[http://www.smoothwall.org](http://www.smoothwall.org)）。目前，SmoothWall
    与 IPCop 非常相似，IPCop 中的所有初始代码都来自 SmoothWall 代码。然而，SmoothWall 采用了 *双重许可* 来商业发布其免费防火墙的变体。SmoothWall
    的商业变体具有更多功能，可能导致免费和商业软件的开发目标之间发生冲突，因为如果改进免费产品会导致非免费产品赚取更少的钱，那么改进免费产品就没有动力。
- en: This led to tension between users of the software and some of the developers.
    The current IPCop developers decided to develop the system based on the work already
    put in to SmoothWall but they didn't want to follow SmoothWall's current philosophy
    and direction. As such, there was a decision to create a new branch of the software—to
    **fork** it. One of the main reasons behind the fork was a desire to create a
    firewall with the features available in commercial SmoothWall and then release
    this as a purely non-commercial piece of OSS.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 这导致了软件用户和一些开发人员之间的紧张关系。当前的 IPCop 开发人员决定基于已经投入到 SmoothWall 中的工作来开发系统，但他们不想遵循
    SmoothWall 当前的理念和方向。因此，决定创建软件的一个新分支——*fork* 它。分支背后的主要原因之一是希望创建一个具有商业 SmoothWall
    中可用功能的防火墙，然后将其作为纯非商业的 OSS 发布。
- en: Creating a new branch of software like this is called *forking* for quite obvious
    reasons. A fork is generally carried out by users and/or current developers by
    taking a snapshot of the source code and deciding to develop it in a different
    direction. They add different features, possibly remove some things that are not
    important for the project, and an alternative piece of software is created, which
    often competes with the original software, or provides an alternative to it.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 像这样创建软件的新分支因非常明显的原因被称为 *forking*。用户和/或当前开发人员通常通过对源代码进行快照并决定朝不同方向开发来进行分支。他们添加不同的功能，可能删除一些对项目不重要的东西，从而创建了另一种替代软件，通常与原始软件竞争，或者为其提供替代品。
- en: Other examples of *forked* software are the many different distributions of
    the GNU tools and Linux such as Mandrake, Debian, Slackware, Ubuntu, and so on.
    Some of them are derived from their own packaging of the Linux kernel and GNU
    tools and some of them are derived from each other. For example Adamantix and
    Ubuntu are derived from Debian and they feature different design goals from each
    other and from their parent software.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 其他 *forked* 软件的例子包括 GNU 工具和 Linux 的许多不同发行版，如 Mandrake、Debian、Slackware、Ubuntu
    等。它们中的一些是源自它们自己对 Linux 内核和 GNU 工具的打包，一些是源自彼此。例如，Adamantix 和 Ubuntu 源自 Debian，它们具有不同的设计目标，与彼此和其父软件不同。
- en: Forking is also a process that commercial software undergoes—the many different
    versions of the Windows operating system, for instance, are ultimately forked
    from the same source code. By *forking* the source code and developing *server*
    versions of Windows (such as Windows 2003 Server) and *client* versions of Windows
    (such as Windows XP), Microsoft is better able to provide functionality in each
    version that is fitting to the purpose of the version, and the price charged for
    it.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 分支也是商业软件经历的一个过程——例如，Windows 操作系统的许多不同版本最终都是从相同的源代码 *fork* 出来的。通过 *fork* 源代码并开发
    Windows 的 *server* 版本（如 Windows 2003 Server）和 *client* 版本（如 Windows XP），微软能够更好地为每个版本提供适合该版本目的的功能，并为此收取价格。
- en: There is a rich diversity of OSS, and without the freedom involved in licensing
    IPCop itself wouldn't exist, since it is derived from the GNU tools, Linux, SmoothWall,
    and many other open-source packages. This is by no means an exhaustive list and
    the number of developers involved in creating all of the code involved in such
    a system is very hard to estimate.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: OSS 有着丰富的多样性，如果没有涉及许可的自由，IPCop 本身就不会存在，因为它源自 GNU 工具、Linux、SmoothWall 和许多其他开源软件包。这绝不是一个详尽的清单，参与创建这样一个系统中所有代码的开发人员数量非常难以估计。
- en: The license that IPCop is released under means that if a company chooses to
    use the system internally and subsequently decides that it would like to make
    some changes to it, it is free to do this—modifications are a right that is taken
    for granted under the license, and there is no obligation for you to redistribute
    changes you make that are only used internally. If you do decide to redistribute
    your modifications (to a friend, partner, or another company), all that is asked
    is that you afford your users the same benefits you received initially; i.e. if
    you decide to release the software, then you must release the software under the
    GPL. The license even makes a provision to charge a (reasonable) distribution
    fee to cover costs (although the people you redistribute it to are themselves
    free to redistribute the software to whomever they want, at no cost!). The added
    power this gives a piece of software is hard to measure, but it is very easy to
    see how this could be beneficial.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop发布的许可证意味着，如果公司选择在内部使用该系统，并随后决定对其进行一些更改，它是可以自由进行的——根据许可证，修改是一项理所当然的权利，您没有义务重新分发仅在内部使用的更改。如果您决定重新分发您的修改（给朋友、合作伙伴或其他公司），唯一要求的是您给予您的用户与您最初收到的相同的权利；即，如果您决定发布软件，则必须根据GPL发布软件。许可证甚至规定可以收取（合理的）分发费用以支付成本（尽管您重新分发给的人可以自由地向任何人免费重新分发软件！）。这给软件增加的权力很难衡量，但很容易看出这可能是有益的。
- en: The example of forking in OSS was that of IPCop forking from SmoothWall. There
    is logically nothing to stop that happening again and in the opinion of the authors,
    diversity and choice when it comes to software is a good thing.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: OSS中分叉的例子是IPCop从SmoothWall中分叉出来。逻辑上没有什么可以阻止再次发生这种情况，作者认为，软件的多样性和选择是一件好事。
- en: If we don't yet have a handle on the power of this license, one excellent example
    is that of highly secure installations. In a situation in which you need complete
    source code control and the ability to modify software at will to accommodate
    a secure environment, having IPCop with its source code gives you a firewall that
    is fully functional from which you can create a more customized system in order
    to secure your network if you need that sort of flexibility. This can be a change
    to the kernel underneath the system or changes to the configuration options, or
    even adding and removing firewall capabilities. Since there is no requirement
    to redistribute you can decide to keep this fully private and essentially have
    an in-house system where only a small amount of development investment was needed.
    There are a lot of software options that offer this and this is one of the biggest
    benefits OSS such as IPCop has over closed-source and commercial competitors in
    the marketplace.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们还没有掌握这个许可证的力量，一个很好的例子就是高度安全的安装。在需要完全控制源代码并能够随意修改软件以适应安全环境的情况下，拥有IPCop及其源代码可以为您提供一个功能齐全的防火墙，您可以基于此创建一个更定制的系统，以确保网络安全。这可以是对系统底层的更改，也可以是对配置选项的更改，甚至是添加和删除防火墙功能。由于没有重新分发的要求，您可以决定将其完全保密，并且只需要少量的开发投资就可以拥有一个内部系统。有很多软件选项可以提供这种功能，这是IPCop等OSS相对于市场上的闭源和商业竞争对手的最大优势之一。
- en: If you don't need this flexibility, you still benefit from the developers that
    did use this flexibility in order to create a very useful system. The open nature
    of the development process is a direct consequence of the open nature of the code,
    and the sheer number of people who are able to get their hands on projects such
    as IPCop, the Linux kernel, or the Apache web server, means that these software
    packages can be highly polished and kept free of bugs, which commercial products
    with development teams that are comparatively tiny might not be so assiduous about.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不需要这种灵活性，您仍然可以从使用这种灵活性的开发人员中受益，以创建一个非常有用的系统。开放的开发过程的性质是代码的开放性的直接结果，能够接触到项目（如IPCop、Linux内核或Apache
    Web服务器）的大量人员意味着这些软件包可以被高度打磨并且保持无bug，而商业产品的开发团队可能不会如此勤奋。
- en: The Purpose of IPCop
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IPCop的目的
- en: IPCop is a firewall for the Small Office/Home Office (SOHO) network, which is
    extremely easy to use. It provides most of the basic features that you would expect
    a modern firewall to have, and what is most important is that it sets this all
    up for you in a highly automated and simplified way. It's very easy to get an
    IPCop system up and running and takes hardly any time.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop是一种非常易于使用的小型办公室/家庭办公室（SOHO）网络防火墙。它提供了大多数您期望现代防火墙具有的基本功能，最重要的是它以一种高度自动化和简化的方式为您设置了所有这些功能。很容易启动和运行IPCop系统，几乎不需要任何时间。
- en: For features such as those in IPCop, we would usually have to pay for a high-end
    firewall system or string something together with a collection of other tools.
    IPCop takes some of these powerful tools and creates a pre-built package for us.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 对于IPCop中的功能，我们通常需要为高端防火墙系统付费，或者使用一系列其他工具进行组合。IPCop使用了一些强大的工具，并为我们创建了一个预构建的软件包。
- en: IPCop was created to fill what appears to be a void in the market, where users
    with small networks need some features that generally only large networks can
    afford, as far as the requirement for expertise or money is concerned. This book
    hopes to provide the additional expertise to make an adequate replacement for
    a commercial product really shine, as well as give a look at how to set up IPCop
    in a number of different scenarios.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop的创建是为了填补市场上的空白，即小型网络用户需要一些通常只有大型网络才能负担得起的功能，就专业知识或金钱而言。本书希望提供额外的专业知识，使商业产品的适当替代品真正发光，并介绍如何在多种不同的场景中设置IPCop。
- en: The Benefits of Building on Stable Components
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建在稳定组件上的好处
- en: IPCop could very well be developed as an add-on to an operating system in the
    way that Shorewall is an application to be installed on a Linux system or ISA
    server on a Windows system, making it an application you install over your existing
    setup. You would then be left with the maintenance of the system underlying the
    software package.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop很可能会作为操作系统的附加组件开发，就像Shorewall是要安装在Linux系统上的应用程序，或者ISA服务器是要安装在Windows系统上的应用程序，这样它就成为了一个可以安装在现有设置上的应用程序。然后你就需要维护软件包下面的系统。
- en: The disadvantage of this is that if your server's purpose is only to be a firewall
    for your network you would be required to have an adequate basic understanding
    of the Linux operating system in order to get the software installed and if you
    want it to perform well you would have to configure both the operating system
    and IPCop itself. However, since IPCop installs as an operating system of its
    own, you have no real need to know Linux in order to use the system. When it comes
    to stability, this means that the IPCop developers can concentrate on one platform
    for their development and can be completely confident that they are in control
    of that environment. They are fully responsible for configuring this and when
    it comes to support they can be relatively sure the users haven't destabilized
    the system by wrongly configuring the operating system—and if they have, then
    hopefully they understand the consequences such that they either do it properly
    or understand why IPCop breaks after they tinker with it!
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 这种缺点是，如果你的服务器只是作为网络防火墙，你需要对Linux操作系统有足够的基本了解才能安装软件，如果你想让它表现良好，你需要配置操作系统和IPCop本身。然而，由于IPCop安装为自己的操作系统，你不需要真正了解Linux就能使用系统。在稳定性方面，这意味着IPCop开发人员可以集中精力在一个平台上进行开发，并且可以完全确信他们控制着这个环境。他们完全负责配置这个环境，当涉及支持时，他们可以相对确信用户没有通过错误配置操作系统来破坏系统，如果他们这样做了，那么希望他们了解后果，要么正确地做，要么了解为什么在他们摆弄后IPCop会崩溃！
- en: Stability, security, reliability, and ease of use are probably the most important
    factors for smaller networks and are the areas in which IPCop, then, seems to
    excel. Being built on the 2.4 series of the Linux kernel, the system has a noteworthy
    level of security, stability, and reliability. Also, having tools installed that
    are used in networks of different sizes around the world provides a massive user
    base meaning that the systems in use are well-tested and have a lot of individuals
    and companies using them, reporting bugs on them, and relying on them for their
    business.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 稳定性、安全性、可靠性和易用性可能是较小网络中最重要的因素，也是IPCop似乎擅长的领域。作为基于Linux内核2.4系列构建的系统，该系统具有显著的安全性、稳定性和可靠性。此外，安装了在世界各地不同规模网络中使用的工具，意味着有大量用户群体，这些系统经过了充分测试，并且有许多个人和公司在使用它们，报告了它们的错误，并依赖它们进行业务。
- en: The Linux kernel is one of the largest single pieces of OSS and includes millions
    of lines of source code developed by a multitude of developers from all over the
    world. Linux has many modern operating system features such as support for wireless
    and Bluetooth devices as well as the most current encrypted network communications.
    As we will see throughout the course of this book, some of these features have
    become invaluable to the IPCop developers and therefore the IPCop users who benefit
    from the features that can be included in the IPCop distribution. The developers
    of IPCop don't have to worry terribly much about lower-level network communication,
    because they have built IPCop on top of the pre-existing kernel code, which manages
    this.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Linux内核是最大的开源软件之一，包括来自世界各地众多开发人员开发的数百万行源代码。Linux具有许多现代操作系统功能，如对无线和蓝牙设备的支持，以及最新的加密网络通信。正如我们将在本书的过程中看到的那样，其中一些功能对IPCop开发人员和因此受益于IPCop分发中可以包含的功能的用户来说是非常宝贵的。IPCop的开发人员不必过多担心底层网络通信，因为他们已经在现有的内核代码之上构建了IPCop，这些代码管理着这一切。
- en: This sort of layering—software on top of other software—enables developers to
    concentrate on the area they know best, and for the IPCop developers, this area
    is making an easy-to-use firewall. You may find this a concept familiar from the
    network layering of the OSI model, which we covered in the previous chapter. This
    interoperability, whether it occurs in an application stack, operating system,
    or set of network protocols, is crucial to build reliable, secure systems. *Open
    Standards*, from network protocols like HTTP to document formats like the Open
    Document Format, are of critical importance to it.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 这种层叠——软件叠加在其他软件之上——使开发人员能够集中精力在他们最擅长的领域，对于IPCop开发人员来说，这个领域就是制作易于使用的防火墙。你可能会发现这是一个熟悉的概念，来自我们在上一章中介绍的OSI模型的网络层叠。这种互操作性，无论是在应用程序堆栈、操作系统还是一组网络协议中发生，对于构建可靠、安全的系统至关重要。*开放标准*，从HTTP等网络协议到开放文档格式等文档格式，对此至关重要。
- en: Some of the other software we have mentioned includes Apache and OpenSSH. Apache,
    the web server that serves the pages used to configure IPCop, powers some of the
    largest websites in the world. According to the latest web server survey, Apache
    is used on almost 70% of the world's web servers ([http://news.netcraft.com/archives/2005/11/07/november_2005_web_server_survey.html](http://news.netcraft.com/archives/2005/11/07/november_2005_web_server_survey.html)).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们提到的其他一些软件包括Apache和OpenSSH。Apache是用于配置IPCop的页面的网络服务器，它为世界上一些最大的网站提供动力。根据最新的网络服务器调查，Apache几乎在全球70%的网络服务器上使用（[http://news.netcraft.com/archives/2005/11/07/november_2005_web_server_survey.html](http://news.netcraft.com/archives/2005/11/07/november_2005_web_server_survey.html)）。
- en: Apache therefore seems like an extremely stable and trustworthy system and gives
    the IPCop developers incredible flexibility when working on their user interface,
    which is almost entirely web-based. Other than the set-up procedure there is no
    real need to go beyond the web interface. By combining the built-in functions
    of the Apache server and IPCop's own scripts it is possible for the developers
    to accomplish very advanced tasks with minimal effort. This stability and ease
    of use is then transparently transferred to the user. Completely unaware that
    Apache is part of the system doing the work, the user can go about configuring
    the firewall with only the knowledge required to browse the Web. Since this is
    fast becoming an essential skill and has joined reading and writing as one of
    the skill-sets taught in school classrooms, it makes IPCop extremely approachable.
    The use of approachable technology such as this is one of the many ways in which
    IPCop strives to achieve its goals.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，Apache看起来是一个非常稳定和可靠的系统，并且在开发IPCop用户界面时给予了开发人员非常大的灵活性，这个界面几乎完全基于Web。除了设置过程之外，没有真正的需要超越Web界面。通过结合Apache服务器的内置功能和IPCop自己的脚本，开发人员可以在最小的努力下完成非常高级的任务。然后，这种稳定性和易用性会透明地转移到用户身上。用户完全不知道Apache是系统中正在工作的一部分，用户只需具备浏览网页所需的知识就可以配置防火墙。由于这正迅速成为一项必不可少的技能，并且已经加入阅读和写作作为学校课堂教授的技能之一，这使得IPCop非常易于接近。使用这样易于接近的技术是IPCop努力实现其目标的众多方式之一。
- en: Equally in networks with no full time IT staff and those with staff for whom
    IPCop constitutes only a small allocation of time, ease of use becomes vital.
    Most IPCop users don't want to know about the inner workings of creating and maintaining
    session state rules for packet filtering. IPCop aims to make this sort of knowledge
    unnecessary. The front end allows us to quickly configure the basic and advanced
    features of our firewall without knowing the in-depth details of underlying systems.
    With this ease of use there are also some powerful configuration options, which
    allow us to set up configurations that are quite advanced and would be much more
    difficult to set up using the tools IPCop is built on. **Virtual Private Networking**
    and **Quality of Service** controls are excellent examples of this—individually,
    the packages providing these services have a very steep learning curve, but when
    incorporated into IPCop, they are relatively easy to configure.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 在没有全职IT人员的网络和那些IPCop只占很少时间的员工的网络中，易用性变得至关重要。大多数IPCop用户不想了解创建和维护会话状态规则进行数据包过滤的内部工作原理。IPCop旨在使这种知识变得不必要。前端允许我们快速配置防火墙的基本和高级功能，而无需了解底层系统的深入细节。在这种易用性的基础上，还有一些强大的配置选项，允许我们设置相当高级的配置，使用IPCop构建的工具要难得多。虚拟私人网络和服务质量控制是这方面的绝佳例子——单独使用提供这些服务的软件包有非常陡峭的学习曲线，但当它们被整合到IPCop中时，它们相对容易配置。
- en: The Gap IPCop Fills
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: IPCop填补的空白
- en: There are a variety of different levels of firewall available. At one end of
    the spectrum, there are enterprise systems such as Check Point and ISA, which
    perform all kinds of powerful functions and can control the traffic for networks
    of vastly varying sizes and topologies. At the other end of the spectrum, we have
    personal firewalls running on host machines such as Agnitum, ZoneAlarm, and the
    built-in firewall in Windows XP Service Pack 2, which protect a single machine.
    There are also many home routers that provide basic firewall functionality. This
    leaves us with the question as to which of these roles IPCop is appropriate for,
    and whether it suits our needs.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 防火墙有各种不同级别可用。在光谱的一端，有企业系统，如Check Point和ISA，可以执行各种强大的功能，并且可以控制各种规模和拓扑结构的网络的流量。在另一端，我们有在主机上运行的个人防火墙，如Agnitum、ZoneAlarm和Windows
    XP Service Pack 2中内置的防火墙，可以保护单个机器。还有许多提供基本防火墙功能的家用路由器。这让我们面临一个问题，即IPCop适合哪种角色，是否符合我们的需求。
- en: IPCop is best suited, as we discussed earlier, to the SOHO network. If our network
    is relatively small with a single Internet connection, such as a home network
    or small business, or we have a couple of sites with separate internet connections
    that require linking together in a medium-sized business then we can certainly
    benefit from using IPCop to handle these connections. Another important aspect
    of IPCop is cost. Since IPCop itself is free of charge our only expenses for the
    firewall are the cost of the hardware (which is usually a low-specification machine)
    and the cost of administering the machine (which is relatively low due to the
    easy-to-use interface). For smaller networks this is highly attractive.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop最适合，正如我们之前讨论的那样，用于SOHO网络。如果我们的网络相对较小，只有一个互联网连接，比如家庭网络或小型企业，或者我们有几个站点，各自有独立的互联网连接，需要在中型企业中连接在一起，那么我们肯定可以从使用IPCop来处理这些连接中受益。IPCop的另一个重要方面是成本。由于IPCop本身是免费的，我们防火墙的唯一费用是硬件成本（通常是低规格的机器）和管理机器的成本（由于易于使用的界面，成本相对较低）。对于较小的网络来说，这是非常有吸引力的。
- en: Systems such as ISA server and checkpoint are extremely expensive and require
    a great deal of background knowledge to configure and secure properly. Compare
    this to IPCop, which functions as a very well-secured router and firewall almost
    by default. Larger enterprise systems also have much higher system requirements
    and are usually overkill for smaller networks. The expense and time it takes to
    set these up is unlikely to provide a good return on investment for networks outside
    the larger enterprise. IPCop also benefits from simplicity that is not available
    when using a general purpose OS such as Windows or even a Linux distribution with
    all the unnecessary services they usually come with. IPCop has a specific role,
    so many services and other applications can be removed such that you are left
    with a specialized system.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: At the other end of the spectrum, there are personal firewalls such as those
    provided by Agnitum, ZoneAlarm, et al. Commonly within SOHO offices Windows Internet
    Connection Sharing (or a cheap router) is used to fulfill the role frequently
    occupied by IPCop.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: These firewalls generally provide basic features and don't allow us to create
    VPNs or to protect multiple machines from a single centralized device. When you
    consider the features such as the ability to create a DMZ, the Intrusion Detection
    System and the network services provided by IPCop you can see that simple host-based
    systems may not be adequate for us and something with the power of IPCop as well
    as its ease of use becomes a compelling option.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: The most common use of IPCop, at the moment, is among people who have some firewall
    and Linux knowledge but don't want to spend time setting up a firewall from scratch.
    This is by no means the only use for IPCop. No real Linux or firewall experience
    is necessary and the purpose of this book is to walk through IPCop in an easy-to-follow
    way, which enables a user with the most basic computer knowledge to get up and
    running with a simple firewall to protect their network.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
- en: Features of IPCop
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Throughout this book we will be discussing version 1.4.10 of IPCop, which is
    the latest release at time of writing. As IPCop is continually being developed
    new features will be added and some of these features may change.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: Web Interface
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: A lot of firewalls come with a cluttered, complex user front end that requires
    significant amount of training and experience to become familiar with. The ISA
    server interface, for instance, is famously unintuitive and often interfaces aren't
    designed in order to make common tasks simple and easy to accomplish.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: Frequently, proprietary firewalls such as ISA server and BorderWare will rename
    common functions such as **port forwarding** and refer to them as something entirely
    different, not making life any easier even for an administrator with experience
    of firewalls, but no knowledge of the particular user interface in question. As
    an easy example of this, BorderWare refers to port forwarding as an **internal
    proxy**, ISA as **publishing**, and DrayTek's line of (reliable and full-featured,
    but somewhat tricky-to-configure) routers refer to it as a virtual server. These
    definitions in some instances have a reason (application-layer firewalls will
    proxy traffic, as we discovered earlier), but don't really make life easier, even
    if they have a justification!
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
- en: We will take a close look at how to set up IPCop and therefore will spend a
    lot of time inside the interface. It is therefore extremely fortunate that the
    interface is quite easy to use and very intuitive. The IPCop developers have decided
    to use an interface based on a website built into the system with the consequence
    that for most people, the interface is a familiar environment as it is quite unlikely
    that anyone setting up a firewall has never used a website.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: '![Web Interface](img/1361_02_01.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
- en: Merely using a website as the **Graphical User Interface** (**GUI**) is not
    enough. The interface still has to be set out so that it is easy to figure out
    and access all of the common functions. Most of the functions we will look at
    will consist of filling simple forms, which is an effective and easy-to-manage
    interface. IPCop isn't unique in using such an interface. Many devices such as
    SOHO cable routers made by Linksys, DrayTek, and D-Link have a similar setup,
    and many high-end products from Cisco appliances to HP Procurve switches do too,
    but few of these contain all of the features and the ease of use provided by IPCop.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 仅仅使用网站作为**图形用户界面**（**GUI**）是不够的。界面仍然必须设置得易于理解和访问所有常见功能。我们将要查看的大多数功能将包括填写简单的表单，这是一种有效且易于管理的界面。IPCop在使用这样的界面方面并不独特。许多设备，如Linksys、DrayTek和D-Link制造的SOHO电缆路由器，以及从思科设备到HP
    Procurve交换机等许多高端产品都有类似的设置，但很少有这些产品包含IPCop提供的所有功能和易用性。
- en: Network Interfaces
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络接口
- en: IPCop provides up to four network interfaces, each of which is usually connected
    to a separate network. This is an adequate number for most IPCop deployments as
    it is rare to have many networks converging at one point in a small to medium
    sized network, but IPCop can accommodate connections to more networks than this
    through use of Virtual Private Network (VPN). The four networks available are
    given identifying colors for ease of administration.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop提供最多四个网络接口，每个接口通常连接到一个单独的网络。对于大多数IPCop部署来说，这是足够的数量，因为在中小型网络中很少有许多网络汇聚在一个点上，但是IPCop可以通过使用虚拟专用网络（VPN）连接到更多的网络。可用的四个网络被赋予标识颜色以便于管理。
- en: The Green Network Interface
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 绿色网络接口
- en: The Green network segment of an IPCop deployment represents the *internal* network,
    and is implicitly trusted. An IPCop firewall will automatically allow all connections
    *from* the Green segment *to* all other segments.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop部署的绿色网络段代表*内部*网络，并且是隐式信任的。IPCop防火墙将自动允许所有从绿色段*到*所有其他段的连接。
- en: The Green segment is always an Ethernet Network Interface Card (NIC), and there
    is no support for any other device utilized in this capacity. A local network
    may be as simple as a small hub plugged into the Green interface, or may encompass
    several dozen switches, a layer two bridge to another site, or even a router.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 绿色段始终是以太网网络接口卡（NIC），不支持在此容量上使用任何其他设备。本地网络可能只是一个插入绿色接口的小型集线器，也可能包括几十个交换机、到另一个站点的二层桥接器，甚至是路由器。
- en: Note
  id: totrans-61
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Addressing on the Green Interface**'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '**绿色接口上的寻址**'
- en: The Green network should use a private address range (private address ranges
    can be found in RFC1918). Although it is possible to set this up with a publicly
    addressable address range, the default IPCop configuration is one in which NAT
    is used to expose only one IP address, and as such, using a public address range
    on the Green network segment would be pointless, as IPCop would treat it as if
    it were a private address range! Using IPCop as a routing firewall (rather than
    a firewall performing NAT, which is the default configuration) requires more advanced
    configuration and cannot be accomplished through the GUI.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 绿色网络应该使用私人地址范围（私人地址范围可以在RFC1918中找到）。虽然可能使用公共可寻址地址范围来设置这个，但默认的IPCop配置是使用NAT来仅暴露一个IP地址，因此，在绿色网络段使用公共地址范围将是没有意义的，因为IPCop会将其视为私人地址范围！使用IPCop作为路由防火墙（而不是执行NAT的防火墙，这是默认配置）需要更高级的配置，并且无法通过GUI完成。
- en: Typically, a network approaching this complexity would choose to segment its
    network with one or more firewalls or routers built on IPCop, another free software
    package, or a commercial package, but with adequate knowledge of networking and
    several hardware platforms, one could build a complex, secure network topology
    using IPCop.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，一个接近这种复杂性的网络会选择使用基于IPCop、另一个免费软件包或商业软件包构建的一个或多个防火墙或路由器，但是有足够的网络知识和几个硬件平台，可以使用IPCop构建一个复杂、安全的网络拓扑。
- en: The Red Network Interface
  id: totrans-65
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 红色网络接口
- en: Similar to the Green network interface, the Red network interface is always
    present. The Red network interface represents either the Internet or an untrusted
    network segment (in a larger topology).
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 与绿色网络接口类似，红色网络接口始终存在。红色网络接口代表互联网或不受信任的网络段（在更大的拓扑结构中）。
- en: The principle goal of the IPCop firewall is to protect the Green, Blue, and
    Orange segments and the networked hosts on them from traffic, users, and hosts
    on the Red segment. The Red network segment is typically well-firewalled and will
    not open a large number of ports into the internal network segments (if any at
    all). The default is none.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop防火墙的主要目标是保护绿色、蓝色和橙色段以及它们上的网络主机免受红色段上的流量、用户和主机的影响。红色网络段通常有良好的防火墙，并不会向内部网络段开放大量端口（如果有的话）。默认为无。
- en: Note
  id: totrans-68
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Addressing on the Red Interface**'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '**红色接口上的寻址**'
- en: The Red segment will almost always use a public address range, assigned by your
    Internet Service Provider. It is possible (but less common) for Internet Service
    Providers to use private address ranges for large portions of their internal networks
    and to perform NAT at the border in between their network and the Internet-exposed
    backbone.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 红色段几乎总是使用由您的互联网服务提供商分配的公共地址范围。互联网服务提供商使用私人地址范围来设置其内部网络的大部分，并在其网络和暴露在互联网上的骨干网之间执行NAT是可能的（但不太常见）。
- en: GPRS and 3G networks commonly do this, as do some cable ISPs. If in doubt, ask
    your ISP or check an existing machine or router connected to your ISP. The website
    [www.dnsstuff.com](http://www.dnsstuff.com) can be used to **WHOIS** an IP address
    to check the registration, and if you're unsure as to whether an IP address is
    *private* or *public*, this can be an excellent way to check the ownership.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: GPRS和3G网络通常会这样做，一些有线ISP也会这样做。如果有疑问，请咨询您的ISP或检查已连接到您的ISP的现有计算机或路由器。网站[www.dnsstuff.com](http://www.dnsstuff.com)可以用来**WHOIS**一个IP地址以检查注册情况，如果您不确定一个IP地址是*私有*还是*公共*，这是一个检查所有权的绝佳方式。
- en: The Red network segment is the *only* network segment on which IPCop has support
    for hardware other than an Ethernet Network Interface Card. The Red segment may
    be an Ethernet network interface allocated statically or using DHCP, it may be
    a USB ADSL modem, an ISDN card, or even a dial-up, analog modem connected to the
    Public Switched Telephone Network.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 红色网络段是IPCop支持硬件的*唯一*网络段，除了以太网网络接口卡之外。红色网络段可以是静态分配的以太网网络接口，也可以是使用DHCP分配的，也可以是USB
    ADSL调制解调器，ISDN卡，甚至是连接到公共交换电话网络的拨号模拟调制解调器。
- en: 'Other hardware interfaces that IPCop will support on this interface include:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop在这个接口上支持的其他硬件接口包括：
- en: USB and PCI ADSL Modems
  id: totrans-74
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: USB和PCI ADSL调制解调器
- en: '**DSL** is a technology that allows a broadband, high-speed internet or network
    signal to be sent over an existing copper phone line. This form of internet provision
    is extremely popular, particularly in countries with traditionally lower uptake
    of services like cable, as it requires no expensive digging up and rewiring of
    streets and premises with new wiring for cable or network infrastructure. One
    of the downsides of DSL is the comparatively short range of DSL signals, necessitating
    proximity to a telephone exchange, although this limit increases as technology
    advances.'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '**DSL**是一种技术，允许宽带、高速互联网或网络信号通过现有的铜线路发送。这种形式的互联网供应非常受欢迎，特别是在传统上对像有线这样的服务的接受程度较低的国家，因为它不需要昂贵的挖掘和重新布线街道和建筑物以安装新的电缆或网络基础设施。DSL的一个缺点是DSL信号的相对短的传输距离，需要靠近电话交换机，尽管随着技术的进步，这个限制正在增加。'
- en: IPCop will allow users with DSL services (both **SDSL** and **ADSL**) to attach
    certain brands of modem directly to the IPCop firewall. There are three principle
    ways to attach an IPCop firewall to a DSL line.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop将允许使用DSL服务（包括**SDSL**和**ADSL**）的用户直接将某些品牌的调制解调器连接到IPCop防火墙。有三种主要的方法可以将IPCop防火墙连接到DSL线路。
- en: The first of these is to attach the IPCop host to an ADSL modem via Ethernet.
    Generally the most stable way, this has the disadvantage of being more difficult
    to set up. Modems that are full-fledged routers, such as the many routers based
    around Conexant chipsets, are generally designed to act as the NAT router in a
    network themselves. These devices have either one Ethernet port (which plugs into
    a switch or hub) or several Ethernet ports (and a small built-in switch), and
    hand out private addresses (frequently in the 10.0.0.0/8 range) to clients on
    the network themselves, acting as a firewall. Connecting an IPCop host to the
    rear of one of these routers without altering the default configuration is a bad
    idea, as you are performing Network Address Translation twice.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个是通过以太网将IPCop主机连接到ADSL调制解调器。通常来说，这是最稳定的方式，但设置起来更加困难。许多基于Conexant芯片组的路由器都是完整的路由器，通常设计为在网络中充当NAT路由器。这些设备通常有一个以太网端口（插入交换机或集线器）或几个以太网端口（和一个小型内置交换机），并为网络中的客户端分配私有地址（通常在10.0.0.0/8范围内），充当防火墙。连接IPCop主机到这些路由器的后面而不更改默认配置是一个坏主意，因为这样做就相当于进行两次网络地址转换。
- en: While NAT frequently breaks protocols when performed once, performing it twice
    is almost a guaranteed way to give you networking headaches. In addition to the
    routing issues caused by essentially having two networks between you and the Internet,
    it is very hard to achieve port forwarding through these routers for protocols
    such as BitTorrent, SIP, online gaming, or incoming services like SMTP mail, as
    each port forward must be configured twice. These routers must therefore be configured
    *not* to act as NAT gateways, but instead fallback to behaving like *normal* routers.
    Without more than one IP address this is impossible, leaving home users or businesses
    without a fixed pool of IP addresses from their ISP in a conundrum if they wish
    to use IPCop!
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然NAT在执行一次时经常会破坏协议，但执行两次几乎是一种确保让您头痛的网络方式。除了由于在您和互联网之间基本上有两个网络而引起的路由问题之外，很难通过这些路由器实现诸如BitTorrent、SIP、在线游戏或传入服务（如SMTP邮件）的端口转发，因为每个端口转发必须配置两次。因此，这些路由器必须被配置为*不*充当NAT网关，而是回退到像*正常*路由器一样的行为。如果没有多个IP地址，这是不可能的，这使得家庭用户或企业如果希望使用IPCop而没有来自ISP的固定IP地址池，陷入了困境！
- en: Some ADSL routers that are Ethernet-based, therefore, have a feature referred
    to as **PPP Half Bridge**. This feature allows the device plugged in via Ethernet
    (i.e. your IPCop firewall) to get the *public* IP address from your ISP, and disables
    the router from acting as a firewall or NAT gateway. When acting in this mode,
    an ADSL router takes the IP address allocated by the ISP during authentication,
    and gives it to the first device that requests a DHCP address via DHCP. This function
    should be documented in your ADSL manual.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，一些基于以太网的ADSL路由器具有一个称为**PPP半桥**的功能。这个功能允许通过以太网（即您的IPCop防火墙）连接的设备获取来自ISP的*公共*IP地址，并禁用路由器充当防火墙或NAT网关。在这种模式下，ADSL路由器在认证期间获取到的IP地址，并通过DHCP分配给第一个请求DHCP地址的设备。这个功能应该在您的ADSL手册中有所说明。
- en: The second way to configure ADSL is using a USB ADSL modem attached directly
    to the PC or firewall. While perhaps simplest (as it requires minimal knowledge
    of networking, and no complex cabling or hardware installation), these modems
    are the cheapest, least reliable, and have the poorest performance of all three
    methods.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 配置ADSL的第二种方法是使用直接连接到PC或防火墙的USB ADSL调制解调器。虽然可能最简单（因为它需要最少的网络知识，没有复杂的布线或硬件安装），但这些调制解调器是最便宜、最不可靠的，并且在所有三种方法中性能最差。
- en: The third way to configure ADSL is using internal ADSL or SDSL cards, occupying
    one PCI slot inside a firewall, PC, or server. This is perhaps the least common
    method of configuring ADSL.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 配置ADSL的第三种方法是使用内部ADSL或SDSL卡，占据防火墙、PC或服务器内的一个PCI插槽。这可能是配置ADSL最不常见的方法。
- en: 'IPCop supports all three, to an extent: Wherever possible, the authors strongly
    recommend the use of an Ethernet ADSL modem either configured as a router using
    a static set of addresses, or (if this isn''t possible) using DHCP either natively
    or using a workaround like PPP Half Bridge. Here is a list of supported devices
    in IPCop:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop在一定程度上支持所有三种：在可能的情况下，作者强烈建议使用以太网ADSL调制解调器，配置为使用静态地址集的路由器，或者（如果这不可能）使用DHCP本地或使用类似PPP半桥的解决方案。以下是IPCop支持的设备列表：
- en: The Alcatel SpeedTouch series of USB ADSL modems
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 阿尔卡特SpeedTouch系列USB ADSL调制解调器
- en: ECI USB ADSL devices (including BT Voyager Modems, the Zoom 5510 ADSL modem,
    and several dozen other similar devices)
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ECI USB ADSL设备（包括BT Voyager调制解调器，Zoom 5510 ADSL调制解调器和其他几十种类似设备）
- en: BeWan USB/PCI ADSL modems (the ST series of USB modem, and the ST series of
    PCI modem)
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: BeWan USB/PCI ADSL调制解调器（USB调制解调器的ST系列和PCI调制解调器的ST系列）
- en: Conexant USB modems (including the Zoom 5510, DrayTek Vigor 318, and several
    others)
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Conexant USB调制解调器（包括Zoom 5510，DrayTek Vigor 318和其他几种）
- en: Conexant PCI modems
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Conexant PCI调制解调器
- en: Amedyn ADSL modems (for which the HCL lists only the Zyxel 630-11, Asus AAM6000UG
    USB)
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Amedyn ADSL调制解调器（HCL只列出了Zyxel 630-11，Asus AAM6000UG USB）
- en: The 3com 3CP4218 USB ADSL modem
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 3com 3CP4218 USB ADSL调制解调器
- en: ISDN Modems
  id: totrans-90
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ISDN调制解调器
- en: '**Integrated Services Digital Network** (**ISDN**) is a form of (slow) broadband
    internet access provision predating ADSL or Cable connections. ISDN is essentially
    a form of digital circuit telephone line. ISDN was frequently used before the
    widespread adoption of broadband via cable, DSL, and satellite, and still sees
    usage in some branch offices, for remote working, and in areas with no DSL, cable,
    or satellite availability.'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: '**综合业务数字网**（**ISDN**）是一种（慢速）宽带互联网接入方式，早于ADSL或电缆连接。 ISDN本质上是一种数字电路电话线。在广泛采用电缆、DSL和卫星宽带之前，ISDN经常被使用，并且在一些分支办公室、远程办公和没有DSL、电缆或卫星可用性的地区仍然被使用。'
- en: IPCop has support for a large number of ISDN modems (the 1.4.10 HCL lists 34).
    The full list is available on the IPCop Wiki site ([http://www.ipcop.org/modules.php?op=modload&name=phpWiki&file=index&pagename=IPCopHCLv01](http://www.ipcop.org/modules.php?op=modload&name=phpWiki&file=index&pagename=IPCopHCLv01)).
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop支持大量ISDN调制解调器（1.4.10 HCL列出了34个）。完整列表可在IPCop Wiki网站上找到（[http://www.ipcop.org/modules.php?op=modload&name=phpWiki&file=index&pagename=IPCopHCLv01](http://www.ipcop.org/modules.php?op=modload&name=phpWiki&file=index&pagename=IPCopHCLv01)）。
- en: Analog (POTS) Modems
  id: totrans-93
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 模拟（POTS）调制解调器
- en: IPCop should support any hardware analog (dial-up) modem. Hardware devices are
    generally attached via a serial port or as an ISA card.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop应该支持任何硬件模拟（拨号）调制解调器。硬件设备通常通过串行端口或作为ISA卡连接。
- en: Newer modems using the PCI interface are frequently *software* based. This means
    that a certain proportion of the modem's work is performed on the CPU of the computer
    it is attached to, by software, rather than by the modem itself.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 使用PCI接口的较新调制解调器通常是基于*软件*的。这意味着调制解调器的某一部分工作是由连接的计算机的CPU通过软件执行，而不是由调制解调器本身执行。
- en: Without device drivers that perform this work, such modems will not work, and
    as there are typically no drivers for these devices written for the Linux operating
    system, they are generally viewed as *broken* in Linux. USB modems should also
    work in IPCop.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 没有执行这项工作的设备驱动程序，这些调制解调器将无法工作，由于通常没有为Linux操作系统编写的这些设备的驱动程序，它们通常被视为在Linux中*损坏*。
    USB调制解调器也应该在IPCop中工作。
- en: The IPCop HCL lists one PCI modem that works with IPCop, the *PCI Smartlink
    5634PCV*.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop HCL列出了一个与IPCop兼容的PCI调制解调器，即*PCI Smartlink 5634PCV*。
- en: Cable and Satellite Internet
  id: totrans-98
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 电缆和卫星互联网
- en: Generally speaking, internet services via cable from providers in Europe and
    the USA provide Ethernet modems that will *just work* in IPCop as they provide
    a public, routable IP address via DHCP. Some cable providers, however, provide
    USB modems that are unlikely to work in IPCop. The same is true of satellite internet
    (that USB modems are unlikely to work in IPCop).
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，来自欧洲和美国的提供商的电缆互联网服务提供以太网调制解调器，这些调制解调器将在IPCop中*正常工作*，因为它们通过DHCP提供公共的可路由IP地址。然而，一些电缆提供商提供的USB调制解调器不太可能在IPCop中工作。卫星互联网也是如此（USB调制解调器不太可能在IPCop中工作）。
- en: The Orange Network Interface
  id: totrans-100
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 橙色网络接口
- en: The *optional* Orange network interface is designed as a **DMZ** network (see
    [http://www.firewall.cx/dmz.php](http://www.firewall.cx/dmz.php) for more information
    on DMZ firewalls). In military terminology, a DMZ (DeMiliatized Zone) is an area
    where military activity is not permitted, such as a frontier in between two distinct
    (and hostile) countries. In firewall terminology, then, the term *DMZ* takes on
    a similar meaning, as a network segment in between the internal network of an
    organization and an external network such as the Internet. In this segment, servers
    are protected from the Internet by firewalls, but segregated (as they have internet
    exposure) from internal clients that are in a more protected zone behind the front
    line.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '*可选*的橙色网络接口被设计为**DMZ**网络（有关DMZ防火墙的更多信息，请参见[http://www.firewall.cx/dmz.php](http://www.firewall.cx/dmz.php)）。在军事术语中，DMZ（非军事区）是不允许进行军事活动的地区，例如两个不同（和敌对）国家之间的边界。因此，在防火墙术语中，术语*DMZ*具有类似的含义，作为组织内部网络和互联网等外部网络之间的网络段。在这个段中，服务器受到防火墙保护，但与内部客户端隔离（因为它们有互联网暴露），后者位于更受保护的前线之后。'
- en: It is into this untrusted but segregated network that an organization will generally
    put any service designed to face the outside world, such as a web server (which
    serves outside clients for website requests), or more commonly a mail server (to
    which outside servers connect in order to deliver mail via SMTP).
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 组织通常会将任何面向外部世界的服务放入这个不受信任但隔离的网络，比如网页服务器（为网站请求提供服务的外部客户端）或者更常见的邮件服务器（外部服务器连接以通过SMTP传递邮件）。
- en: Note
  id: totrans-103
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Addressing on the Orange Interface**'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '**橙色接口的寻址**'
- en: The Orange network interface generally uses a private address range as NAT is
    performed by IPCop. As with the Green zone, a *routing* rather than *NATing* firewall
    requires advanced configuration.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 橙色网络接口通常使用私有地址范围，因为IPCop执行NAT。与绿色区域一样，*路由*而不是*NAT*的防火墙需要高级配置。
- en: For this reason, the DMZ is considered to be an untrusted network segment, second
    only to the Red network interface. Hosts on the Orange network segment *cannot*
    connect to the Green or Blue network segments—all traffic from the Orange network
    segment to these internal segments must be explicitly allowed via **DMZ pinholes**.
    Traffic from the Red network segment to the Orange segment is allowed via port
    forwarding.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，DMZ被认为是一个不受信任的网络段，仅次于红色网络接口。橙色网络段上的主机*不能*连接到绿色或蓝色网络段，所有从橙色网络段到这些内部网络段的流量必须通过**DMZ
    pinholes**显式允许。从红色网络段到橙色网络段的流量可以通过端口转发允许。
- en: Clients on the Orange network should *not*, however, use the IPCop firewall
    as a DNS or DHCP server. There are valid security reasons for this—additional
    exposure to services on the IPCop host for this segment, apart from being harder
    to configure, increases the exposure of the IPCop host to attack from the Orange
    zone, decreasing the ability to provide secure services for clients in the Green
    zone.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，橙色网络上的客户端*不应该*将IPCop防火墙作为DNS或DHCP服务器。这有其合理的安全原因——除了更难配置之外，为这个网络段上的IPCop主机提供的服务的额外暴露，会增加IPCop主机受到来自橙色区域攻击的风险，降低为绿色区域的客户提供安全服务的能力。
- en: The Blue Network Interfaces
  id: totrans-108
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 蓝色网络接口
- en: The *optional* Blue network interface is a comparatively recent addition to
    IPCop, arriving with the 1.4 release series. This network is designed specifically
    for a separate wireless segment. Hosts on the Blue segment cannot get to the Green
    network other than through specific *pinholes* in a similar manner to the Orange
    network.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: '*可选*的蓝色网络接口是IPCop相对较新的一个功能，是在1.4版本系列中引入的。这个网络专门设计用于一个独立的无线段。蓝色段上的主机除了通过类似于橙色网络的特定*pinholes*之外，无法访问绿色网络。'
- en: Note
  id: totrans-110
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Addressing on the Blue Network Segment**'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '**蓝色网络段的寻址**'
- en: The Blue network will almost always use a private address range.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 蓝色网络几乎总是使用私有地址范围。
- en: IPCop also allows for the capability to connect to the Green zone via a Virtual
    Private Network, allowing clients to fully access resources on this network segment.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop还允许通过虚拟专用网络连接到绿色区域，使客户端完全访问这个网络段上的资源。
- en: The Blue segment does not necessarily have to be a wireless segment—as the Blue
    segment is simply another network segment, and the wireless connection of hosts
    is transparent to IPCop, there is absolutely nothing stopping you from using the
    Blue segment as another subnet on your network if you are outgrowing the number
    of hosts available to you in your Green zone.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 蓝色段不一定要是无线段，因为蓝色段只是另一个网络段，主机的无线连接对于IPCop是透明的，所以如果您在绿色区域的主机数量不够用，完全可以将蓝色段用作网络的另一个子网。
- en: Using the Blue zone in this manner would also be a good way to separate hosts
    with distinct usage of the network, such as a subnet of workstations used by a
    particular group of staff, in public areas, or on a factory floor. The Blue zone
    might even be used as the default zone for a network in which the administrator
    did not want the hosts on the network to automatically have access to every resource
    on the network, as the Green zone does.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式使用蓝色区域也是分隔具有不同网络使用的主机的好方法，比如特定员工组使用的工作站子网，在公共区域或工厂车间。蓝色区域甚至可以用作网络的默认区域，管理员不希望网络上的主机自动访问网络上的每个资源，就像绿色区域一样。
- en: In such a topology, the IT staff might be allocated the Green zone in order
    to access network resources, while workstations might be kept in the Blue zone,
    with specific access to areas of the network they required.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 在这样的拓扑结构中，IT人员可能被分配到绿色区域以访问网络资源，而工作站可能被保留在蓝色区域，只能访问他们需要的网络区域。
- en: Simple Administration and Monitoring
  id: totrans-117
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 简单的管理和监控
- en: As a device that aims to be easy to use, it would not be of much use to the
    user if he or she had to reinstall each time a new version came out. It would
    also be extremely beneficial if the user didn't have to log in to the Linux console
    on the machine at any time. The IPCop developers obviously agree with this and
    therefore have a built in a simple upgrade system. This can be managed entirely
    from the web interface. If, however, the user did want to log in to the Linux
    console and make changes this could be done quite simply by using a keyboard/monitor
    attached to the machine or by using SSH from a computer on the local network (Green
    interface). SSH, for added security, is disabled by default and would have to
    be enabled before it could be used.
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一个旨在易于使用的设备，如果用户每次新版本发布都需要重新安装，那对用户来说就没有太大用处。如果用户无需在任何时候登录到机器上的Linux控制台，那将非常有益。IPCop的开发人员显然同意这一点，因此内置了一个简单的升级系统。这可以完全通过Web界面管理。然而，如果用户确实想要登录到Linux控制台并进行更改，可以通过连接到机器的键盘/显示器或者从本地网络（绿色接口）上的计算机使用SSH来简单地完成。出于安全考虑，SSH默认情况下被禁用，必须在使用之前启用。
- en: Note
  id: totrans-119
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: '**Local Console**'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: '**本地控制台**'
- en: It is quite common to run servers such as IPCop firewalls on PCs with keyboard
    and monitor detached, as they are rarely used. Although convenient, this can cause
    problems as some motherboards (and software packages) do not like keyboards and
    mice (particularly with PS/2 connectors) being hotplugged. Although monitors are
    hot-swappable (so you can disconnect and reconnect the monitor to an IPCop system
    at will), we recommend that you leave your IPCop system attached either to a keyboard
    or a KVM switch.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 在PC上运行IPCop防火墙等服务器通常会将键盘和显示器分离，因为它们很少被使用。尽管方便，但这可能会导致一些主板（和软件包）不喜欢热插拔键盘和鼠标（特别是PS/2连接器）。尽管显示器是热插拔的（因此您可以随意断开并重新连接显示器到IPCop系统），但我们建议您将IPCop系统连接到键盘或KVM开关。
- en: Another side effect of leaving the keyboard detached is that the BIOS in many
    computers will *halt* on startup and await a keypress if it does not see a keyboard
    attached. For computers that do not have keyboards attached, this behavior can
    (and really should) usually be disabled in the BIOS configuration.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 将键盘分离的另一个副作用是，许多计算机的BIOS在启动时会*停止*并等待按键，如果它没有检测到连接的键盘。对于没有连接键盘的计算机，通常可以（而且确实应该）在BIOS配置中禁用此行为。
- en: You can also back up and restore your configuration from this same interface,
    which ensures that all common administration tasks for the firewall can be managed
    very easily and more importantly without any knowledge about Linux or the bash
    shell.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: '您还可以从同一界面备份和恢复配置，这确保了防火墙的所有常见管理任务都可以非常轻松地进行管理，更重要的是，无需了解Linux或bash shell。 '
- en: With the status provided on the web interface we can see exactly how the system
    is doing. For example we can see which services are currently running on the firewall,
    memory and disk usage, as well as traffic graphs, if we have an interest in this.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 通过Web界面提供的状态，我们可以准确地了解系统的运行情况。例如，我们可以看到防火墙上当前正在运行的服务、内存和磁盘使用情况，以及流量图，如果我们对此感兴趣的话。
- en: '![Simple Administration and Monitoring](img/1361_02_02.jpg)'
  id: totrans-125
  prefs: []
  type: TYPE_IMG
  zh: '![简单的管理和监控](img/1361_02_02.jpg)'
- en: Again these features show the power of the web-based interface and why this
    particular interface was chosen. We can also quickly see important system information
    without logging in to the system with an interactive shell.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 再次，这些功能展示了基于Web的界面的强大之处，以及为什么选择了这种特定的界面。我们还可以在不登录系统的情况下快速查看重要的系统信息，而无需使用交互式shell。
- en: Logs can also be viewed using the web-based log viewer, which means you can
    keep an eye on the system quite easily with absolutely no need to log directly
    into the system. IPCop also has the ability to export these logs to a remote Syslog
    server for simplified management and log aggregation, especially if you have a
    few devices to monitor.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以使用基于Web的日志查看器查看日志，这意味着您可以轻松地监视系统，而无需直接登录系统。IPCop还具有将这些日志导出到远程Syslog服务器以简化管理和日志聚合的功能，特别是如果您有几台设备需要监视的话。
- en: Modem Settings
  id: totrans-128
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 调制解调器设置
- en: As many home users are using ISDN or ADSL modems for dial-up (including USB/ADSL
    modems), it's important that IPCop supports them. A variety of common modems are
    supported and IPCop has the functionality to have additional drivers loaded for
    modems it does not support by default, and the configuration options for these
    are fairly flexible. It's not very common for firewalls to support modems and
    drivers for them in this manner; this is one of the most unique features of IPCop
    and why it fits so well in the SOHO network.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 许多家庭用户正在使用ISDN或ADSL调制解调器进行拨号（包括USB/ADSL调制解调器），因此IPCop支持它们非常重要。IPCop支持各种常见的调制解调器，并且具有加载额外驱动程序以支持默认不支持的调制解调器的功能，这些调制解调器的配置选项相当灵活。防火墙很少支持这种方式的调制解调器和驱动程序；这是IPCop最独特的功能之一，也是它在SOHO网络中如此合适的原因之一。
- en: '![Modem Settings](img/1361_02_03.jpg)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![调制解调器设置](img/1361_02_03.jpg)'
- en: Services
  id: totrans-131
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 服务
- en: IPCop provides a variety of essential services for a small network. It's not
    strictly firewall best practice to provide such services on the same box that
    is supposed to be a network protection mechanism, but economy comes into play
    on smaller networks and it's very useful to have all the basic network services
    provided by a single machine.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop为小型网络提供了各种基本服务。严格来说，将这些服务提供在本应作为网络保护机制的设备上并不是防火墙的最佳实践，但在较小的网络中，经济因素起了作用，将所有基本网络服务由一台机器提供非常有用。
- en: Web Proxy
  id: totrans-133
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Web代理
- en: IPCop can be used as a proxy as well as a firewall. You can easily manage the
    cache and configure the proxy on the Green interface. The benefit of the defined
    interfaces becomes quite apparent here as it means a simple checkbox click is
    all that is required to set up proxying on IPCop.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop既可以用作代理，也可以用作防火墙。您可以轻松管理缓存并在绿色接口上配置代理。在这里，定义接口的好处变得非常明显，因为这意味着只需简单地点击复选框即可在IPCop上设置代理。
- en: '![Web Proxy](img/1361_02_04.jpg)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
  zh: '![Web代理](img/1361_02_04.jpg)'
- en: DHCP
  id: totrans-136
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: DHCP
- en: As a network grows, allocating network configuration to clients manually becomes
    extremely difficult, and it's fairly important to be able to automate this, as
    well as manage the use of the network addresses you use. The **Dynamic Host Configuration
    Protocol** (**DHCP**) configuration in IPCop makes it easy for you to provide
    DHCP services to the clients on the Green interface if you're unsure of how to
    do this. Doing this via DHCP simplifies client-side configuration, meaning that
    most machines will connect to the network and have internet access automatically
    without any configuration required on the host.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 随着网络的增长，手动为客户端分配网络配置变得非常困难，能够自动化这一过程以及管理所使用的网络地址非常重要。IPCop中的**动态主机配置协议**（**DHCP**）配置使您能够轻松为绿色接口上的客户端提供DHCP服务，如果您不确定如何做到这一点。通过DHCP进行这项操作简化了客户端的配置，这意味着大多数机器将自动连接到网络并自动获得互联网访问权限，而无需在主机上进行任何配置。
- en: '![DHCPservices, IPCopweb proxy](img/1361_02_05.jpg)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
  zh: '![DHCP服务，IPCopweb代理](img/1361_02_05.jpg)'
- en: Dynamic DNS
  id: totrans-139
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 动态DNS
- en: Generally speaking, internet connections for SOHO users will have a **Fully
    Qualified Domain Name** (**FQDN**) something like 31-34-43-10.some ISP.net. The
    FQDN of a computer on the Internet can be used to make connections to it—so a
    connection made to Google, for instance, goes to [www.google.com](http://www.google.com).
    For a home user, your FQDN is not a domain name like **google.com**, but instead
    a domain name used by your ISP to identify what ISP you're coming from and which
    client you are on your network, and generally make things a bit more understandable
    for humans.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 一般来说，SOHO用户的互联网连接将具有类似31-34-43-10.some ISP.net的**完全合格的域名**（**FQDN**）。互联网上计算机的FQDN可用于与其建立连接，因此，例如，对Google的连接会转到[www.google.com](http://www.google.com)。对于家庭用户，您的FQDN不是像**google.com**这样的域名，而是您的ISP用来识别您来自哪个ISP以及您在网络上是哪个客户端的域名，并且通常会使事情对人类更加可理解。
- en: While this makes sense for an ISP managing its clients, it makes connecting
    remotely to a network that has internet connectivity provided like this difficult.
    Even if you could memorize and hand out your ISP's allocated domain name, it would
    still not be a solution if you want people to be able to access services you host,
    as the IP address, and therefore the FQDN of your firewall or router would change
    from time to time.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这对于ISP管理其客户是有意义的，但对于远程连接到像这样提供互联网连接的网络却很困难。即使您可以记住并分配您的ISP分配的域名，如果您希望人们能够访问您托管的服务，这仍然不是一个解决方案，因为防火墙或路由器的IP地址，因此FQDN会不时更改。
- en: Therefore, many networks use **Dynamic DNS**. Using a dynamic DNS system, a
    small piece of software running on a firewall or client attached to the Internet
    will update a server on the Internet (a dynamic DNS server) with your IP address,
    and redirect a fixed hostname (such as yourname.dynamicdnsprovider.com) to whatever
    your IP address is at present. If you connect to an IPSec VPN, or another service
    such as HTTP, VNC, or a terminal service, or if clients connect to you remotely
    using these protocols, the connections can be made to this dynamic DNS hostname,
    and will seamlessly go to the IP updated with the dynamic DNS server.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，许多网络使用**动态DNS**。使用动态DNS系统，运行在连接到互联网的防火墙或客户端上的小型软件将更新互联网上的服务器（动态DNS服务器）与您的IP地址，并将固定的主机名（例如yourname.dynamicdnsprovider.com）重定向到当前的IP地址。如果您连接到IPSec
    VPN，或者其他服务，如HTTP，VNC或终端服务，或者如果客户端使用这些协议远程连接到您，连接可以建立到这个动态DNS主机名，并且将无缝地转到与动态DNS服务器更新的IP。
- en: '![Dynamic DNSservices, IPCopDHCP](img/1361_02_06.jpg)'
  id: totrans-143
  prefs: []
  type: TYPE_IMG
  zh: '![动态DNS服务，IPCopDHCP](img/1361_02_06.jpg)'
- en: Since these services require constantly updating a server with your current
    IP address in order to keep the DNS working, use of dynamic DNS requires a computer
    or other device running software constantly talking to a Dynamic DNS Provider.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 由于这些服务需要不断更新服务器以保持DNS工作的当前IP地址，因此使用动态DNS需要运行软件并不断与动态DNS提供商通信的计算机或其他设备。
- en: Dynamic DNS is a feature not commonly found in larger firewall products and
    certainly isn't common in most low-end home routers.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 动态DNS是一个在较大的防火墙产品中并不常见的功能，而且在大多数低端家用路由器中也并不常见。
- en: '![Dynamic DNSservices, IPCopDHCP](img/1361_02_07.jpg)'
  id: totrans-146
  prefs: []
  type: TYPE_IMG
  zh: '![动态DNS服务，IPCopDHCP](img/1361_02_07.jpg)'
- en: Time Server
  id: totrans-147
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 时间服务器
- en: Hosts on the network commonly need to be configured to keep the same time, whether
    this is because of authentication mechanisms such as Kerberos or merely for convenience.
    IPCop provides the **Network Time Protocol** (**NTP**) service, which can be used
    to keep all clients on the network synchronized.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 网络上的主机通常需要配置为保持相同的时间，无论是因为身份验证机制（如Kerberos）还是仅仅为了方便。 IPCop提供了**网络时间协议**（**NTP**）服务，可用于使网络上的所有客户端保持同步。
- en: Using NTP, the IPCop server connects to an NTP timeserver on the Internet, from
    which it ascertains the correct time. It then keeps this internally using the
    computer's clock, and acts as an NTP server for clients within the network. By
    regularly updating from an upstream NTP server, the IPCop box can ensure that
    the time is kept to a reasonable degree of accuracy.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 使用NTP，IPCop服务器连接到互联网上的NTP时间服务器，从中确定正确的时间。然后使用计算机的时钟在内部保持这个时间，并作为网络内的客户端的NTP服务器。通过定期从上游NTP服务器更新，IPCop盒可以确保时间保持在合理的准确度范围内。
- en: By updating from a local source, rather than having every local client update
    from an external time source, you keep clients accurate to each other (so even
    if the time isn't strictly accurate, you know all of your local clients keep approximately
    the same time, important for things like log auditing and Kerberos). Most importantly,
    it also reduces the load on NTP servers, which are providing you with a free service!
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 通过从本地源更新，而不是让每个本地客户端从外部时间源更新，您可以使客户端相互保持准确（因此即使时间不是严格准确，您也知道所有本地客户端保持大致相同的时间，这对于日志审计和Kerberos等重要）。最重要的是，它还减少了NTP服务器的负载，这些服务器为您提供免费服务！
- en: 'Information on how to configure client operating systems to talk to an NTP
    server can be found here:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 有关如何配置客户端操作系统与NTP服务器通信的信息可以在这里找到：
- en: 'Windows: [http://www.boulder.nist.gov/timefreq/service/pdf/win2000xp.pdf](http://www.boulder.nist.gov/timefreq/service/pdf/win2000xp.pdf)'
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows：[http://www.boulder.nist.gov/timefreq/service/pdf/win2000xp.pdf](http://www.boulder.nist.gov/timefreq/service/pdf/win2000xp.pdf)
- en: 'Linux: [http://Linuxreviews.org/howtos/ntp/](http://Linuxreviews.org/howtos/ntp/)'
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linux：[http://Linuxreviews.org/howtos/ntp/](http://Linuxreviews.org/howtos/ntp/)
- en: 'OS X: Select **System Preferences**, and **Use Network Time**'
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: OS X：选择**系统偏好设置**，然后**使用网络时间**
- en: '![Time Serverservices, IPCopdynamic DNS, settings](img/1361_02_08.jpg)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
  zh: '![时间服务器服务，IPCop动态DNS，设置](img/1361_02_08.jpg)'
- en: Advanced Network Services
  id: totrans-156
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 高级网络服务
- en: Traffic shaping and intrusion detection are quite advanced network services
    that we wouldn't expect to see in most SOHO devices. IPCop not only provides these,
    but also makes them very easy to manage, and as we look at configuring IPCop,
    we will see exactly how easily these quite complicated systems can be maintained.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 流量整形和入侵检测是相当先进的网络服务，我们不太希望在大多数SOHO设备中看到。IPCop不仅提供了这些功能，而且使它们非常易于管理，当我们开始配置IPCop时，我们将看到这些相当复杂的系统如何被轻松维护。
- en: '![Advanced Network Services](img/1361_02_09.jpg)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
  zh: '![高级网络服务](img/1361_02_09.jpg)'
- en: Port Forwarding
  id: totrans-159
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 端口转发
- en: This is a feature that is quite common in a firewall from SOHO to large enterprises.
    The benefits of IPCop here are twofold. Firstly, we don't have any limitations
    on the number of forwardings we can add and secondly it is very easy to set up.
    With some SOHO devices not only do we have limitations on the number of ports
    we can forward, but we also often find very complicated configurations surrounding
    it. Enterprise systems are complicated by nature and in this particular feature
    the complication is exacerbated.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 这是一个在从SOHO到大型企业的防火墙中非常常见的功能。IPCop的好处有两个。首先，我们没有任何限制可以添加的转发数量，其次设置非常容易。对于一些SOHO设备，我们不仅在可以转发的端口数量上有限制，而且通常还会发现围绕它的非常复杂的配置。企业系统本质上是复杂的，在这个特定功能中，复杂性被加剧。
- en: '![Port Forwarding](img/1361_02_10.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![端口转发](img/1361_02_10.jpg)'
- en: As we can see, the IPCop firewall appears to the client to be both a mail server
    *and* a web server, but connections to ports 25 and 80 in this example configuration
    are in fact forwarded to the servers configured in the port forwarding menu. These
    servers in an IPCop configuration would probably be in the Orange zone.
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们所看到的，IPCop防火墙对客户端来说既是邮件服务器，又是Web服务器，但在这个示例配置中，端口25和80的连接实际上被转发到端口转发菜单中配置的服务器。在IPCop配置中，这些服务器可能位于橙色区域。
- en: '![Port Forwarding](img/1361_02_11.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![端口转发](img/1361_02_11.jpg)'
- en: Virtual Private Networking
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 虚拟私人网络
- en: This gives you the ability to join to more networks across the Internet with
    a (virtually) private link. This is one of the main features of IPCop, which means
    it can also be used in a medium-sized business and not just a SOHO network. The
    ins and outs of the IPCop VPN implementation are thoroughly discussed in a later
    chapter.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 这使您能够通过（虚拟）私人链接加入更多的互联网网络。这是IPCop的主要功能之一，这意味着它不仅可以用于SOHO网络，还可以用于中型企业。IPCop VPN实现的细节将在后面的章节中进行彻底讨论。
- en: '![Virtual Private Networking](img/1361_02_12.jpg)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![虚拟私人网络](img/1361_02_12.jpg)'
- en: ProPolice Stack Protection
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: ProPolice堆栈保护
- en: IPCop has been built to use ProPolice, which is a mechanism used to protect
    the services running on the firewall from being attacked via the Internet. The
    stack protection provided by ProPolice is a fairly effective mechanism to prevent
    a particular kind of vulnerability common in network services.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: IPCop已经构建为使用ProPolice，这是一种机制，用于保护防火墙上运行的服务免受通过互联网进行攻击。ProPolice提供的堆栈保护是一种相当有效的机制，可以防止网络服务中常见的一种特定类型的漏洞。
- en: Why IPCop?
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么选择IPCop？
- en: When evaluating IPCop for use within our environment, we should look at the
    functionality it provides, which is evident from the feature list that we have
    just seen. Then, we need to determine if it will be the most effective solution
    for our network. Generally for a small to medium sized network IPCop is extremely
    beneficial and can simplify network administration greatly. However, for very
    large networks where we have a variety of segments all interconnecting with varying
    mechanisms we may find IPCop inadequate. It's important to figure out how exactly
    our network will fit together and then choose IPCop if there is a role it could
    fit in to. For the SOHO network this may be a very simple topology and may require
    little thought. In a larger network IPCop may have scope for deployment in specific
    roles within the infrastructure, for example as the gateway device of key remote
    networks, such as branch offices.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在评估IPCop在我们环境中的使用时，我们应该看一下它提供的功能，这可以从我们刚刚看到的功能列表中看出。然后，我们需要确定它是否将是我们网络的最有效解决方案。通常对于中小型网络来说，IPCop非常有益，并且可以极大地简化网络管理。然而，对于非常大型的网络，我们可能会发现IPCop不够。重要的是要弄清楚我们的网络将如何组合在一起，然后选择IPCop，如果有它可以适应的角色。对于SOHO网络来说，这可能是一个非常简单的拓扑结构，可能需要很少的思考。在较大的网络中，IPCop可能在基础设施内的特定角色中有部署的空间，例如作为关键远程网络的网关设备，如分支办公室。
- en: Summary
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter we had a look at the feature-set available in IPCop. We have
    an idea of what exactly IPCop can do, and combined with the knowledge of the previous
    chapter, we know how it stacks up as a firewall. We now also have an idea of the
    situations in which IPCop could be useful and what we will need to understand
    in order to use it. Some of the screenshots may look a little bit complicated
    at this point, if we are new to any of the topics. As we go through these functions,
    everything will be explained so that we understand each option fully and know
    whether we need to configure that particular area and how exactly we would want
    it set up. For those more familiar with the technologies this may have served
    to give an overview of how some of the features work within IPCop.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们看了一下IPCop中可用的功能集。我们对IPCop究竟能做什么有了一个概念，并且结合上一章的知识，我们知道它作为防火墙的表现如何。我们现在也对IPCop可能有用的情况有了一个概念，以及我们需要理解什么才能使用它。如果我们对任何主题都是新手，一些截图可能看起来有点复杂。当我们逐步了解这些功能时，一切都会被解释清楚，以便我们充分理解每个选项，并知道我们是否需要配置特定区域以及我们希望如何设置它。对于那些对技术更熟悉的人来说，这可能已经为他们提供了IPCop中一些功能如何工作的概述。

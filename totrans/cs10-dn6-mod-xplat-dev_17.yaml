- en: '17'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '17'
- en: Building User Interfaces Using Blazor
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Blazor构建用户界面
- en: This chapter is about using Blazor to build user interfaces. I will describe
    the different flavors of Blazor and their pros and cons.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了使用Blazor构建用户界面。我将描述Blazor的不同版本及其优缺点。
- en: You will learn how to build Blazor components that can execute their code on
    the web server or in the web browser. When hosted with Blazor Server, it uses
    SignalR to communicate needed updates to the user interface in the browser. When
    hosted with Blazor WebAssembly, the components execute their code in the client
    and must make HTTP calls to interact with the server.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 您将学习如何构建可以在Web服务器上或Web浏览器中执行其代码的Blazor组件。当使用Blazor Server托管时，它使用SignalR将所需的更新传达到浏览器中的用户界面。当使用Blazor
    WebAssembly托管时，组件在客户端中执行其代码，并必须进行HTTP调用以与服务器交互。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Understanding Blazor
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解Blazor
- en: Comparing Blazor project templates
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 比较Blazor项目模板
- en: Building components using Blazor Server
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Blazor Server构建组件
- en: Abstracting a service for a Blazor component
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为Blazor组件抽象服务
- en: Building components using Blazor WebAssembly
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Blazor WebAssembly构建组件
- en: Improving Blazor WebAssembly apps
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 改进Blazor WebAssembly应用程序
- en: Understanding Blazor
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 理解Blazor
- en: Blazor lets you build shared components and interactive web user interfaces
    using C# instead of JavaScript. In April 2019, Microsoft announced that Blazor
    "is no longer experimental and we are committing to ship it as a supported web
    UI framework, including support for running client side in the browser on WebAssembly."
    Blazor is supported on all modern browsers.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: Blazor允许您使用C#而不是JavaScript构建共享组件和交互式Web用户界面。2019年4月，微软宣布Blazor“不再是实验性的，我们承诺将其作为受支持的Web
    UI框架进行发布，包括在WebAssembly上在浏览器中运行客户端的支持。” Blazor在所有现代浏览器上都受支持。
- en: JavaScript and friends
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: JavaScript和朋友
- en: Traditionally, any code that needs to execute in a web browser is written using
    the JavaScript programming language or a higher-level technology that **transpiles**
    (transforms or compiles) into JavaScript. This is because all browsers have supported
    JavaScript for about two decades, so it has become the lowest common denominator
    for implementing business logic on the client side.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 传统上，需要在Web浏览器中执行的任何代码都是使用JavaScript编程语言编写的，或者使用**转译**（转换或编译）为JavaScript的更高级技术。这是因为所有浏览器在大约二十年的时间里都支持JavaScript，因此它已成为在客户端实现业务逻辑的最低公共分母。
- en: JavaScript does have some issues, however. Although it has superficial similarities
    to C-style languages like C# and Java, it is actually very different once you
    dig beneath the surface. It is a dynamically typed pseudo-functional language
    that uses prototypes instead of class inheritance for object reuse. It might look
    human, but you will get a surprise when it's revealed to actually be a Skrull.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，JavaScript确实存在一些问题。尽管它与C#和Java等C风格语言有表面上的相似之处，但一旦深入挖掘，它实际上是非常不同的。它是一种动态类型的伪函数式语言，使用原型而不是类继承来实现对象重用。它可能看起来像人类，但当它被揭示为斯克鲁尔时，你会感到惊讶。
- en: Wouldn't it be great if we could use the same language and libraries in a web
    browser as we do on the server side?
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们能在Web浏览器中使用与服务器端相同的语言和库，那不是很好吗？
- en: Silverlight – C# and .NET using a plugin
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Silverlight - 使用插件的C#和.NET
- en: Microsoft made a previous attempt at achieving this goal with a technology named
    Silverlight. When Silverlight 2.0 was released in 2008, a C# and .NET developer
    could use their skills to build libraries and visual components that were executed
    in the web browser by the Silverlight plugin.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 微软曾尝试使用一种名为Silverlight的技术来实现这一目标。当Silverlight 2.0于2008年发布时，C#和.NET开发人员可以利用他们的技能构建在Web浏览器中由Silverlight插件执行的库和可视组件。
- en: By 2011 and Silverlight 5.0, Apple's success with the iPhone and Steve Jobs'
    hatred of browser plugins like Flash eventually led to Microsoft abandoning Silverlight
    since, like Flash, Silverlight is banned from iPhones and iPads.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 到2011年和Silverlight 5.0，苹果在iPhone上取得了成功，史蒂夫·乔布斯对Flash等浏览器插件的厌恶最终导致微软放弃了Silverlight，因为与Flash一样，Silverlight在iPhone和iPad上被禁止使用。
- en: WebAssembly – a target for Blazor
  id: totrans-20
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: WebAssembly - Blazor的目标
- en: 'A recent development in browsers has given Microsoft the opportunity to make
    another attempt. In 2017, the **WebAssembly Consensus** was completed, and all
    major browsers now support it: Chromium (Chrome, Edge, Opera, Brave), Firefox,
    and WebKit (Safari). Blazor is not supported by Microsoft''s Internet Explorer
    because it is a legacy web browser.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 浏览器的最新发展为微软提供了另一次尝试的机会。2017年，**WebAssembly共识**完成，所有主要浏览器现在都支持它：Chromium（Chrome，Edge，Opera，Brave），Firefox和WebKit（Safari）。Blazor不受微软的Internet
    Explorer支持，因为它是一个传统的Web浏览器。
- en: '**WebAssembly** (**Wasm** ) is a binary instruction format for a virtual machine
    that provides a way to run code written in multiple languages on the web at near-native
    speed. Wasm is designed as a portable target for the compilation of high-level
    languages like C#.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '**WebAssembly**（**Wasm**）是用于虚拟机的二进制指令格式，它提供了一种在Web上以接近本机速度运行多种语言编写的代码的方法。Wasm被设计为高级语言（如C#）编译的可移植目标。'
- en: Understanding Blazor hosting models
  id: totrans-23
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解Blazor托管模型
- en: 'Blazor is a single programming or app model with multiple hosting models:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Blazor是一个单一的编程或应用模型，具有多个托管模型：
- en: '**Blazor Server** runs on the server side, so the C# code that you write has
    full access to all resources that your business logic might need without needing
    to authenticate. It then uses SignalR to communicate user interface updates to
    the client side.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Blazor Server**在服务器端运行，因此您编写的C#代码可以完全访问业务逻辑可能需要的所有资源，而无需进行身份验证。然后，它使用SignalR将用户界面更新传达到客户端。'
- en: The server must keep a live SignalR connection to each client and track the
    current state of every client, so Blazor Server does not scale well if you need
    to support lots of clients. It first shipped as part of ASP.NET Core 3.0 in September
    2019 and is included with .NET 5.0 and later.
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务器必须保持与每个客户端的实时SignalR连接，并跟踪每个客户端的当前状态，因此如果需要支持大量客户端，Blazor Server的扩展性就不太好。它首次作为ASP.NET
    Core 3.0的一部分于2019年9月发布，并包含在.NET 5.0及以后的版本中。
- en: '**Blazor WebAssembly** runs on the client side, so the C# code that you write
    only has access to resources in the browser and it must make HTTP calls (that
    might require authentication) before it can access resources on the server. It
    first shipped as an extension to ASP.NET Core 3.1 in May 2020 and was versioned
    3.2 because it is a Current release and therefore not covered by ASP.NET Core
    3.1''s Long Term Support. The Blazor WebAssembly 3.2 version used the Mono runtime
    and Mono libraries; .NET 5 and later versions use the Mono runtime and the .NET
    5 libraries. "*Blazor WebAssembly runs on a .NET IL interpreter without any JIT
    so it''s not going to win any speed competitions. We have made some significant
    speed improvements though in .NET 5, and we expect to improve things further for
    .NET 6.* "—Daniel Roth'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Blazor WebAssembly** 在客户端运行，因此您编写的 C# 代码只能访问浏览器中的资源，并且必须在访问服务器上的资源之前进行 HTTP
    调用（可能需要身份验证）。它最初是作为 ASP.NET Core 3.1 的扩展于 2020 年 5 月发布的，并且被版本化为 3.2，因为它是一个当前版本，因此不受
    ASP.NET Core 3.1 的长期支持的覆盖。Blazor WebAssembly 3.2 版本使用了 Mono 运行时和 Mono 库；.NET 5
    及更高版本使用了 Mono 运行时和 .NET 5 库。"*Blazor WebAssembly 在 .NET IL 解释器上运行，没有任何 JIT，因此不会赢得任何速度比赛。不过，在
    .NET 5 中我们已经做了一些重大的速度改进，我们期望在 .NET 6 中进一步改进。*"—Daniel Roth'
- en: '**.NET MAUI Blazor App** , aka **Blazor Hybrid** , runs in the .NET process,
    renders its web UI to a web view control using a local interop channel, and is
    hosted in a .NET MAUI app. It is conceptually like Electron apps that use Node.js.
    We will see this hosting model in online chapter, *Chapter 19* , *Building Mobile
    and Desktop Apps Using .NET MAUI* (available at [https://github.com/markjprice/cs10dotnet6/blob/main/9781801077361_Bonus_Content.pdf](https://github.com/markjprice/cs10dotnet6/blob/main/9781801077361_Bonus_Content.pdf)
    ) .'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**.NET MAUI Blazor App**，又名 **Blazor Hybrid**，在 .NET 进程中运行，使用本地互操作通道将其 Web
    UI 渲染到 Web 视图控件，并托管在 .NET MAUI 应用程序中。这在概念上类似于使用 Node.js 的 Electron 应用程序。我们将在在线章节
    *第 19 章* *使用 .NET MAUI 构建移动和桌面应用程序* 中看到这种托管模型（可在 [https://github.com/markjprice/cs10dotnet6/blob/main/9781801077361_Bonus_Content.pdf](https://github.com/markjprice/cs10dotnet6/blob/main/9781801077361_Bonus_Content.pdf)
    上找到）。'
- en: This multi-host model means that, with careful planning, a developer can write
    Blazor components once, and then run them on the web server side, web client side,
    or within a desktop app.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 这种多主机模型意味着，通过仔细规划，开发人员可以编写一次 Blazor 组件，然后在 Web 服务器端、Web 客户端端或桌面应用程序中运行它们。
- en: Although Blazor Server is supported on Internet Explorer 11, Blazor WebAssembly
    is not.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管 Blazor Server 支持 Internet Explorer 11，但 Blazor WebAssembly 不支持。
- en: Blazor WebAssembly has optional support for **Progressive Web Apps** (**PWAs**
    ), meaning a website visitor can use a browser menu to add the app to their desktop
    and run the app offline.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: Blazor WebAssembly 可选支持 **渐进式 Web 应用程序**（**PWA**），这意味着网站访问者可以使用浏览器菜单将应用程序添加到其桌面并在离线状态下运行应用程序。
- en: Understanding Blazor components
  id: totrans-32
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 理解 Blazor 组件
- en: It is important to understand that Blazor is used to create **user interface
    components** . Components define how to render the user interface, react to user
    events, and can be composed and nested, and compiled into a NuGet Razor class
    library for packaging and distribution.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要理解 Blazor 用于创建 **用户界面组件**。组件定义了如何渲染用户界面，如何响应用户事件，并且可以被组合和嵌套，并编译成 NuGet
    Razor 类库以进行打包和分发。
- en: 'For example, you might create a component named `Rating.razor` , as shown in
    the following markup:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，您可以创建一个名为 `Rating.razor` 的组件，如下面的标记所示：
- en: '```cs'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <div
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: <div
- en: '>'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@for (int'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '@for (int'
- en: i = 0
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: i = 0
- en: ; i < Maximum; i++)
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: ; i < Maximum; i++)
- en: '{'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: if
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 如果
- en: (i < Value)
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: （i < 值）
- en: '{'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: <span
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: <span
- en: class
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: ="oi oi-star-filled"
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ="oi oi-star-filled"
- en: />
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '}'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: else
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 否则
- en: '{'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: <span
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: <span
- en: class
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: ="oi oi-star-empty"
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: ="oi oi-star-empty"
- en: />
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '}'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: </div
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: </div
- en: '>'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@code {'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: '[Parameter'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: byte
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 字节
- en: Maximum { get
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 最大 { get
- en: ; set
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: ; set
- en: ; }
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: ; }
- en: '[Parameter'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: byte
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 字节
- en: Value { get
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 值 { get
- en: ; set
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: ; set
- en: ; }
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: ; }
- en: '}'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Instead of a single file with both markup and an `@code` block, the code can
    be stored in a separate code-behind file named `Rating.razor.cs` . The class in
    this file must be `partial` and have the same name as the component.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 代码可以存储在名为 `Rating.razor.cs` 的单独的代码后台文件中，而不是在一个包含标记和 `@code` 块的单个文件中。此文件中的类必须是
    `partial`，并且与组件的名称相同。
- en: 'You could then use the component on a web page, as shown in the following markup:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，您可以在网页上使用组件，如下面的标记所示：
- en: '```cs'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: h1
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: h1
- en: '>'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Review</
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 回顾</
- en: h1
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: h1
- en: '>'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: Rating
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 评分
- en: id
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: id
- en: '='
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"rating"'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: '"rating"'
- en: Maximum
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 最大
- en: '='
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"5"'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '"5"'
- en: Value
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 值
- en: '='
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"3"'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '"3"'
- en: />
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: textarea
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: textarea
- en: id
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: id
- en: '='
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"comment"'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '"comment"'
- en: />
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '```'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: There are many built-in Blazor components, including ones to set elements like
    `<title>` in the `<head>` section of a web page, and plenty of third parties who
    will sell you components for common purposes.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多内置的 Blazor 组件，包括用于在网页的 `<head>` 部分中设置 `<title>` 等元素的组件，以及许多第三方公司出售用于常见目的的组件。
- en: In the future, Blazor might not be limited to only creating user interface components
    using web technologies. Microsoft has an experimental technology known as **Blazor
    Mobile Bindings** that allows developers to use Blazor to build mobile user interface
    components. Instead of using HTML and CSS to build a web user interface, it uses
    XAML and .NET MAUI to build a cross-platform graphical user interface.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 将来，Blazor 可能不仅限于使用 Web 技术创建用户界面组件。微软有一项名为 **Blazor Mobile Bindings** 的实验性技术，允许开发人员使用
    Blazor 构建移动用户界面组件。它不使用 HTML 和 CSS 来构建 Web 用户界面，而是使用 XAML 和 .NET MAUI 来构建跨平台图形用户界面。
- en: What is the difference between Blazor and Razor?
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Blazor 和 Razor 有什么区别？
- en: You might wonder why Blazor components use `.razor` as their file extension.
    Razor is a template markup syntax that allows the mixing of HTML and C#. Older
    technologies that support Razor syntax use the `.cshtml` file extension to indicate
    the mix of C# and HTML.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能想知道为什么 Blazor 组件使用 `.razor` 作为文件扩展名。Razor 是一种模板标记语法，允许混合 HTML 和 C#。支持 Razor
    语法的旧技术使用 `.cshtml` 文件扩展名来指示 C# 和 HTML 的混合。
- en: 'Razor syntax is used for:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: Razor 语法用于：
- en: ASP.NET Core MVC **views** and **partial views** that use the `.cshtml` file
    extension. The business logic is separated into a controller class that treats
    the view as a template to push the view model to, which then outputs it to a web
    page.
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ASP.NET Core MVC **视图** 和 **部分视图** 使用 `.cshtml` 文件扩展名。业务逻辑分离到一个控制器类中，该类将视图视为一个模板，然后将视图模型推送到该模板，然后将其输出到一个网页。
- en: '**Razor Pages** that use the `.cshtml` file extension. The business logic can
    be embedded or separated into a file that uses the `.cshtml.cs` file extension.
    The output is a web page.'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Razor Pages** 使用 `.cshtml` 文件扩展名。业务逻辑可以嵌入或分离到使用 `.cshtml.cs` 文件扩展名的文件中。输出是一个网页。'
- en: '**Blazor components** that use the `.razor` file extension. The output is not
    a web page, although layouts can be used to wrap a component so it outputs as
    a web page, and the `@page` directive can be used to assign a route that defines
    the URL path to retrieve the component as a page.'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Blazor 组件** 使用 `.razor` 文件扩展名。输出不是网页，尽管可以使用布局将组件包装起来，使其输出为网页，并且可以使用 `@page`
    指令来分配一个路由，定义检索组件作为页面的 URL 路径。'
- en: Comparing Blazor project templates
  id: totrans-113
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 比较 Blazor 项目模板
- en: One way to understand the choice between the Blazor Server and Blazor WebAssembly
    hosting models is to review the differences in their default project templates.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 了解选择 Blazor Server 和 Blazor WebAssembly 托管模型之间的选择的一种方法是查看它们默认项目模板中的差异。
- en: Reviewing the Blazor Server project template
  id: totrans-115
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 审查 Blazor Server 项目模板
- en: 'Let us look at the default template for a Blazor Server project. Mostly you
    will see that it is the same as an ASP.NET Core Razor Pages template, with a few
    key additions:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看 Blazor Server 项目的默认模板。大多数情况下，您会发现它与 ASP.NET Core Razor Pages 模板相同，只是增加了一些关键内容：
- en: 'Use your preferred code editor to add a new project, as defined in the following
    list:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您喜欢的代码编辑器添加一个新项目，如下列表所示：
- en: 'Project template: **Blazor Server App** / `blazorserver`'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 项目模板：**Blazor Server App** / `blazorserver`
- en: 'Workspace/solution file and folder: `PracticalApps`'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作区/解决方案文件和文件夹：`PracticalApps`
- en: 'Project file and folder: `Northwind.BlazorServer`'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 项目文件和文件夹：`Northwind.BlazorServer`
- en: 'Other Visual Studio options: **Authentication Type** : **None** ; **Configure
    for HTTPS** : selected; **Enable Docker** : cleared'
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 其他 Visual Studio 选项：**身份验证类型**：**无**；**配置 HTTPS**：已选中；**启用 Docker**：已清除
- en: In Visual Studio Code, select `Northwind.BlazorServer` as the active OmniSharp
    project.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Visual Studio Code 中，选择 `Northwind.BlazorServer` 作为活动的 OmniSharp 项目。
- en: Build the `Northwind.BlazorServer` project.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建 `Northwind.BlazorServer` 项目。
- en: In the `Northwind.BlazorServer` project/folder, open `Northwind.BlazorServer.csproj`
    and note that it is identical to an ASP.NET Core project that uses the Web SDK
    and targets .NET 6.0.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `Northwind.BlazorServer` 项目/文件夹中，打开 `Northwind.BlazorServer.csproj`，注意它与使用
    Web SDK 并针对 .NET 6.0 的 ASP.NET Core 项目相同。
- en: 'Open `Program.cs` , and note it is almost identical to an ASP.NET Core project.
    Differences include the section that configures services, with its call to the
    `AddServerSideBlazor` method, as shown highlighted in the following code:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开 `Program.cs`，注意它几乎与 ASP.NET Core 项目相同。不同之处包括配置服务的部分，其中调用 `AddServerSideBlazor`
    方法，如下面的代码中所示：
- en: '```cs'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: builder.Services.AddRazorPages();
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: builder.Services.AddRazorPages();
- en: '**builder.Services.AddServerSideBlazor();**'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '**builder.Services.AddServerSideBlazor();**'
- en: builder.Services.AddSingleton<WeatherForecastService>();
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: builder.Services.AddSingleton<WeatherForecastService>();
- en: '```'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'Also note the section for configuring the HTTP pipeline, which adds the calls
    to the `MapBlazorHub` and `MapFallbackToPage` methods that configure the ASP.NET
    Core app to accept incoming SignalR connections for Blazor components, while other
    requests fall back to a Razor Page named `_Host.cshtml` , as shown highlighted
    in the following code:'
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 还要注意配置 HTTP 管道的部分，其中添加了对 `MapBlazorHub` 和 `MapFallbackToPage` 方法的调用，这些方法配置 ASP.NET
    Core 应用程序接受 Blazor 组件的传入 SignalR 连接，而其他请求则回退到名为 `_Host.cshtml` 的 Razor Page，如下面的代码所示：
- en: '```cs'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: app.UseRouting();
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: app.UseRouting();
- en: '**app.MapBlazorHub();**'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: '**app.MapBlazorHub();**'
- en: '**app.MapFallbackToPage(**'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: '**app.MapFallbackToPage(**'
- en: '**"/_Host"**'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**"/_Host"**'
- en: '**);**'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '**);**'
- en: app.Run();
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: app.Run();
- en: '```'
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Pages` folder, open `_Host.cshtml` and note that it sets a shared layout
    named `_Layout` and renders a Blazor component of type `App` that is prerendered
    on the server, as shown in the following markup:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `Pages` 文件夹中，打开 `_Host.cshtml`，注意它设置了一个名为 `_Layout` 的共享布局，并呈现了一个类型为 `App`
    的 Blazor 组件，该组件在服务器上进行了预呈现，如下面的标记所示：
- en: '```cs'
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/"'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/"'
- en: '@namespace  Northwind.BlazorServer.Pages'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: '@namespace  Northwind.BlazorServer.Pages'
- en: '@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers'
- en: '@{'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: '@{'
- en: Layout = "_Layout"
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: Layout = "_Layout"
- en: ;
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: '}'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: <
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: component
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: component
- en: type
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: type
- en: '='
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"typeof(App)"'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: '"typeof(App)"'
- en: render-mode
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: render-mode
- en: '='
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"ServerPrerendered"'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: '"ServerPrerendered"'
- en: />
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '```'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Pages` folder, open the shared layout file named `_Layout.cshtml` ,
    as shown in the following markup:'
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `Pages` 文件夹中，打开名为 `_Layout.cshtml` 的共享布局文件，如下面的标记所示：
- en: '```cs'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@using Microsoft.AspNetCore.Components.Web'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: '@using Microsoft.AspNetCore.Components.Web'
- en: '@namespace Northwind.BlazorServer.Pages'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '@namespace Northwind.BlazorServer.Pages'
- en: '@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers'
- en: <!DOCTYPE
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: <!DOCTYPE
- en: html
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: html
- en: '>'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: html
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: html
- en: lang
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: lang
- en: '='
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"en"'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '"en"'
- en: '>'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: head
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: head
- en: '>'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: meta
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: meta
- en: charset
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: charset
- en: '='
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"utf-8"'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: '"utf-8"'
- en: />
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: meta
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: meta
- en: name
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: name
- en: '='
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"viewport"'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: '"viewport"'
- en: content
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: content
- en: '='
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"width=device-width, initial-scale=1.0"'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: '"width=device-width, initial-scale=1.0"'
- en: />
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: base
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: base
- en: href
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"~/"'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: '"~/"'
- en: />
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: link
- en: rel
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: rel
- en: '='
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"stylesheet"'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: '"stylesheet"'
- en: href
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"css/bootstrap/bootstrap.min.css"'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: '"css/bootstrap/bootstrap.min.css"'
- en: />
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: link
- en: href
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"css/site.css"'
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: '"css/site.css"'
- en: rel
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: rel
- en: '='
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"stylesheet"'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: '"stylesheet"'
- en: />
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: link
- en: href
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"Northwind.BlazorServer.styles.css"'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: '"Northwind.BlazorServer.styles.css"'
- en: rel
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: rel
- en: '='
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"stylesheet"'
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: '"stylesheet"'
- en: />
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: component
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: component
- en: type
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: type
- en: '='
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"typeof(HeadOutlet)"'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '"typeof(HeadOutlet)"'
- en: render-mode
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: render-mode
- en: '='
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"ServerPrerendered"'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '"ServerPrerendered"'
- en: />
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: head
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: head
- en: '>'
  id: totrans-235
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: body
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: body
- en: '>'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@RenderBody()'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: '@RenderBody()'
- en: <
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: id
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: id
- en: '='
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"blazor-error-ui"'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: '"blazor-error-ui"'
- en: '>'
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: environment
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: environment
- en: include
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: include
- en: '='
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"Staging,Production"'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: '"Staging,Production"'
- en: '>'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: An error has occurred. This application may no longer respond until reloaded.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 发生了错误。该应用程序可能不再响应，直到重新加载。
- en: </
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: environment
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: environment
- en: '>'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: environment
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: environment
- en: include
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: include
- en: '='
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"Development"'
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: '"Development"'
- en: '>'
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: An unhandled exception has occurred. See browser dev tools for details.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 发生了一个未处理的异常。请查看浏览器开发工具以获取详细信息。
- en: </
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: environment
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: environment
- en: '>'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: href
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '""'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: '""'
- en: class
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"reload"'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: '"reload"'
- en: '>'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Reload</
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: Reload</
- en: a
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: class
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"dismiss"'
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: '"dismiss"'
- en: '>'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '![](img/Image00149.jpg)'
  id: totrans-284
  prefs: []
  type: TYPE_IMG
  zh: '![](img/Image00149.jpg)'
- en: </
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: a
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: script
  id: totrans-292
  prefs: []
  type: TYPE_NORMAL
  zh: script
- en: src
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: src
- en: '='
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"_framework/blazor.server.js"'
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: '"_framework/blazor.server.js"'
- en: '></'
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: script
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: script
- en: '>'
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: body
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: body
- en: '>'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: html
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: html
- en: '>'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'While reviewing the preceding markup, note the following:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 'While reviewing the preceding markup, note the following:'
- en: '`<div id="blazor-error-ui">` for showing Blazor errors that will appear as
    a yellow bar at the bottom of the web page when an error occurs'
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<div id="blazor-error-ui">`用于显示Blazor错误，当发生错误时，它将显示为网页底部的黄色条'
- en: The script block for `blazor.server.js` manages the SignalR connection back
    to the server
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`blazor.server.js`的脚本块管理到服务器的SignalR连接'
- en: 'In the `Northwind.BlazorServer` folder, open `App.razor` and note that it defines
    a `Router` for all components found in the current assembly, as shown in the following
    code:'
  id: totrans-309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Northwind.BlazorServer`文件夹中，打开`App.razor`，注意它为当前程序集中找到的所有组件定义了一个`Router`，如下面的代码所示：
- en: '```cs'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: Router
  id: totrans-312
  prefs: []
  type: TYPE_NORMAL
  zh: Router
- en: AppAssembly
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: AppAssembly
- en: '='
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@typeof(App).Assembly"'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: '"@typeof(App).Assembly"'
- en: '>'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: Found
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 找到
- en: Context
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: Context
- en: '='
  id: totrans-320
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"routeData"'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: '"routeData"'
- en: '>'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: RouteView
  id: totrans-324
  prefs: []
  type: TYPE_NORMAL
  zh: RouteView
- en: RouteData
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: RouteData
- en: '='
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@routeData"'
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: '"@routeData"'
- en: DefaultLayout
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: DefaultLayout
- en: '='
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@typeof(MainLayout)"'
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: '"@typeof(MainLayout)"'
- en: />
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: FocusOnNavigate
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: FocusOnNavigate
- en: RouteData
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: RouteData
- en: '='
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@routeData"'
  id: totrans-336
  prefs: []
  type: TYPE_NORMAL
  zh: '"@routeData"'
- en: Selector
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: Selector
- en: '='
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"h1"'
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: '"h1"'
- en: />
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: Found
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: Found
- en: '>'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: NotFound
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: NotFound
- en: '>'
  id: totrans-346
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: PageTitle
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: PageTitle
- en: '>'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Not found</
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: Not found</
- en: PageTitle
  id: totrans-351
  prefs: []
  type: TYPE_NORMAL
  zh: PageTitle
- en: '>'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: LayoutView
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: LayoutView
- en: Layout
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
  zh: Layout
- en: '='
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@typeof(MainLayout)"'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
  zh: '"@typeof(MainLayout)"'
- en: '>'
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: p
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: p
- en: '>'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Sorry, there's nothing at this address.</
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 抱歉，这个地址上没有任何内容。</
- en: p
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: p
- en: '>'
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: LayoutView
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: LayoutView
- en: '>'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: NotFound
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
  zh: NotFound
- en: '>'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: Router
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
  zh: Router
- en: '>'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'While reviewing the preceding markup, note the following:'
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 在审查前面的标记时，请注意以下内容：
- en: If a matching route is found, then `RouteView` is executed that sets the default
    layout for the component to `MainLayout` and passes any route data parameters
    to the component.
  id: totrans-376
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果找到匹配的路由，则执行`RouteView`，将组件的默认布局设置为`MainLayout`，并将任何路由数据参数传递给组件。
- en: If a matching route is not found, then `LayoutView` is executed that renders
    the internal markup (in this case, a simple paragraph element with a message telling
    the visitor there is nothing at this address) inside `MainLayout` .
  id: totrans-377
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果找不到匹配的路由，则执行`LayoutView`，渲染`MainLayout`中的内部标记（在本例中，是一个简单的段落元素，其中包含一条消息，告诉访问者在这个地址上没有任何内容）。
- en: 'In the `Shared` folder, open `MainLayout.razor` and note that it defines `<div>`
    for a sidebar containing a navigation menu that is implemented by the `NavMenu.razor`
    component file in this project, and an HTML5 element such as `<main>` and `<article>`
    for the content, as shown in the following code:'
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Shared`文件夹中，打开`MainLayout.razor`，注意它定义了一个包含由此项目中的`NavMenu.razor`组件文件实现的导航菜单的侧边栏的`<div>`，以及用于内容的HTML5元素，如`<main>`和`<article>`，如下面的代码所示：
- en: '```cs'
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@inherits LayoutComponentBase'
  id: totrans-380
  prefs: []
  type: TYPE_NORMAL
  zh: '@inherits LayoutComponentBase'
- en: <
  id: totrans-381
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: PageTitle
  id: totrans-382
  prefs: []
  type: TYPE_NORMAL
  zh: PageTitle
- en: '>'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Northwind.BlazorServer</
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: Northwind.BlazorServer</
- en: PageTitle
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: PageTitle
- en: '>'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-387
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-388
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-389
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"page"'
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: '"page"'
- en: '>'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-393
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-394
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-395
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-396
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"sidebar"'
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
  zh: '"sidebar"'
- en: '>'
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: NavMenu
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: NavMenu
- en: />
  id: totrans-401
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-404
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: main
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: main
- en: '>'
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"top-row px-4"'
  id: totrans-412
  prefs: []
  type: TYPE_NORMAL
  zh: '"top-row px-4"'
- en: '>'
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: href
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-417
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"https://docs.microsoft.com/aspnet/"'
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: '"https://docs.microsoft.com/aspnet/"'
- en: target
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: target
- en: '='
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"_blank"'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: '"_blank"'
- en: '>'
  id: totrans-422
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: About</
  id: totrans-423
  prefs: []
  type: TYPE_NORMAL
  zh: About</
- en: a
  id: totrans-424
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-426
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-427
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: article
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: article
- en: class
  id: totrans-431
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"content px-4"'
  id: totrans-433
  prefs: []
  type: TYPE_NORMAL
  zh: '"content px-4"'
- en: '>'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@Body'
  id: totrans-435
  prefs: []
  type: TYPE_NORMAL
  zh: '@Body'
- en: </
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: article
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: article
- en: '>'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-439
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: main
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: main
- en: '>'
  id: totrans-441
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-443
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: In the `Shared` folder, open `MainLayout.razor.css` and note that it contains
    isolated CSS styles for the component.
  id: totrans-446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Shared`文件夹中，打开`MainLayout.razor.css`，注意它包含了组件的隔离CSS样式。
- en: 'In the `Shared` folder, open `NavMenu.razor` and note that it has three menu
    items for **Home** , **Counter** , and **Fetch data** . These are created by using
    a Microsoft-provided Blazor component named `NavLink` , as shown in the following
    markup:'
  id: totrans-447
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Shared`文件夹中，打开`NavMenu.razor`，注意它有三个菜单项**Home**，**Counter**和**Fetch data**。这些是使用名为`NavLink`的由Microsoft提供的Blazor组件创建的，如下面的标记所示：
- en: '```cs'
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <
  id: totrans-449
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-451
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-452
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"top-row ps-3 navbar navbar-dark"'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: '"top-row ps-3 navbar navbar-dark"'
- en: '>'
  id: totrans-454
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-456
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-457
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-458
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"container-fluid"'
  id: totrans-459
  prefs: []
  type: TYPE_NORMAL
  zh: '"container-fluid"'
- en: '>'
  id: totrans-460
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-461
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-462
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: class
  id: totrans-463
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"navbar-brand"'
  id: totrans-465
  prefs: []
  type: TYPE_NORMAL
  zh: '"navbar-brand"'
- en: href
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-467
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '""'
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: '""'
- en: '>'
  id: totrans-469
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Northwind.BlazorServer</
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: Northwind.BlazorServer</
- en: a
  id: totrans-471
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-473
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: button
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: button
- en: title
  id: totrans-475
  prefs: []
  type: TYPE_NORMAL
  zh: title
- en: '='
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"Navigation menu"'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: '"Navigation menu"'
- en: class
  id: totrans-478
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"navbar-toggler"'
  id: totrans-480
  prefs: []
  type: TYPE_NORMAL
  zh: '"navbar-toggler"'
- en: '@'
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: '@'
- en: onclick
  id: totrans-482
  prefs: []
  type: TYPE_NORMAL
  zh: onclick
- en: '='
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"ToggleNavMenu"'
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: '"ToggleNavMenu"'
- en: '>'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-486
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: span
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: span
- en: class
  id: totrans-488
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-489
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"navbar-toggler-icon"'
  id: totrans-490
  prefs: []
  type: TYPE_NORMAL
  zh: '"navbar-toggler-icon"'
- en: '></'
  id: totrans-491
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: span
  id: totrans-492
  prefs: []
  type: TYPE_NORMAL
  zh: span
- en: '>'
  id: totrans-493
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: button
  id: totrans-495
  prefs: []
  type: TYPE_NORMAL
  zh: button
- en: '>'
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-499
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-501
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-502
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-503
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-504
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-505
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-506
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@NavMenuCssClass"'
  id: totrans-507
  prefs: []
  type: TYPE_NORMAL
  zh: '"@NavMenuCssClass"'
- en: '@'
  id: totrans-508
  prefs: []
  type: TYPE_NORMAL
  zh: '@'
- en: onclick
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: onclick
- en: '='
  id: totrans-510
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"ToggleNavMenu"'
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: '"ToggleNavMenu"'
- en: '>'
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-513
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: nav
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: nav
- en: class
  id: totrans-515
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-516
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"flex-column"'
  id: totrans-517
  prefs: []
  type: TYPE_NORMAL
  zh: '"flex-column"'
- en: '>'
  id: totrans-518
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-519
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-520
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-522
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"nav-item px-3"'
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: '"nav-item px-3"'
- en: '>'
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: NavLink
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: class
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"nav-link"'
  id: totrans-529
  prefs: []
  type: TYPE_NORMAL
  zh: '"nav-link"'
- en: href
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-531
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '""'
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: '""'
- en: Match
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: Match
- en: '='
  id: totrans-534
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"NavLinkMatch.All"'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: '"NavLinkMatch.All"'
- en: '>'
  id: totrans-536
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: span
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: span
- en: class
  id: totrans-539
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"oi oi-home"'
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: '"oi oi-home"'
- en: aria-hidden
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: aria-hidden
- en: '='
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"true"'
  id: totrans-544
  prefs: []
  type: TYPE_NORMAL
  zh: '"true"'
- en: '></'
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: span
  id: totrans-546
  prefs: []
  type: TYPE_NORMAL
  zh: span
- en: '>'
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Home
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: Home
- en: </
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: NavLink
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: '>'
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"nav-item px-3"'
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: '"nav-item px-3"'
- en: '>'
  id: totrans-560
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: NavLink
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: class
  id: totrans-563
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"nav-link"'
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
  zh: '"nav-link"'
- en: href
  id: totrans-566
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"counter"'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: '"counter"'
- en: '>'
  id: totrans-569
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-570
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: span
  id: totrans-571
  prefs: []
  type: TYPE_NORMAL
  zh: span
- en: class
  id: totrans-572
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-573
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"oi oi-plus"'
  id: totrans-574
  prefs: []
  type: TYPE_NORMAL
  zh: '"oi oi-plus"'
- en: aria-hidden
  id: totrans-575
  prefs: []
  type: TYPE_NORMAL
  zh: aria-hidden
- en: '='
  id: totrans-576
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"true"'
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
  zh: '"true"'
- en: '></'
  id: totrans-578
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: span
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: span
- en: '>'
  id: totrans-580
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Counter
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
  zh: Counter
- en: </
  id: totrans-582
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: NavLink
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: '>'
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-585
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-587
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-589
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-590
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"nav-item px-3"'
  id: totrans-592
  prefs: []
  type: TYPE_NORMAL
  zh: '"nav-item px-3"'
- en: '>'
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: NavLink
  id: totrans-595
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: class
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-597
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"nav-link"'
  id: totrans-598
  prefs: []
  type: TYPE_NORMAL
  zh: '"nav-link"'
- en: href
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-600
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"fetchdata"'
  id: totrans-601
  prefs: []
  type: TYPE_NORMAL
  zh: '"fetchdata"'
- en: '>'
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: span
  id: totrans-604
  prefs: []
  type: TYPE_NORMAL
  zh: span
- en: class
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"oi oi-list-rich"'
  id: totrans-607
  prefs: []
  type: TYPE_NORMAL
  zh: '"oi oi-list-rich"'
- en: aria-hidden
  id: totrans-608
  prefs: []
  type: TYPE_NORMAL
  zh: aria-hidden
- en: '='
  id: totrans-609
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"true"'
  id: totrans-610
  prefs: []
  type: TYPE_NORMAL
  zh: '"true"'
- en: '></'
  id: totrans-611
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: span
  id: totrans-612
  prefs: []
  type: TYPE_NORMAL
  zh: span
- en: '>'
  id: totrans-613
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Fetch data
  id: totrans-614
  prefs: []
  type: TYPE_NORMAL
  zh: Fetch data
- en: </
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: NavLink
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: '>'
  id: totrans-617
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-621
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: nav
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: nav
- en: '>'
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-624
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-626
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@code {'
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: private
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: private
- en: bool
  id: totrans-629
  prefs: []
  type: TYPE_NORMAL
  zh: bool
- en: collapseNavMenu = true
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
  zh: collapseNavMenu = true
- en: ;
  id: totrans-631
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: private
  id: totrans-632
  prefs: []
  type: TYPE_NORMAL
  zh: private
- en: string
  id: totrans-633
  prefs: []
  type: TYPE_NORMAL
  zh: string
- en: '? NavMenuCssClass => collapseNavMenu ? "collapse"'
  id: totrans-634
  prefs: []
  type: TYPE_NORMAL
  zh: '? NavMenuCssClass => collapseNavMenu ? "collapse"'
- en: ': null'
  id: totrans-635
  prefs: []
  type: TYPE_NORMAL
  zh: ': null'
- en: ;
  id: totrans-636
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: private
  id: totrans-637
  prefs: []
  type: TYPE_NORMAL
  zh: private
- en: void
  id: totrans-638
  prefs: []
  type: TYPE_NORMAL
  zh: void
- en: ToggleNavMenu
  id: totrans-639
  prefs: []
  type: TYPE_NORMAL
  zh: ToggleNavMenu
- en: ()
  id: totrans-640
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-641
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: collapseNavMenu = !collapseNavMenu;
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: collapseNavMenu = !collapseNavMenu;
- en: '}'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-644
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Pages` folder, open `FetchData.razor` and note that it defines a component
    that fetches weather forecasts from an injected dependency weather service and
    then renders them in a table, as shown in the following code:'
  id: totrans-646
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `Pages` 文件夹中，打开 `FetchData.razor` 并注意它定义了一个从注入的天气服务中获取天气预报并在表中呈现它们的组件，如下面的代码所示：
- en: '```cs'
  id: totrans-647
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/fetchdata"'
  id: totrans-648
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/fetchdata"'
- en: <
  id: totrans-649
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: PageTitle
  id: totrans-650
  prefs: []
  type: TYPE_NORMAL
  zh: 页面标题
- en: '>'
  id: totrans-651
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Weather forecast</
  id: totrans-652
  prefs: []
  type: TYPE_NORMAL
  zh: 天气预报</
- en: PageTitle
  id: totrans-653
  prefs: []
  type: TYPE_NORMAL
  zh: 页面标题
- en: '>'
  id: totrans-654
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@using Northwind.BlazorServer.Data'
  id: totrans-655
  prefs: []
  type: TYPE_NORMAL
  zh: '@using Northwind.BlazorServer.Data'
- en: '@inject WeatherForecastService ForecastService'
  id: totrans-656
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject WeatherForecastService ForecastService'
- en: <
  id: totrans-657
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: h1
  id: totrans-658
  prefs: []
  type: TYPE_NORMAL
  zh: h1
- en: '>'
  id: totrans-659
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Weather forecast</
  id: totrans-660
  prefs: []
  type: TYPE_NORMAL
  zh: 天气预报</
- en: h1
  id: totrans-661
  prefs: []
  type: TYPE_NORMAL
  zh: h1
- en: '>'
  id: totrans-662
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-663
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: p
  id: totrans-664
  prefs: []
  type: TYPE_NORMAL
  zh: p
- en: '>'
  id: totrans-665
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: This component demonstrates fetching data from a service.</
  id: totrans-666
  prefs: []
  type: TYPE_NORMAL
  zh: 此组件演示了从服务获取数据。
- en: p
  id: totrans-667
  prefs: []
  type: TYPE_NORMAL
  zh: p
- en: '>'
  id: totrans-668
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@if (forecasts == null)'
  id: totrans-669
  prefs: []
  type: TYPE_NORMAL
  zh: '@if (forecasts == null)'
- en: '{'
  id: totrans-670
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: <
  id: totrans-671
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: p
  id: totrans-672
  prefs: []
  type: TYPE_NORMAL
  zh: p
- en: '><'
  id: totrans-673
  prefs: []
  type: TYPE_NORMAL
  zh: '><'
- en: em
  id: totrans-674
  prefs: []
  type: TYPE_NORMAL
  zh: em
- en: '>'
  id: totrans-675
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Loading...</
  id: totrans-676
  prefs: []
  type: TYPE_NORMAL
  zh: 加载中...</
- en: em
  id: totrans-677
  prefs: []
  type: TYPE_NORMAL
  zh: em
- en: '></'
  id: totrans-678
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: p
  id: totrans-679
  prefs: []
  type: TYPE_NORMAL
  zh: p
- en: '>'
  id: totrans-680
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '}'
  id: totrans-681
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: else
  id: totrans-682
  prefs: []
  type: TYPE_NORMAL
  zh: 否则
- en: '{'
  id: totrans-683
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: <
  id: totrans-684
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: table
  id: totrans-685
  prefs: []
  type: TYPE_NORMAL
  zh: 表
- en: class
  id: totrans-686
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: '='
  id: totrans-687
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"table"'
  id: totrans-688
  prefs: []
  type: TYPE_NORMAL
  zh: '"表"'
- en: '>'
  id: totrans-689
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-690
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: thead
  id: totrans-691
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-692
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-693
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: tr
  id: totrans-694
  prefs: []
  type: TYPE_NORMAL
  zh: 行
- en: '>'
  id: totrans-695
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-696
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-697
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-698
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Date</
  id: totrans-699
  prefs: []
  type: TYPE_NORMAL
  zh: 日期</
- en: th
  id: totrans-700
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-701
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-702
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-703
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-704
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Temp. (C)</
  id: totrans-705
  prefs: []
  type: TYPE_NORMAL
  zh: 温度（C）</
- en: th
  id: totrans-706
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-707
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-708
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-709
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-710
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Temp. (F)</
  id: totrans-711
  prefs: []
  type: TYPE_NORMAL
  zh: 温度（F）</
- en: th
  id: totrans-712
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-713
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-714
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-715
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-716
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Summary</
  id: totrans-717
  prefs: []
  type: TYPE_NORMAL
  zh: 摘要</
- en: th
  id: totrans-718
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-719
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-720
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: tr
  id: totrans-721
  prefs: []
  type: TYPE_NORMAL
  zh: 行
- en: '>'
  id: totrans-722
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-723
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: thead
  id: totrans-724
  prefs: []
  type: TYPE_NORMAL
  zh: 表头
- en: '>'
  id: totrans-725
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-726
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: tbody
  id: totrans-727
  prefs: []
  type: TYPE_NORMAL
  zh: tbody
- en: '>'
  id: totrans-728
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@foreach (var forecast in forecasts)'
  id: totrans-729
  prefs: []
  type: TYPE_NORMAL
  zh: '@foreach (var forecast in forecasts)'
- en: '{'
  id: totrans-730
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: <
  id: totrans-731
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: tr
  id: totrans-732
  prefs: []
  type: TYPE_NORMAL
  zh: 行
- en: '>'
  id: totrans-733
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-734
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-735
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格
- en: '>'
  id: totrans-736
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@forecast.Date.ToShortDateString()</'
  id: totrans-737
  prefs: []
  type: TYPE_NORMAL
  zh: '@forecast.Date.ToShortDateString()</'
- en: td
  id: totrans-738
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格
- en: '>'
  id: totrans-739
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-740
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-741
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格
- en: '>'
  id: totrans-742
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@forecast.TemperatureC</'
  id: totrans-743
  prefs: []
  type: TYPE_NORMAL
  zh: '@forecast.TemperatureC</'
- en: td
  id: totrans-744
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格
- en: '>'
  id: totrans-745
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-746
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-747
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格
- en: '>'
  id: totrans-748
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@forecast.TemperatureF</'
  id: totrans-749
  prefs: []
  type: TYPE_NORMAL
  zh: '@forecast.TemperatureF</'
- en: td
  id: totrans-750
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格
- en: '>'
  id: totrans-751
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-752
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-753
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格
- en: '>'
  id: totrans-754
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@forecast.Summary</'
  id: totrans-755
  prefs: []
  type: TYPE_NORMAL
  zh: '@forecast.Summary</'
- en: td
  id: totrans-756
  prefs: []
  type: TYPE_NORMAL
  zh: 单元格
- en: '>'
  id: totrans-757
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-758
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: tr
  id: totrans-759
  prefs: []
  type: TYPE_NORMAL
  zh: 行
- en: '>'
  id: totrans-760
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '}'
  id: totrans-761
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: </
  id: totrans-762
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: tbody
  id: totrans-763
  prefs: []
  type: TYPE_NORMAL
  zh: tbody
- en: '>'
  id: totrans-764
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-765
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: table
  id: totrans-766
  prefs: []
  type: TYPE_NORMAL
  zh: 表
- en: '>'
  id: totrans-767
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '}'
  id: totrans-768
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '@code {'
  id: totrans-769
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: private
  id: totrans-770
  prefs: []
  type: TYPE_NORMAL
  zh: 私有的
- en: WeatherForecast[]? forecasts;
  id: totrans-771
  prefs: []
  type: TYPE_NORMAL
  zh: WeatherForecast[]? forecasts;
- en: protected
  id: totrans-772
  prefs: []
  type: TYPE_NORMAL
  zh: 受保护的
- en: override
  id: totrans-773
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖
- en: async
  id: totrans-774
  prefs: []
  type: TYPE_NORMAL
  zh: 异步的
- en: Task OnInitializedAsync
  id: totrans-775
  prefs: []
  type: TYPE_NORMAL
  zh: Task OnInitializedAsync
- en: ()
  id: totrans-776
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-777
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: forecasts = await
  id: totrans-778
  prefs: []
  type: TYPE_NORMAL
  zh: forecasts = await
- en: ForecastService.GetForecastAsync(DateTime.Now);
  id: totrans-779
  prefs: []
  type: TYPE_NORMAL
  zh: ForecastService.GetForecastAsync(DateTime.Now);
- en: '}'
  id: totrans-780
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-781
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-782
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Data` folder, open `WeatherForecastService.cs` and note that it is
    *not* a Web API controller class; it is just an ordinary class that returns random
    weather data, as shown in the following code:'
  id: totrans-783
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `Data` 文件夹中，打开 `WeatherForecastService.cs` 并注意它*不是*一个 Web API 控制器类；它只是一个返回随机天气数据的普通类，如下面的代码所示：
- en: '```cs'
  id: totrans-784
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: namespace
  id: totrans-785
  prefs: []
  type: TYPE_NORMAL
  zh: 命名空间
- en: Northwind.BlazorServer.Data
  id: totrans-786
  prefs: []
  type: TYPE_NORMAL
  zh: Northwind.BlazorServer.Data
- en: '{'
  id: totrans-787
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: public
  id: totrans-788
  prefs: []
  type: TYPE_NORMAL
  zh: 公共的
- en: class
  id: totrans-789
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: WeatherForecastService
  id: totrans-790
  prefs: []
  type: TYPE_NORMAL
  zh: WeatherForecastService
- en: '{'
  id: totrans-791
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: private
  id: totrans-792
  prefs: []
  type: TYPE_NORMAL
  zh: 私有的
- en: static
  id: totrans-793
  prefs: []
  type: TYPE_NORMAL
  zh: 静态的
- en: readonly
  id: totrans-794
  prefs: []
  type: TYPE_NORMAL
  zh: 只读的
- en: string
  id: totrans-795
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串
- en: '[] Summaries = new'
  id: totrans-796
  prefs: []
  type: TYPE_NORMAL
  zh: '[] Summaries = 新的'
- en: '[]'
  id: totrans-797
  prefs: []
  type: TYPE_NORMAL
  zh: '[]'
- en: '{'
  id: totrans-798
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: '"Freezing"'
  id: totrans-799
  prefs: []
  type: TYPE_NORMAL
  zh: '"冰冷的"'
- en: ', "Bracing"'
  id: totrans-800
  prefs: []
  type: TYPE_NORMAL
  zh: ', "清凉的"'
- en: ', "Chilly"'
  id: totrans-801
  prefs: []
  type: TYPE_NORMAL
  zh: ', "寒冷的"'
- en: ', "Cool"'
  id: totrans-802
  prefs: []
  type: TYPE_NORMAL
  zh: ', "凉爽的"'
- en: ', "Mild"'
  id: totrans-803
  prefs: []
  type: TYPE_NORMAL
  zh: ', "温和的"'
- en: ', "Warm"'
  id: totrans-804
  prefs: []
  type: TYPE_NORMAL
  zh: ', "温暖的"'
- en: ','
  id: totrans-805
  prefs: []
  type: TYPE_NORMAL
  zh: ','
- en: '"Balmy"'
  id: totrans-806
  prefs: []
  type: TYPE_NORMAL
  zh: '"温暖的"'
- en: ', "Hot"'
  id: totrans-807
  prefs: []
  type: TYPE_NORMAL
  zh: ', "炎热的"'
- en: ', "Sweltering"'
  id: totrans-808
  prefs: []
  type: TYPE_NORMAL
  zh: ', "酷热的"'
- en: ', "Scorching"'
  id: totrans-809
  prefs: []
  type: TYPE_NORMAL
  zh: ', "酷热的"'
- en: '};'
  id: totrans-810
  prefs: []
  type: TYPE_NORMAL
  zh: '};'
- en: public
  id: totrans-811
  prefs: []
  type: TYPE_NORMAL
  zh: 公共的
- en: Task<WeatherForecast[]> GetForecastAsync(DateTime startDate)
  id: totrans-812
  prefs: []
  type: TYPE_NORMAL
  zh: Task<WeatherForecast[]> GetForecastAsync(DateTime startDate)
- en: '{'
  id: totrans-813
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: return
  id: totrans-814
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: Task.FromResult(Enumerable.Range(1
  id: totrans-815
  prefs: []
  type: TYPE_NORMAL
  zh: Task.FromResult(Enumerable.Range(1
- en: ', 5'
  id: totrans-816
  prefs: []
  type: TYPE_NORMAL
  zh: ', 5'
- en: )
  id: totrans-817
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: .Select(index => new
  id: totrans-818
  prefs: []
  type: TYPE_NORMAL
  zh: 选择(index => 新的
- en: WeatherForecast
  id: totrans-819
  prefs: []
  type: TYPE_NORMAL
  zh: WeatherForecast
- en: '{'
  id: totrans-820
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: Date = startDate.AddDays(index),
  id: totrans-821
  prefs: []
  type: TYPE_NORMAL
  zh: 日期 = startDate.AddDays(index),
- en: TemperatureC = Random.Shared.Next(-20
  id: totrans-822
  prefs: []
  type: TYPE_NORMAL
  zh: 温度C = Random.Shared.Next(-20
- en: ', 55'
  id: totrans-823
  prefs: []
  type: TYPE_NORMAL
  zh: ', 55'
- en: ),
  id: totrans-824
  prefs: []
  type: TYPE_NORMAL
  zh: ),
- en: Summary = Summaries[Random.Shared.Next(Summaries.Length)]
  id: totrans-825
  prefs: []
  type: TYPE_NORMAL
  zh: 摘要 = Summaries[Random.Shared.Next(Summaries.Length)]
- en: '}).ToArray());'
  id: totrans-826
  prefs: []
  type: TYPE_NORMAL
  zh: '}).ToArray());'
- en: '}'
  id: totrans-827
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-828
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-829
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-830
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Understanding CSS and JavaScript isolation
  id: totrans-831
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 了解 CSS 和 JavaScript 隔离
- en: Blazor components often need to provide their own CSS to apply styling or JavaScript
    for activities that cannot be performed purely in C#, like access to browser APIs.
    To ensure this does not conflict with site-level CSS and JavaScript, Blazor supports
    CSS and JavaScript isolation. If you have a component named `Index.razor` , simply
    create a CSS file named `Index.razor.css` . The styles defined within this file
    will override any other styles in the project.
  id: totrans-832
  prefs: []
  type: TYPE_NORMAL
  zh: Blazor 组件经常需要提供自己的 CSS 来应用样式或 JavaScript 用于无法纯粹在 C# 中执行的活动，比如访问浏览器 API。为了确保这不会与站点级别的
    CSS 和 JavaScript 冲突，Blazor 支持 CSS 和 JavaScript 隔离。如果有一个名为 `Index.razor` 的组件，只需创建一个名为
    `Index.razor.css` 的 CSS 文件。在此文件中定义的样式将覆盖项目中的任何其他样式。
- en: Understanding Blazor routing to page components
  id: totrans-833
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 了解 Blazor 路由到页面组件
- en: The `Router` component that we saw in the `App.razor` file enables routing to
    components. The markup for creating an instance of a component looks like an HTML
    tag where the name of the tag is the component type. Components can be embedded
    on a web page using an element, for example, `<Rating Stars="5" />` , or can be
    routed to like a Razor Page or MVC controller.
  id: totrans-834
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在 `App.razor` 文件中看到的 `Router` 组件使路由到组件成为可能。创建组件实例的标记看起来像 HTML 标记，其中标记的名称是组件类型。组件可以使用元素嵌入到网页中，例如，`<Rating
    Stars="5" />`，也可以像 Razor Page 或 MVC 控制器一样路由到。
- en: How to define a routable page component
  id: totrans-835
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何定义可路由的页面组件
- en: 'To create a routable page component, add the `@page` directive to the top of
    a component''s `.razor` file, as shown in the following markup:'
  id: totrans-836
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建可路由的页面组件，请在组件的 `.razor` 文件顶部添加 `@page` 指令，如下面的标记所示：
- en: '```cs'
  id: totrans-837
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "customers"'
  id: totrans-838
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "customers"'
- en: '```'
  id: totrans-839
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'The preceding code is the equivalent of an MVC controller decorated with the
    `[Route]` attribute, as shown in the following code:'
  id: totrans-840
  prefs: []
  type: TYPE_NORMAL
  zh: 前面的代码相当于一个带有 `[Route]` 属性的 MVC 控制器，如下面的代码所示：
- en: '```cs'
  id: totrans-841
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '[Route('
  id: totrans-842
  prefs: []
  type: TYPE_NORMAL
  zh: '[Route('
- en: '"customers"'
  id: totrans-843
  prefs: []
  type: TYPE_NORMAL
  zh: '"顾客"'
- en: )
  id: totrans-844
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: ']'
  id: totrans-845
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-846
  prefs: []
  type: TYPE_NORMAL
  zh: 公共的
- en: class
  id: totrans-847
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: CustomersController
  id: totrans-848
  prefs: []
  type: TYPE_NORMAL
  zh: CustomersController
- en: '{'
  id: totrans-849
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: '```'
  id: totrans-850
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: The `Router` component scans the assembly specifically in its `AppAssembly`
    parameter for components decorated with the `[Route]` attribute and registers
    their URL paths.
  id: totrans-851
  prefs: []
  type: TYPE_NORMAL
  zh: '`Router` 组件扫描特定的程序集，其 `AppAssembly` 参数用于注册带有 `[Route]` 属性的组件的 URL 路径。'
- en: Any single-page component can have multiple `@page` directives to register multiple
    routes.
  id: totrans-852
  prefs: []
  type: TYPE_NORMAL
  zh: 任何单页组件都可以有多个 `@page` 指令来注册多个路由。
- en: At runtime, the page component is merged with any specific layout that you have
    specified, just like an MVC view or Razor Page would be. By default, the Blazor
    Server project template defines `MainLayout.razor` as the layout for page components.
  id: totrans-853
  prefs: []
  type: TYPE_NORMAL
  zh: 在运行时，页面组件与您指定的任何特定布局合并，就像 MVC 视图或 Razor Page 一样。默认情况下，Blazor Server 项目模板将 `MainLayout.razor`
    定义为页面组件的布局。
- en: '**Good Practice** : By convention, put routable page components in the `Pages`
    folder.'
  id: totrans-854
  prefs: []
  type: TYPE_NORMAL
  zh: '**良好实践**：按照惯例，将可路由的页面组件放在 `Pages` 文件夹中。'
- en: How to navigate Blazor routes
  id: totrans-855
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何导航 Blazor 路由
- en: Microsoft provides a dependency service named `NavigationManager` that understands
    Blazor routing and the `NavLink` component.
  id: totrans-856
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft 提供了一个名为 `NavigationManager` 的依赖服务，它了解 Blazor 路由和 `NavLink` 组件。
- en: The `NavigateTo` method is used to go to the specified URL.
  id: totrans-857
  prefs: []
  type: TYPE_NORMAL
  zh: '`NavigateTo`方法用于转到指定的URL。'
- en: How to pass route parameters
  id: totrans-858
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何传递路由参数
- en: 'Blazor routes can include case-insensitive named parameters, and your code
    can most easily access the passed values by binding the parameter to a property
    in the code block using the `[Parameter]` attribute, as shown in the following
    markup:'
  id: totrans-859
  prefs: []
  type: TYPE_NORMAL
  zh: Blazor路由可以包括不区分大小写的命名参数，您的代码可以通过将参数绑定到代码块中的属性来最容易地访问传递的值，使用`[Parameter]`属性，如下面的标记所示：
- en: '```cs'
  id: totrans-860
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/customers/{country}"'
  id: totrans-861
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/customers/{country}"'
- en: <div
  id: totrans-862
  prefs: []
  type: TYPE_NORMAL
  zh: <div
- en: '>Country parameter as the value: @Country</div'
  id: totrans-863
  prefs: []
  type: TYPE_NORMAL
  zh: '>作为值的国家参数：@Country</div'
- en: '>'
  id: totrans-864
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@code {'
  id: totrans-865
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: '[Parameter'
  id: totrans-866
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-867
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-868
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: string
  id: totrans-869
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串
- en: Country { get
  id: totrans-870
  prefs: []
  type: TYPE_NORMAL
  zh: Country { get
- en: ; set
  id: totrans-871
  prefs: []
  type: TYPE_NORMAL
  zh: ; 设置
- en: ; }
  id: totrans-872
  prefs: []
  type: TYPE_NORMAL
  zh: ; }
- en: '}'
  id: totrans-873
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-874
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'The recommended way to handle a parameter that should have a default value
    when it is missing is to suffix the parameter with `?` and use the null coalescing
    operator in the `OnParametersSet` method, as shown in the following markup:'
  id: totrans-875
  prefs: []
  type: TYPE_NORMAL
  zh: 处理应该具有默认值的参数的推荐方法是在`OnParametersSet`方法中使用`?`后缀参数，并使用空值合并运算符，如下面的标记所示：
- en: '```cs'
  id: totrans-876
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/customers/{country?}"'
  id: totrans-877
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/customers/{country?}"'
- en: <div
  id: totrans-878
  prefs: []
  type: TYPE_NORMAL
  zh: <div
- en: '>Country parameter as the value: @Country</div'
  id: totrans-879
  prefs: []
  type: TYPE_NORMAL
  zh: '>作为值的国家参数：@Country</div'
- en: '>'
  id: totrans-880
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@code {'
  id: totrans-881
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: '[Parameter'
  id: totrans-882
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-883
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-884
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: string
  id: totrans-885
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串
- en: Country { get
  id: totrans-886
  prefs: []
  type: TYPE_NORMAL
  zh: Country { get
- en: ; set
  id: totrans-887
  prefs: []
  type: TYPE_NORMAL
  zh: ; 设置
- en: ; }
  id: totrans-888
  prefs: []
  type: TYPE_NORMAL
  zh: ; }
- en: protected
  id: totrans-889
  prefs: []
  type: TYPE_NORMAL
  zh: protected
- en: override
  id: totrans-890
  prefs: []
  type: TYPE_NORMAL
  zh: 重写
- en: void
  id: totrans-891
  prefs: []
  type: TYPE_NORMAL
  zh: void
- en: OnParametersSet
  id: totrans-892
  prefs: []
  type: TYPE_NORMAL
  zh: OnParametersSet
- en: ()
  id: totrans-893
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-894
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: // if the automatically set property is null
  id: totrans-895
  prefs: []
  type: TYPE_NORMAL
  zh: // 如果自动设置的属性为空
- en: // set its value to USA
  id: totrans-896
  prefs: []
  type: TYPE_NORMAL
  zh: // 将其值设置为美国
- en: Country = Country ?? "USA"
  id: totrans-897
  prefs: []
  type: TYPE_NORMAL
  zh: Country = Country ?? "USA"
- en: ;
  id: totrans-898
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: '}'
  id: totrans-899
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-900
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-901
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Understanding base component classes
  id: totrans-902
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 理解基本组件类
- en: 'The `OnParametersSet` method is defined by the base class that components inherit
    from by default named `ComponentBase` , as shown in the following code:'
  id: totrans-903
  prefs: []
  type: TYPE_NORMAL
  zh: '`OnParametersSet`方法是由默认继承的基类`ComponentBase`定义的，如下面的代码所示：'
- en: '```cs'
  id: totrans-904
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: using
  id: totrans-905
  prefs: []
  type: TYPE_NORMAL
  zh: using
- en: Microsoft.AspNetCore.Components;
  id: totrans-906
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft.AspNetCore.Components;
- en: public
  id: totrans-907
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: abstract
  id: totrans-908
  prefs: []
  type: TYPE_NORMAL
  zh: 抽象
- en: class
  id: totrans-909
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: ComponentBase
  id: totrans-910
  prefs: []
  type: TYPE_NORMAL
  zh: ComponentBase
- en: ': IComponent'
  id: totrans-911
  prefs: []
  type: TYPE_NORMAL
  zh: ': IComponent'
- en: ', IHandleAfterRender'
  id: totrans-912
  prefs: []
  type: TYPE_NORMAL
  zh: ', IHandleAfterRender'
- en: ', IHandleEvent'
  id: totrans-913
  prefs: []
  type: TYPE_NORMAL
  zh: ', IHandleEvent'
- en: '{'
  id: totrans-914
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: // members not shown
  id: totrans-915
  prefs: []
  type: TYPE_NORMAL
  zh: // 未显示成员
- en: '}'
  id: totrans-916
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-917
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: '`ComponentBase` has some useful methods that you can call and override, as
    shown in the following table:'
  id: totrans-918
  prefs: []
  type: TYPE_NORMAL
  zh: '`ComponentBase`有一些有用的方法，您可以调用和重写，如下表所示：'
- en: '| Method(s) | Description |'
  id: totrans-919
  prefs: []
  type: TYPE_TB
  zh: '| 方法 | 描述 |'
- en: '| `InvokeAsync` | Call this method to execute a function on the associated
    renderer''s synchronization context. |'
  id: totrans-920
  prefs: []
  type: TYPE_TB
  zh: '| `InvokeAsync` | 调用此方法以在关联的渲染器同步上下文中执行函数。 |'
- en: '| `OnAfterRender` , `OnAfterRenderAsync` | Override these methods to invoke
    code after each time the component has been rendered. |'
  id: totrans-921
  prefs: []
  type: TYPE_TB
  zh: '| `OnAfterRender`，`OnAfterRenderAsync` | 重写这些方法以在每次组件呈现后调用代码。 |'
- en: '| `OnInitialized` , `OnInitializedAsync` | Override these methods to invoke
    code after the component has received its initial parameters from its parent in
    the render tree. |'
  id: totrans-922
  prefs: []
  type: TYPE_TB
  zh: '| `OnInitialized`，`OnInitializedAsync` | 重写这些方法以在组件从呈现树中的父级接收到其初始参数后调用代码。 |'
- en: '| `OnParametersSet` , `OnParametersSetAsync` | Override these methods to invoke
    code after the component has received parameters and the values have been assigned
    to properties. |'
  id: totrans-923
  prefs: []
  type: TYPE_TB
  zh: '| `OnParametersSet`，`OnParametersSetAsync` | 重写这些方法以在组件接收到参数并且值已分配给属性后调用代码。
    |'
- en: '| `ShouldRender` | Override this method to indicate if the component should
    render. |'
  id: totrans-924
  prefs: []
  type: TYPE_TB
  zh: '| `ShouldRender` | 重写此方法以指示组件是否应呈现。 |'
- en: '| `StateHasChanged` | Call this method to cause the component to re-render.
    |'
  id: totrans-925
  prefs: []
  type: TYPE_TB
  zh: '| `StateHasChanged` | 调用此方法以导致组件重新呈现。 |'
- en: Blazor components can have shared layouts in a similar way to MVC views and
    Razor Pages.
  id: totrans-926
  prefs: []
  type: TYPE_NORMAL
  zh: Blazor组件可以以类似于MVC视图和Razor页面的方式具有共享布局。
- en: 'Create a `.razor` component file, but make it explicitly inherit from `LayoutComponentBase`
    , as shown in the following markup:'
  id: totrans-927
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个`.razor`组件文件，但要明确地继承自`LayoutComponentBase`，如下面的标记所示：
- en: '```cs'
  id: totrans-928
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@inherits LayoutComponentBase'
  id: totrans-929
  prefs: []
  type: TYPE_NORMAL
  zh: '@inherits LayoutComponentBase'
- en: <
  id: totrans-930
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-931
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-932
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '...'
  id: totrans-933
  prefs: []
  type: TYPE_NORMAL
  zh: '...'
- en: '@Body'
  id: totrans-934
  prefs: []
  type: TYPE_NORMAL
  zh: '@Body'
- en: '...'
  id: totrans-935
  prefs: []
  type: TYPE_NORMAL
  zh: '...'
- en: </
  id: totrans-936
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-937
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-938
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-939
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: The base class has a property named `Body` that you can render in the markup
    at the correct place within the layout.
  id: totrans-940
  prefs: []
  type: TYPE_NORMAL
  zh: 基类有一个名为`Body`的属性，您可以在标记中呈现该属性，以便在布局中的正确位置呈现。
- en: 'Set a default layout for components in the `App.razor` file and its `Router`
    component. To explicitly set a layout for a component, use the `@layout` directive,
    as shown in the following markup:'
  id: totrans-941
  prefs: []
  type: TYPE_NORMAL
  zh: 在`App.razor`文件及其`Router`组件中为组件设置默认布局。要为组件明确设置布局，请使用`@layout`指令，如下面的标记所示：
- en: '```cs'
  id: totrans-942
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/customers"'
  id: totrans-943
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/customers"'
- en: '@layout AlternativeLayout'
  id: totrans-944
  prefs: []
  type: TYPE_NORMAL
  zh: '@layout AlternativeLayout'
- en: <
  id: totrans-945
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-946
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-947
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '...'
  id: totrans-948
  prefs: []
  type: TYPE_NORMAL
  zh: '...'
- en: </
  id: totrans-949
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-950
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-951
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-952
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: How to use the navigation link component with routes
  id: totrans-953
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 如何使用导航链接组件与路由
- en: 'In HTML, you use the `<a>` element to define navigation links, as shown in
    the following markup:'
  id: totrans-954
  prefs: []
  type: TYPE_NORMAL
  zh: 在HTML中，您使用`<a>`元素来定义导航链接，如下面的标记所示：
- en: '```cs'
  id: totrans-955
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <a
  id: totrans-956
  prefs: []
  type: TYPE_NORMAL
  zh: <a
- en: href="/customers"
  id: totrans-957
  prefs: []
  type: TYPE_NORMAL
  zh: href="/customers"
- en: '>Customers</a'
  id: totrans-958
  prefs: []
  type: TYPE_NORMAL
  zh: '>客户</a'
- en: '>'
  id: totrans-959
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-960
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In Blazor, use the `<NavLink>` component, as shown in the following markup:'
  id: totrans-961
  prefs: []
  type: TYPE_NORMAL
  zh: 在Blazor中，使用`<NavLink>`组件，如下面的标记所示：
- en: '```cs'
  id: totrans-962
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <
  id: totrans-963
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: NavLink
  id: totrans-964
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: href
  id: totrans-965
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-966
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"/customers"'
  id: totrans-967
  prefs: []
  type: TYPE_NORMAL
  zh: '"/customers"'
- en: '>'
  id: totrans-968
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Customers</
  id: totrans-969
  prefs: []
  type: TYPE_NORMAL
  zh: Customers</
- en: NavLink
  id: totrans-970
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: '>'
  id: totrans-971
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-972
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: The `NavLink` component is better than an anchor element because it automatically
    sets its class to `active` if its `href` is a match on the current location URL.
    If your CSS uses a different class name, then you can set the class name in the
    `NavLink.ActiveClass` property.
  id: totrans-973
  prefs: []
  type: TYPE_NORMAL
  zh: '`NavLink`组件比锚元素更好，因为如果其`href`与当前位置URL匹配，它会自动将其类设置为`active`。如果您的CSS使用不同的类名，则可以在`NavLink.ActiveClass`属性中设置类名。'
- en: 'By default, in the matching algorithm, the `href` is a path *prefix* , so if
    `NavLink` has an `href` of `/customers` , as shown in the preceding code example,
    then it would match all the following paths and set them all to have the `active`
    class style:'
  id: totrans-974
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，在匹配算法中，`href`是路径*前缀*，因此如果`NavLink`的`href`为`/customers`，如前面的代码示例所示，那么它将匹配所有以下路径并将它们全部设置为`active`类样式：
- en: '```cs'
  id: totrans-975
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: /customers
  id: totrans-976
  prefs: []
  type: TYPE_NORMAL
  zh: /客户
- en: /customers/USA
  id: totrans-977
  prefs: []
  type: TYPE_NORMAL
  zh: /客户/美国
- en: /customers/Germany/Berlin
  id: totrans-978
  prefs: []
  type: TYPE_NORMAL
  zh: /客户/德国/柏林
- en: '```'
  id: totrans-979
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'To ensure that the matching algorithm only performs matches on *all* of the
    paths, set the `Match` parameter to `NavLinkMatch.All` , as shown in the following
    code:'
  id: totrans-980
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保匹配算法只对*所有*路径执行匹配，将 `Match` 参数设置为 `NavLinkMatch.All`，如下面的代码所示：
- en: '```cs'
  id: totrans-981
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <
  id: totrans-982
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: NavLink
  id: totrans-983
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: href
  id: totrans-984
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-985
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"/customers"'
  id: totrans-986
  prefs: []
  type: TYPE_NORMAL
  zh: '"/customers"'
- en: Match
  id: totrans-987
  prefs: []
  type: TYPE_NORMAL
  zh: 匹配
- en: '='
  id: totrans-988
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"NavLinkMatch.All"'
  id: totrans-989
  prefs: []
  type: TYPE_NORMAL
  zh: '"NavLinkMatch.All"'
- en: '>'
  id: totrans-990
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Customers</
  id: totrans-991
  prefs: []
  type: TYPE_NORMAL
  zh: Customers</
- en: NavLink
  id: totrans-992
  prefs: []
  type: TYPE_NORMAL
  zh: NavLink
- en: '>'
  id: totrans-993
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-994
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: If you set other attributes such as `target` , they are passed through to the
    underlying `<a>` element that is generated.
  id: totrans-995
  prefs: []
  type: TYPE_NORMAL
  zh: 如果设置了其他属性，例如 `target`，它们将传递给生成的底层 `<a>` 元素。
- en: Running the Blazor Server project template
  id: totrans-996
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 运行 Blazor Server 项目模板
- en: 'Now that we have reviewed the project template and the important parts that
    are specific to Blazor Server, we can start the website and review its behavior:'
  id: totrans-997
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经审查了项目模板和与 Blazor Server 特定的重要部分，我们可以启动网站并审查其行为：
- en: In the `Properties` folder, open `launchSettings.json` .
  id: totrans-998
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 `Properties` 文件夹中，打开 `launchSettings.json`。
- en: 'Modify the `applicationUrl` to use port `5000` for `HTTP` and port `5001` for
    `HTTPS` , as shown highlighted in the following markup:'
  id: totrans-999
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改 `applicationUrl` 以使用端口 `5000` 用于 `HTTP` 和端口 `5001` 用于 `HTTPS`，如下面的标记所示：
- en: '```cs'
  id: totrans-1000
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '"profiles"'
  id: totrans-1001
  prefs: []
  type: TYPE_NORMAL
  zh: '"profiles"'
- en: ': {'
  id: totrans-1002
  prefs: []
  type: TYPE_NORMAL
  zh: ': {'
- en: '"Northwind.BlazorServer"'
  id: totrans-1003
  prefs: []
  type: TYPE_NORMAL
  zh: '"Northwind.BlazorServer"'
- en: ': {'
  id: totrans-1004
  prefs: []
  type: TYPE_NORMAL
  zh: ': {'
- en: '"commandName"'
  id: totrans-1005
  prefs: []
  type: TYPE_NORMAL
  zh: '"commandName"'
- en: ': "Project"'
  id: totrans-1006
  prefs: []
  type: TYPE_NORMAL
  zh: ': "Project"'
- en: ','
  id: totrans-1007
  prefs: []
  type: TYPE_NORMAL
  zh: ','
- en: '"dotnetRunMessages"'
  id: totrans-1008
  prefs: []
  type: TYPE_NORMAL
  zh: '"dotnetRunMessages"'
- en: ': true'
  id: totrans-1009
  prefs: []
  type: TYPE_NORMAL
  zh: ': true'
- en: ','
  id: totrans-1010
  prefs: []
  type: TYPE_NORMAL
  zh: ','
- en: '"launchBrowser"'
  id: totrans-1011
  prefs: []
  type: TYPE_NORMAL
  zh: '"launchBrowser"'
- en: ': true'
  id: totrans-1012
  prefs: []
  type: TYPE_NORMAL
  zh: ': true'
- en: ','
  id: totrans-1013
  prefs: []
  type: TYPE_NORMAL
  zh: ','
- en: '**"applicationUrl"**'
  id: totrans-1014
  prefs: []
  type: TYPE_NORMAL
  zh: '**"applicationUrl"**'
- en: '**:**'
  id: totrans-1015
  prefs: []
  type: TYPE_NORMAL
  zh: '**:**'
- en: '**"https://localhost:5001;http://localhost:5000"**'
  id: totrans-1016
  prefs: []
  type: TYPE_NORMAL
  zh: '**"https://localhost:5001;http://localhost:5000"**'
- en: '**,**'
  id: totrans-1017
  prefs: []
  type: TYPE_NORMAL
  zh: '**,**'
- en: '"environmentVariables"'
  id: totrans-1018
  prefs: []
  type: TYPE_NORMAL
  zh: '"environmentVariables"'
- en: ': {'
  id: totrans-1019
  prefs: []
  type: TYPE_NORMAL
  zh: ': {'
- en: '"ASPNETCORE_ENVIRONMENT"'
  id: totrans-1020
  prefs: []
  type: TYPE_NORMAL
  zh: '"ASPNETCORE_ENVIRONMENT"'
- en: ': "Development"'
  id: totrans-1021
  prefs: []
  type: TYPE_NORMAL
  zh: ': "Development"'
- en: '}'
  id: totrans-1022
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '},'
  id: totrans-1023
  prefs: []
  type: TYPE_NORMAL
  zh: '},'
- en: '```'
  id: totrans-1024
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Start the website.
  id: totrans-1025
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动网站。
- en: Start Chrome.
  id: totrans-1026
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动 Chrome。
- en: Navigate to `https://localhost:5001/` .
  id: totrans-1027
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到 `https://localhost:5001/` 。
- en: In the left navigation menu, click **Fetch data** , as shown in *Figure 17.1*
    :![](img/Image00150.jpg)
  id: totrans-1028
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧导航菜单中，单击 **Fetch data**，如 *图17.1* 所示：![](img/Image00150.jpg)
- en: 'Figure 17.1: Fetching weather data into a Blazor Server app'
  id: totrans-1029
  prefs: []
  type: TYPE_NORMAL
  zh: 图17.1：将天气数据获取到 Blazor Server 应用程序
- en: In the browser address bar, change the route to `/apples` and note the missing
    message, as shown in *Figure 17.2* :![](img/Image00151.jpg)
  id: totrans-1030
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在浏览器地址栏中，将路由更改为 `/apples` 并注意缺少的消息，如 *图17.2* 所示：![](img/Image00151.jpg)
- en: 'Figure 17.2: The missing component message'
  id: totrans-1031
  prefs: []
  type: TYPE_NORMAL
  zh: 图17.2：缺少组件消息
- en: Close Chrome and shut down the web server.
  id: totrans-1032
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭 Chrome 并关闭 Web 服务器。
- en: Reviewing the Blazor WebAssembly project template
  id: totrans-1033
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 审查 Blazor WebAssembly 项目模板
- en: 'Now we will create a Blazor WebAssembly project. I will not show code in the
    book if the code is the same as in a Blazor Server project:'
  id: totrans-1034
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将创建一个 Blazor WebAssembly 项目。如果代码与 Blazor Server 项目中的代码相同，我将不在书中显示代码：
- en: 'Use your preferred code editor to add a new project to the `PracticalApps`
    solution or workspace, as defined in the following list:'
  id: totrans-1035
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您喜欢的代码编辑器向 `PracticalApps` 解决方案或工作区中添加一个新项目，如下列表所定义的：
- en: 'Project template: **Blazor WebAssembly App** / `blazorwasm`'
  id: totrans-1036
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 项目模板：**Blazor WebAssembly App** / `blazorwasm`
- en: 'Switches: `--pwa --hosted`'
  id: totrans-1037
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Switches: `--pwa --hosted`'
- en: 'Workspace/solution file and folder: `PracticalApps`'
  id: totrans-1038
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 工作区/解决方案文件和文件夹：`PracticalApps`
- en: 'Project file and folder: `Northwind.BlazorWasm`'
  id: totrans-1039
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 项目文件和文件夹：`Northwind.BlazorWasm`
- en: '**Authentication Type** : **None**'
  id: totrans-1040
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**身份验证类型**：**无**'
- en: '**Configure for HTTPS** : checked'
  id: totrans-1041
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**配置为 HTTPS**：checked'
- en: '**ASP.NET Core hosted** : checked'
  id: totrans-1042
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**ASP.NET Core hosted** : checked'
- en: '**Progressive Web Application** : checked'
  id: totrans-1043
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**渐进式 Web 应用程序** : checked'
- en: 'While reviewing the generated folders and files, note that three projects are
    generated, as described in the following list:'
  id: totrans-1044
  prefs: []
  type: TYPE_NORMAL
  zh: 在审查生成的文件夹和文件时，请注意生成了三个项目，如下列表所述：
- en: '`Northwind.BlazorWasm.Client` is the Blazor WebAssembly project in the `Northwind.BlazorWasm\Client`
    folder.'
  id: totrans-1045
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Northwind.BlazorWasm.Client` 是 `Northwind.BlazorWasm\Client` 文件夹中的 Blazor
    WebAssembly 项目。'
- en: '`Northwind.BlazorWasm.Server` is an ASP.NET Core project website in the `Northwind.BlazorWasm\Server`
    folder for hosting the weather service that has the same implementation for returning
    random weather forecasts as before, but is implemented as a proper Web API controller
    class. The project file has project references to `Shared` and `Client` , and
    a package reference to support Blazor WebAssembly on the server side.'
  id: totrans-1046
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Northwind.BlazorWasm.Server` 是 `Northwind.BlazorWasm\Server` 文件夹中的 ASP.NET
    Core 项目网站，用于托管天气服务，其实现方式与以前一样返回随机天气预报，但是实现为适当的 Web API 控制器类。项目文件具有对 `Shared` 和
    `Client` 的项目引用，并具有支持服务器端 Blazor WebAssembly 的包引用。'
- en: '`Northwind.BlazorWasm.Shared` is a class library in the `Northwind.BlazorWasm\Shared`
    folder that contains models for the weather service.'
  id: totrans-1047
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Northwind.BlazorWasm.Shared` 是 `Northwind.BlazorWasm\Shared` 文件夹中的类库，其中包含天气服务的模型。'
- en: 'The folder structure is simplified, as shown in *Figure 17.3* :'
  id: totrans-1048
  prefs: []
  type: TYPE_NORMAL
  zh: 文件夹结构简化，如 *图17.3* 所示：
- en: '![](img/Image00152.jpg)'
  id: totrans-1049
  prefs: []
  type: TYPE_IMG
  zh: '![](img/Image00152.jpg)'
- en: 'Figure 17.3: The folder structure for the Blazor WebAssembly project template'
  id: totrans-1050
  prefs: []
  type: TYPE_NORMAL
  zh: 图17.3：Blazor WebAssembly 项目模板的文件夹结构
- en: 'There are two ways to deploy a Blazor WebAssembly app. You could deploy just
    the `Client` project by placing its published files in any static hosting web
    server. It could be configured to call the weather service that you created in
    *Chapter 16* , *Building and Consuming Web Services* , or you can deploy the `Server`
    project, which references the `Client` app and hosts both the weather service
    and the Blazor WebAssembly app. The app is placed in the server website `wwwroot`
    folder along with any other static assets. You can read more about these choices
    at the following link: [https://docs.microsoft.com/en-us/aspnet/core/blazor/host-and-deploy/webassembly](https://docs.microsoft.com/en-us/aspnet/core/blazor/host-and-deploy/webassembly)'
  id: totrans-1051
  prefs: []
  type: TYPE_NORMAL
  zh: 有两种部署 Blazor WebAssembly 应用程序的方法。您可以通过将其发布文件放在任何静态托管 Web 服务器中来部署 `Client` 项目。它可以配置为调用您在
    *第16章*，*构建和使用 Web 服务* 中创建的天气服务，或者您可以部署引用 `Client` 应用程序并托管天气服务和 Blazor WebAssembly
    应用程序的 `Server` 项目。该应用程序放置在服务器网站 `wwwroot` 文件夹中，以及任何其他静态资产。您可以在以下链接中阅读有关这些选择的更多信息：[https://docs.microsoft.com/en-us/aspnet/core/blazor/host-and-deploy/webassembly](https://docs.microsoft.com/en-us/aspnet/core/blazor/host-and-deploy/webassembly)
- en: 'In the `Client` folder, open `Northwind.BlazorWasm.Client.csproj` and note
    that it uses the Blazor WebAssembly SDK and references two WebAssembly packages
    and the `Shared` project, as well as the service worker required for PWA support,
    as shown in the following markup:'
  id: totrans-1052
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“Client”文件夹中，打开“Northwind.BlazorWasm.Client.csproj”并注意它使用Blazor WebAssembly
    SDK并引用两个WebAssembly包和“Shared”项目，以及PWA支持所需的服务工作者，如下面的标记所示：
- en: '```cs'
  id: totrans-1053
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <Project Sdk="Microsoft.NET.Sdk.BlazorWebAssembly"
  id: totrans-1054
  prefs: []
  type: TYPE_NORMAL
  zh: <Project Sdk="Microsoft.NET.Sdk.BlazorWebAssembly"
- en: '>'
  id: totrans-1055
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <PropertyGroup>
  id: totrans-1056
  prefs: []
  type: TYPE_NORMAL
  zh: <PropertyGroup>
- en: <TargetFramework>net6.0
  id: totrans-1057
  prefs: []
  type: TYPE_NORMAL
  zh: <TargetFramework>net6.0
- en: </TargetFramework>
  id: totrans-1058
  prefs: []
  type: TYPE_NORMAL
  zh: </TargetFramework>
- en: <Nullable>enable</Nullable>
  id: totrans-1059
  prefs: []
  type: TYPE_NORMAL
  zh: <Nullable>enable</Nullable>
- en: <ImplicitUsings>enable</ImplicitUsings>
  id: totrans-1060
  prefs: []
  type: TYPE_NORMAL
  zh: <ImplicitUsings>enable</ImplicitUsings>
- en: <ServiceWorkerAssetsManifest>service-worker-assets.js
  id: totrans-1061
  prefs: []
  type: TYPE_NORMAL
  zh: <ServiceWorkerAssetsManifest>service-worker-assets.js
- en: </ServiceWorkerAssetsManifest>
  id: totrans-1062
  prefs: []
  type: TYPE_NORMAL
  zh: </ServiceWorkerAssetsManifest>
- en: </PropertyGroup>
  id: totrans-1063
  prefs: []
  type: TYPE_NORMAL
  zh: </PropertyGroup>
- en: <ItemGroup>
  id: totrans-1064
  prefs: []
  type: TYPE_NORMAL
  zh: <ItemGroup>
- en: <PackageReference Include=
  id: totrans-1065
  prefs: []
  type: TYPE_NORMAL
  zh: <PackageReference Include=
- en: '"Microsoft.AspNetCore.Components.WebAssembly"'
  id: totrans-1066
  prefs: []
  type: TYPE_NORMAL
  zh: “Microsoft.AspNetCore.Components.WebAssembly”
- en: Version="6.0.0"
  id: totrans-1067
  prefs: []
  type: TYPE_NORMAL
  zh: Version="6.0.0"
- en: />
  id: totrans-1068
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <PackageReference Include=
  id: totrans-1069
  prefs: []
  type: TYPE_NORMAL
  zh: <PackageReference Include=
- en: '"Microsoft.AspNetCore.Components.WebAssembly.DevServer"'
  id: totrans-1070
  prefs: []
  type: TYPE_NORMAL
  zh: “Microsoft.AspNetCore.Components.WebAssembly.DevServer”
- en: Version="6.0.0"
  id: totrans-1071
  prefs: []
  type: TYPE_NORMAL
  zh: Version="6.0.0"
- en: PrivateAssets="all"
  id: totrans-1072
  prefs: []
  type: TYPE_NORMAL
  zh: PrivateAssets="all"
- en: />
  id: totrans-1073
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </ItemGroup>
  id: totrans-1074
  prefs: []
  type: TYPE_NORMAL
  zh: </ItemGroup>
- en: <ItemGroup>
  id: totrans-1075
  prefs: []
  type: TYPE_NORMAL
  zh: <ItemGroup>
- en: <ProjectReference Include=
  id: totrans-1076
  prefs: []
  type: TYPE_NORMAL
  zh: <ProjectReference Include=
- en: '"..\Shared\Northwind.BlazorWasm.Shared.csproj"'
  id: totrans-1077
  prefs: []
  type: TYPE_NORMAL
  zh: “..\Shared\Northwind.BlazorWasm.Shared.csproj”
- en: />
  id: totrans-1078
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </ItemGroup>
  id: totrans-1079
  prefs: []
  type: TYPE_NORMAL
  zh: </ItemGroup>
- en: <ItemGroup>
  id: totrans-1080
  prefs: []
  type: TYPE_NORMAL
  zh: <ItemGroup>
- en: <ServiceWorker Include="wwwroot\service-worker.js"
  id: totrans-1081
  prefs: []
  type: TYPE_NORMAL
  zh: <ServiceWorker Include="wwwroot\service-worker.js"
- en: PublishedContent="wwwroot\service-worker.published.js"
  id: totrans-1082
  prefs: []
  type: TYPE_NORMAL
  zh: PublishedContent="wwwroot\service-worker.published.js"
- en: />
  id: totrans-1083
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </ItemGroup>
  id: totrans-1084
  prefs: []
  type: TYPE_NORMAL
  zh: </ItemGroup>
- en: </Project>
  id: totrans-1085
  prefs: []
  type: TYPE_NORMAL
  zh: </Project>
- en: '```'
  id: totrans-1086
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Client` folder, open `Program.cs` and note that the host builder is
    for `WebAssembly` instead of server-side ASP.NET Core, and that it registers a
    dependency service for making HTTP requests, which is an extremely common requirement
    for Blazor WebAssembly apps, as shown in the following code:'
  id: totrans-1087
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“Client”文件夹中，打开“Program.cs”并注意主机生成器是用于“WebAssembly”，而不是服务器端ASP.NET Core，并且它注册了一个用于进行HTTP请求的依赖服务，这是Blazor
    WebAssembly应用程序的一个极其常见的要求，如下面的代码所示：
- en: '```cs'
  id: totrans-1088
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: using
  id: totrans-1089
  prefs: []
  type: TYPE_NORMAL
  zh: 使用
- en: Microsoft.AspNetCore.Components.Web;
  id: totrans-1090
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft.AspNetCore.Components.Web;
- en: using
  id: totrans-1091
  prefs: []
  type: TYPE_NORMAL
  zh: 使用
- en: Microsoft.AspNetCore.Components.WebAssembly.Hosting;
  id: totrans-1092
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft.AspNetCore.Components.WebAssembly.Hosting;
- en: using
  id: totrans-1093
  prefs: []
  type: TYPE_NORMAL
  zh: 使用
- en: Northwind.BlazorWasm.Client;
  id: totrans-1094
  prefs: []
  type: TYPE_NORMAL
  zh: Northwind.BlazorWasm.Client;
- en: var
  id: totrans-1095
  prefs: []
  type: TYPE_NORMAL
  zh: var
- en: builder = WebAssemblyHostBuilder.CreateDefault(args);
  id: totrans-1096
  prefs: []
  type: TYPE_NORMAL
  zh: builder = WebAssemblyHostBuilder.CreateDefault(args);
- en: builder.RootComponents.Add<App>("#app"
  id: totrans-1097
  prefs: []
  type: TYPE_NORMAL
  zh: builder.RootComponents.Add<App>("#app"
- en: );
  id: totrans-1098
  prefs: []
  type: TYPE_NORMAL
  zh: );
- en: builder.RootComponents.Add<HeadOutlet>("head::after"
  id: totrans-1099
  prefs: []
  type: TYPE_NORMAL
  zh: builder.RootComponents.Add<HeadOutlet>("head::after"
- en: );
  id: totrans-1100
  prefs: []
  type: TYPE_NORMAL
  zh: );
- en: builder.Services.AddScoped(sp => new
  id: totrans-1101
  prefs: []
  type: TYPE_NORMAL
  zh: builder.Services.AddScoped(sp => new
- en: HttpClient
  id: totrans-1102
  prefs: []
  type: TYPE_NORMAL
  zh: HttpClient
- en: '{ BaseAddress = new'
  id: totrans-1103
  prefs: []
  type: TYPE_NORMAL
  zh: '{ BaseAddress = new'
- en: Uri(builder.HostEnvironment.BaseAddress) });
  id: totrans-1104
  prefs: []
  type: TYPE_NORMAL
  zh: Uri(builder.HostEnvironment.BaseAddress) });
- en: await
  id: totrans-1105
  prefs: []
  type: TYPE_NORMAL
  zh: 等待
- en: builder.Build().RunAsync();
  id: totrans-1106
  prefs: []
  type: TYPE_NORMAL
  zh: builder.Build().RunAsync();
- en: '```'
  id: totrans-1107
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `wwwroot` folder, open `index.html` and note the `manifest.json` and
    `service-worker.js` files supporting offline work, and the `blazor.webassembly.js`
    script that downloads all the NuGet packages for Blazor WebAssembly, as shown
    in the following markup:'
  id: totrans-1108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“wwwroot”文件夹中，打开“index.html”并注意支持离线工作的“manifest.json”和“service-worker.js”文件，以及下载所有NuGet包的“blazor.webassembly.js”脚本，如下面的标记所示：
- en: '```cs'
  id: totrans-1109
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <!DOCTYPE
  id: totrans-1110
  prefs: []
  type: TYPE_NORMAL
  zh: <!DOCTYPE
- en: html
  id: totrans-1111
  prefs: []
  type: TYPE_NORMAL
  zh: html
- en: '>'
  id: totrans-1112
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1113
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: html
  id: totrans-1114
  prefs: []
  type: TYPE_NORMAL
  zh: html
- en: '>'
  id: totrans-1115
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1116
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: head
  id: totrans-1117
  prefs: []
  type: TYPE_NORMAL
  zh: 头
- en: '>'
  id: totrans-1118
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1119
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: meta
  id: totrans-1120
  prefs: []
  type: TYPE_NORMAL
  zh: 元
- en: charset
  id: totrans-1121
  prefs: []
  type: TYPE_NORMAL
  zh: 字符集
- en: '='
  id: totrans-1122
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"utf-8"'
  id: totrans-1123
  prefs: []
  type: TYPE_NORMAL
  zh: “utf-8”
- en: />
  id: totrans-1124
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1125
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: meta
  id: totrans-1126
  prefs: []
  type: TYPE_NORMAL
  zh: 元
- en: name
  id: totrans-1127
  prefs: []
  type: TYPE_NORMAL
  zh: 名称
- en: '='
  id: totrans-1128
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"viewport"'
  id: totrans-1129
  prefs: []
  type: TYPE_NORMAL
  zh: “视口”
- en: content
  id: totrans-1130
  prefs: []
  type: TYPE_NORMAL
  zh: 内容
- en: '='
  id: totrans-1131
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"'
  id: totrans-1132
  prefs: []
  type: TYPE_NORMAL
  zh: “width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no”
- en: />
  id: totrans-1133
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1134
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: title
  id: totrans-1135
  prefs: []
  type: TYPE_NORMAL
  zh: 标题
- en: '>'
  id: totrans-1136
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Northwind.BlazorWasm</
  id: totrans-1137
  prefs: []
  type: TYPE_NORMAL
  zh: Northwind.BlazorWasm</
- en: title
  id: totrans-1138
  prefs: []
  type: TYPE_NORMAL
  zh: 标题
- en: '>'
  id: totrans-1139
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1140
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: base
  id: totrans-1141
  prefs: []
  type: TYPE_NORMAL
  zh: 基础
- en: href
  id: totrans-1142
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1143
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"/"'
  id: totrans-1144
  prefs: []
  type: TYPE_NORMAL
  zh: “/”
- en: />
  id: totrans-1145
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1146
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-1147
  prefs: []
  type: TYPE_NORMAL
  zh: 链接
- en: href
  id: totrans-1148
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1149
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"css/bootstrap/bootstrap.min.css"'
  id: totrans-1150
  prefs: []
  type: TYPE_NORMAL
  zh: “css/bootstrap/bootstrap.min.css”
- en: rel
  id: totrans-1151
  prefs: []
  type: TYPE_NORMAL
  zh: 关系
- en: '='
  id: totrans-1152
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"stylesheet"'
  id: totrans-1153
  prefs: []
  type: TYPE_NORMAL
  zh: “样式表”
- en: />
  id: totrans-1154
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1155
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-1156
  prefs: []
  type: TYPE_NORMAL
  zh: 链接
- en: href
  id: totrans-1157
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1158
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"css/app.css"'
  id: totrans-1159
  prefs: []
  type: TYPE_NORMAL
  zh: “css/app.css”
- en: rel
  id: totrans-1160
  prefs: []
  type: TYPE_NORMAL
  zh: 关系
- en: '='
  id: totrans-1161
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"stylesheet"'
  id: totrans-1162
  prefs: []
  type: TYPE_NORMAL
  zh: “样式表”
- en: />
  id: totrans-1163
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1164
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-1165
  prefs: []
  type: TYPE_NORMAL
  zh: 链接
- en: href
  id: totrans-1166
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1167
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"Northwind.BlazorWasm.Client.styles.css"'
  id: totrans-1168
  prefs: []
  type: TYPE_NORMAL
  zh: “Northwind.BlazorWasm.Client.styles.css”
- en: rel
  id: totrans-1169
  prefs: []
  type: TYPE_NORMAL
  zh: 关系
- en: '='
  id: totrans-1170
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"stylesheet"'
  id: totrans-1171
  prefs: []
  type: TYPE_NORMAL
  zh: “样式表”
- en: />
  id: totrans-1172
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1173
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-1174
  prefs: []
  type: TYPE_NORMAL
  zh: 链接
- en: href
  id: totrans-1175
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1176
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"manifest.json"'
  id: totrans-1177
  prefs: []
  type: TYPE_NORMAL
  zh: “manifest.json”
- en: rel
  id: totrans-1178
  prefs: []
  type: TYPE_NORMAL
  zh: 关系
- en: '='
  id: totrans-1179
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"manifest"'
  id: totrans-1180
  prefs: []
  type: TYPE_NORMAL
  zh: “清单”
- en: />
  id: totrans-1181
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1182
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-1183
  prefs: []
  type: TYPE_NORMAL
  zh: 链接
- en: rel
  id: totrans-1184
  prefs: []
  type: TYPE_NORMAL
  zh: 关系
- en: '='
  id: totrans-1185
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"apple-touch-icon"'
  id: totrans-1186
  prefs: []
  type: TYPE_NORMAL
  zh: “apple-touch-icon”
- en: sizes
  id: totrans-1187
  prefs: []
  type: TYPE_NORMAL
  zh: 尺寸
- en: '='
  id: totrans-1188
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"512x512"'
  id: totrans-1189
  prefs: []
  type: TYPE_NORMAL
  zh: “512x512”
- en: href
  id: totrans-1190
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1191
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"icon-512.png"'
  id: totrans-1192
  prefs: []
  type: TYPE_NORMAL
  zh: “图标-512.png”
- en: />
  id: totrans-1193
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1194
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: link
  id: totrans-1195
  prefs: []
  type: TYPE_NORMAL
  zh: 链接
- en: rel
  id: totrans-1196
  prefs: []
  type: TYPE_NORMAL
  zh: 关系
- en: '='
  id: totrans-1197
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"apple-touch-icon"'
  id: totrans-1198
  prefs: []
  type: TYPE_NORMAL
  zh: “apple-touch-icon”
- en: sizes
  id: totrans-1199
  prefs: []
  type: TYPE_NORMAL
  zh: 尺寸
- en: '='
  id: totrans-1200
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"192x192"'
  id: totrans-1201
  prefs: []
  type: TYPE_NORMAL
  zh: “192x192”
- en: href
  id: totrans-1202
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1203
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"icon-192.png"'
  id: totrans-1204
  prefs: []
  type: TYPE_NORMAL
  zh: “图标-192.png”
- en: />
  id: totrans-1205
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </
  id: totrans-1206
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: head
  id: totrans-1207
  prefs: []
  type: TYPE_NORMAL
  zh: 头
- en: '>'
  id: totrans-1208
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1209
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: body
  id: totrans-1210
  prefs: []
  type: TYPE_NORMAL
  zh: 身体
- en: '>'
  id: totrans-1211
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1212
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-1213
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: id
  id: totrans-1214
  prefs: []
  type: TYPE_NORMAL
  zh: 标识
- en: '='
  id: totrans-1215
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"app"'
  id: totrans-1216
  prefs: []
  type: TYPE_NORMAL
  zh: “应用”
- en: '>'
  id: totrans-1217
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Loading...</
  id: totrans-1218
  prefs: []
  type: TYPE_NORMAL
  zh: 加载中...</
- en: div
  id: totrans-1219
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1220
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1221
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-1222
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: id
  id: totrans-1223
  prefs: []
  type: TYPE_NORMAL
  zh: id
- en: '='
  id: totrans-1224
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"blazor-error-ui"'
  id: totrans-1225
  prefs: []
  type: TYPE_NORMAL
  zh: “blazor-error-ui”
- en: '>'
  id: totrans-1226
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: An unhandled error has occurred.
  id: totrans-1227
  prefs: []
  type: TYPE_NORMAL
  zh: 发生了一个未处理的错误。
- en: <
  id: totrans-1228
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-1229
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: href
  id: totrans-1230
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1231
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '""'
  id: totrans-1232
  prefs: []
  type: TYPE_NORMAL
  zh: '""'
- en: class
  id: totrans-1233
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: '='
  id: totrans-1234
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"reload"'
  id: totrans-1235
  prefs: []
  type: TYPE_NORMAL
  zh: “重新加载”
- en: '>'
  id: totrans-1236
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Reload</
  id: totrans-1237
  prefs: []
  type: TYPE_NORMAL
  zh: 重新加载</
- en: a
  id: totrans-1238
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-1239
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1240
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-1241
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: class
  id: totrans-1242
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: '='
  id: totrans-1243
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"dismiss"'
  id: totrans-1244
  prefs: []
  type: TYPE_NORMAL
  zh: “解散”
- en: '>'
  id: totrans-1245
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '![](img/Image00149.jpg)'
  id: totrans-1246
  prefs: []
  type: TYPE_IMG
  zh: ！[](img/Image00149.jpg)
- en: </
  id: totrans-1247
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: a
  id: totrans-1248
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-1249
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1250
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-1251
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1252
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1253
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: script
  id: totrans-1254
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本
- en: src
  id: totrans-1255
  prefs: []
  type: TYPE_NORMAL
  zh: src
- en: '='
  id: totrans-1256
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"_framework/blazor.webassembly.js"'
  id: totrans-1257
  prefs: []
  type: TYPE_NORMAL
  zh: “_framework/blazor.webassembly.js”
- en: '></'
  id: totrans-1258
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: script
  id: totrans-1259
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本
- en: '>'
  id: totrans-1260
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1261
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: script
  id: totrans-1262
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本
- en: '>'
  id: totrans-1263
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: navigator.serviceWorker.register('service-worker.js'
  id: totrans-1264
  prefs: []
  type: TYPE_NORMAL
  zh: navigator.serviceWorker.register('service-worker.js'
- en: );</
  id: totrans-1265
  prefs: []
  type: TYPE_NORMAL
  zh: );</
- en: script
  id: totrans-1266
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本
- en: '>'
  id: totrans-1267
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1268
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: body
  id: totrans-1269
  prefs: []
  type: TYPE_NORMAL
  zh: 身体
- en: '>'
  id: totrans-1270
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1271
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: html
  id: totrans-1272
  prefs: []
  type: TYPE_NORMAL
  zh: html
- en: '>'
  id: totrans-1273
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-1274
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'Note that the following `.razor` files are identical to those in a Blazor Server
    project:'
  id: totrans-1275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 请注意，以下“.razor”文件与Blazor Server项目中的文件相同：
- en: '`App.razor`'
  id: totrans-1276
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`App.razor`'
- en: '`Shared\MainLayout.razor`'
  id: totrans-1277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Shared\MainLayout.razor`'
- en: '`Shared\NavMenu.razor`'
  id: totrans-1278
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Shared\NavMenu.razor`'
- en: '`Shared\SurveyPrompt.razor`'
  id: totrans-1279
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Shared\SurveyPrompt.razor`'
- en: '`Pages\Counter.razor`'
  id: totrans-1280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pages\Counter.razor`'
- en: '`Pages\Index.razor`'
  id: totrans-1281
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Pages\Index.razor`'
- en: 'In the `Pages` folder, open `FetchData.razor` and note that the markup is like
    Blazor Server except for the injected dependency service for making HTTP requests,
    as shown highlighted in the following partial markup:'
  id: totrans-1282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“页面”文件夹中，打开“FetchData.razor”并注意标记与Blazor Server相似，除了用于进行HTTP请求的注入依赖服务，如下面的部分标记所示：
- en: '```cs'
  id: totrans-1283
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/fetchdata"'
  id: totrans-1284
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/fetchdata"'
- en: '@using Northwind.BlazorWasm.Shared'
  id: totrans-1285
  prefs: []
  type: TYPE_NORMAL
  zh: '@using Northwind.BlazorWasm.Shared'
- en: '**@inject HttpClient Http**'
  id: totrans-1286
  prefs: []
  type: TYPE_NORMAL
  zh: '**@inject HttpClient Http**'
- en: <h1
  id: totrans-1287
  prefs: []
  type: TYPE_NORMAL
  zh: <h1
- en: '>Weather forecast</h1'
  id: totrans-1288
  prefs: []
  type: TYPE_NORMAL
  zh: '>天气预报</h1'
- en: '>'
  id: totrans-1289
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '...'
  id: totrans-1290
  prefs: []
  type: TYPE_NORMAL
  zh: '...'
- en: '@code {'
  id: totrans-1291
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: private
  id: totrans-1292
  prefs: []
  type: TYPE_NORMAL
  zh: 私人的
- en: WeatherForecast[]? forecasts;
  id: totrans-1293
  prefs: []
  type: TYPE_NORMAL
  zh: WeatherForecast[]? forecasts;
- en: protected
  id: totrans-1294
  prefs: []
  type: TYPE_NORMAL
  zh: 受保护的
- en: override
  id: totrans-1295
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖
- en: async
  id: totrans-1296
  prefs: []
  type: TYPE_NORMAL
  zh: async
- en: Task
  id: totrans-1297
  prefs: []
  type: TYPE_NORMAL
  zh: 任务
- en: OnInitializedAsync
  id: totrans-1298
  prefs: []
  type: TYPE_NORMAL
  zh: OnInitializedAsync
- en: ()
  id: totrans-1299
  prefs: []
  type: TYPE_NORMAL
  zh: （）
- en: '{'
  id: totrans-1300
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: '**forecasts =**'
  id: totrans-1301
  prefs: []
  type: TYPE_NORMAL
  zh: '**预测=**'
- en: '**await**'
  id: totrans-1302
  prefs: []
  type: TYPE_NORMAL
  zh: '**await**'
- en: '**Http.GetFromJsonAsync<WeatherForecast[]>(**'
  id: totrans-1303
  prefs: []
  type: TYPE_NORMAL
  zh: '**Http.GetFromJsonAsync<WeatherForecast[]>(**'
- en: '**"WeatherForecast"**'
  id: totrans-1304
  prefs: []
  type: TYPE_NORMAL
  zh: '**“WeatherForecast”**'
- en: '**);**'
  id: totrans-1305
  prefs: []
  type: TYPE_NORMAL
  zh: '**);**'
- en: '}'
  id: totrans-1306
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-1307
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-1308
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Start the `Northwind.BlazorWasm.Server` project.
  id: totrans-1309
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动“Northwind.BlazorWasm.Server”项目。
- en: Note that the app has the same functionality as before. The Blazor component
    code is executing inside the browser instead of on the server. The weather service
    is running on the web server.
  id: totrans-1310
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Close Chrome and shut down the web server.
  id: totrans-1311
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Building components using Blazor Server
  id: totrans-1312
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we will build a component to list, create, and edit customers
    in the Northwind database. We will build it first for Blazor Server naively, and
    then refactor it to work with both Blazor Server and Blazor WebAssembly.
  id: totrans-1313
  prefs: []
  type: TYPE_NORMAL
- en: Defining and testing a simple component
  id: totrans-1314
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'We will add the new component to the existing Blazor Server project:'
  id: totrans-1315
  prefs: []
  type: TYPE_NORMAL
- en: In the `Northwind.BlazorServer` project (*not* the `Northwind.BlazorWasm.Server`
    project), in the `Pages` folder, add a new file named `Customers.razor` . In Visual
    Studio, the project item is named **Razor Component** .
  id: totrans-1316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Good Practice** : Component filenames must start with an uppercase letter,
    or you will have compile errors!'
  id: totrans-1317
  prefs: []
  type: TYPE_NORMAL
- en: 'Add statements to output a heading for the `Customers` component and define
    a code block that defines a property to store the name of a country, as shown
    in the following markup:'
  id: totrans-1318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-1319
  prefs: []
  type: TYPE_NORMAL
- en: <h3
  id: totrans-1320
  prefs: []
  type: TYPE_NORMAL
- en: '>Customers@(string'
  id: totrans-1321
  prefs: []
  type: TYPE_NORMAL
- en: .IsNullOrWhiteSpace(Country) ? " Worldwide"
  id: totrans-1322
  prefs: []
  type: TYPE_NORMAL
- en: ': " in "'
  id: totrans-1323
  prefs: []
  type: TYPE_NORMAL
- en: + Country)</h3
  id: totrans-1324
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1325
  prefs: []
  type: TYPE_NORMAL
- en: '@code {'
  id: totrans-1326
  prefs: []
  type: TYPE_NORMAL
- en: '[Parameter'
  id: totrans-1327
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-1328
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-1329
  prefs: []
  type: TYPE_NORMAL
- en: string
  id: totrans-1330
  prefs: []
  type: TYPE_NORMAL
- en: '? Country { get'
  id: totrans-1331
  prefs: []
  type: TYPE_NORMAL
- en: ; set
  id: totrans-1332
  prefs: []
  type: TYPE_NORMAL
- en: ; }
  id: totrans-1333
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-1334
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-1335
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Pages` folder, in the `Index.razor` component, add statements to the
    bottom of the file to instantiate the `Customers` component twice, once passing
    `Germany` as the country parameter, and once without setting the country, as shown
    in the following markup:'
  id: totrans-1336
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-1337
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-1338
  prefs: []
  type: TYPE_NORMAL
- en: Customers
  id: totrans-1339
  prefs: []
  type: TYPE_NORMAL
- en: Country
  id: totrans-1340
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1341
  prefs: []
  type: TYPE_NORMAL
- en: '"Germany"'
  id: totrans-1342
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-1343
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-1344
  prefs: []
  type: TYPE_NORMAL
- en: Customers
  id: totrans-1345
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-1346
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-1347
  prefs: []
  type: TYPE_NORMAL
- en: Start the `Northwind.BlazorServer` website project.
  id: totrans-1348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Start Chrome.
  id: totrans-1349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Navigate to `https://localhost:5001/` and note the `Customers` components, as
    shown in *Figure 17.4* :![](img/Image00153.jpg)
  id: totrans-1350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 17.4: The Customers component with the Country parameter set to Germany
    and not set'
  id: totrans-1351
  prefs: []
  type: TYPE_NORMAL
- en: Close Chrome and shut down the web server.
  id: totrans-1352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Making the component a routable page component
  id: totrans-1353
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'It is simple to turn this component into a routable page component with a route
    parameter for the country:'
  id: totrans-1354
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Pages` folder, in the `Customers.razor` component, add a statement
    at the top of the file to register `/customers` as its route with an optional
    country route parameter, as shown in the following markup:'
  id: totrans-1355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-1356
  prefs: []
  type: TYPE_NORMAL
- en: '@page "/customers/{country?}"'
  id: totrans-1357
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-1358
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Shared` folder, open `NavMenu.razor` and add two list item elements
    for our routable page component to show customers worldwide and in Germany that
    both use an icon of people, as shown in the following markup:'
  id: totrans-1359
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-1360
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-1361
  prefs: []
  type: TYPE_NORMAL
- en: div
  id: totrans-1362
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-1363
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1364
  prefs: []
  type: TYPE_NORMAL
- en: '"nav-item px-3"'
  id: totrans-1365
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1366
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-1367
  prefs: []
  type: TYPE_NORMAL
- en: NavLink
  id: totrans-1368
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-1369
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1370
  prefs: []
  type: TYPE_NORMAL
- en: '"nav-link"'
  id: totrans-1371
  prefs: []
  type: TYPE_NORMAL
- en: href
  id: totrans-1372
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1373
  prefs: []
  type: TYPE_NORMAL
- en: '"customers"'
  id: totrans-1374
  prefs: []
  type: TYPE_NORMAL
- en: Match
  id: totrans-1375
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1376
  prefs: []
  type: TYPE_NORMAL
- en: '"NavLinkMatch.All"'
  id: totrans-1377
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1378
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-1379
  prefs: []
  type: TYPE_NORMAL
- en: span
  id: totrans-1380
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-1381
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1382
  prefs: []
  type: TYPE_NORMAL
- en: '"oi oi-people"'
  id: totrans-1383
  prefs: []
  type: TYPE_NORMAL
- en: aria-hidden
  id: totrans-1384
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1385
  prefs: []
  type: TYPE_NORMAL
- en: '"true"'
  id: totrans-1386
  prefs: []
  type: TYPE_NORMAL
- en: '></'
  id: totrans-1387
  prefs: []
  type: TYPE_NORMAL
- en: span
  id: totrans-1388
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1389
  prefs: []
  type: TYPE_NORMAL
- en: Customers Worldwide
  id: totrans-1390
  prefs: []
  type: TYPE_NORMAL
- en: </
  id: totrans-1391
  prefs: []
  type: TYPE_NORMAL
- en: NavLink
  id: totrans-1392
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1393
  prefs: []
  type: TYPE_NORMAL
- en: </
  id: totrans-1394
  prefs: []
  type: TYPE_NORMAL
- en: div
  id: totrans-1395
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1396
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-1397
  prefs: []
  type: TYPE_NORMAL
- en: div
  id: totrans-1398
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-1399
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1400
  prefs: []
  type: TYPE_NORMAL
- en: '"nav-item px-3"'
  id: totrans-1401
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1402
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-1403
  prefs: []
  type: TYPE_NORMAL
- en: NavLink
  id: totrans-1404
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-1405
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1406
  prefs: []
  type: TYPE_NORMAL
- en: '"nav-link"'
  id: totrans-1407
  prefs: []
  type: TYPE_NORMAL
- en: href
  id: totrans-1408
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1409
  prefs: []
  type: TYPE_NORMAL
- en: '"customers/Germany"'
  id: totrans-1410
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1411
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-1412
  prefs: []
  type: TYPE_NORMAL
- en: span
  id: totrans-1413
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-1414
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1415
  prefs: []
  type: TYPE_NORMAL
- en: '"oi oi-people"'
  id: totrans-1416
  prefs: []
  type: TYPE_NORMAL
- en: aria-hidden
  id: totrans-1417
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-1418
  prefs: []
  type: TYPE_NORMAL
- en: '"true"'
  id: totrans-1419
  prefs: []
  type: TYPE_NORMAL
- en: '></'
  id: totrans-1420
  prefs: []
  type: TYPE_NORMAL
- en: span
  id: totrans-1421
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1422
  prefs: []
  type: TYPE_NORMAL
- en: Customers in Germany
  id: totrans-1423
  prefs: []
  type: TYPE_NORMAL
- en: </
  id: totrans-1424
  prefs: []
  type: TYPE_NORMAL
- en: NavLink
  id: totrans-1425
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1426
  prefs: []
  type: TYPE_NORMAL
- en: </
  id: totrans-1427
  prefs: []
  type: TYPE_NORMAL
- en: div
  id: totrans-1428
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-1429
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-1430
  prefs: []
  type: TYPE_NORMAL
- en: 'We used an icon of people for the customers menu item. You can see the other
    available icons at the following link: [https://iconify.design/icon-sets/oi/](https://iconify.design/icon-sets/oi/)'
  id: totrans-1431
  prefs: []
  type: TYPE_NORMAL
- en: Start the website project.
  id: totrans-1432
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Start Chrome.
  id: totrans-1433
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Navigate to `https://localhost:5001/` .
  id: totrans-1434
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the left navigation menu, click **Customers in Germany** , and note that
    the country name is correctly passed to the page component and that the component
    uses the same shared layout as the other page components, like `Index.razor` .
  id: totrans-1435
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Close Chrome and shut down the web server.
  id: totrans-1436
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Getting entities into a component
  id: totrans-1437
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Now that you have seen the minimum implementation of a component, we can add
    some useful functionality to it. In this case, we will use the Northwind database
    context to fetch customers from the database:'
  id: totrans-1438
  prefs: []
  type: TYPE_NORMAL
- en: 'In `Northwind.BlazorServer.csproj` , add a reference to the Northwind database
    context project for either SQL Server or SQLite, as shown in the following markup:'
  id: totrans-1439
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-1440
  prefs: []
  type: TYPE_NORMAL
- en: <ItemGroup>
  id: totrans-1441
  prefs: []
  type: TYPE_NORMAL
- en: <!-- change Sqlite to SqlServer if you prefer -->
  id: totrans-1442
  prefs: []
  type: TYPE_NORMAL
  zh: <!-- 如果您喜欢，将Sqlite更改为SqlServer -->
- en: <ProjectReference Include="..\Northwind.Common.DataContext.Sqlite
  id: totrans-1443
  prefs: []
  type: TYPE_NORMAL
  zh: <ProjectReference Include="..\Northwind.Common.DataContext.Sqlite
- en: \Northwind.Common.DataContext.Sqlite.csproj"
  id: totrans-1444
  prefs: []
  type: TYPE_NORMAL
  zh: \Northwind.Common.DataContext.Sqlite.csproj"
- en: />
  id: totrans-1445
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </ItemGroup>
  id: totrans-1446
  prefs: []
  type: TYPE_NORMAL
  zh: </ItemGroup>
- en: '```'
  id: totrans-1447
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Build the `Northwind.BlazorServer` project.
  id: totrans-1448
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建`Northwind.BlazorServer`项目。
- en: 'In `Program.cs` , import the namespace for working with the Northwind database
    context, as shown in the following code:'
  id: totrans-1449
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Program.cs`中，导入用于处理Northwind数据库上下文的命名空间，如下面的代码所示：
- en: '```cs'
  id: totrans-1450
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: using
  id: totrans-1451
  prefs: []
  type: TYPE_NORMAL
  zh: using
- en: Packt.Shared; // AddNorthwindContext extension method
  id: totrans-1452
  prefs: []
  type: TYPE_NORMAL
  zh: Packt.Shared; // 添加NorthwindContext扩展方法
- en: '```'
  id: totrans-1453
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the section that configures services, add a statement to register the Northwind
    database context in the dependency services collection, as shown in the following
    code:'
  id: totrans-1454
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在配置服务的部分，添加一个语句来注册Northwind数据库上下文到依赖服务集合中，如下面的代码所示：
- en: '```cs'
  id: totrans-1455
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: builder.Services.AddNorthwindContext();
  id: totrans-1456
  prefs: []
  type: TYPE_NORMAL
  zh: builder.Services.AddNorthwindContext();
- en: '```'
  id: totrans-1457
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'Open `_Imports.razor` and import namespaces for working with the Northwind
    entities so that Blazor components that we build do not need to import the namespaces
    individually, as shown in the following markup:'
  id: totrans-1458
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开`_Imports.razor`并导入用于处理Northwind实体的命名空间，以便我们构建的Blazor组件不需要单独导入命名空间，如下面的标记所示：
- en: '```cs'
  id: totrans-1459
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@using Packt.Shared  @* Northwind entities *@'
  id: totrans-1460
  prefs: []
  type: TYPE_NORMAL
  zh: '@using Packt.Shared  @* Northwind entities *@'
- en: '```'
  id: totrans-1461
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: The `_Imports.razor` file only applies to `.razor` files. If you use code-behind
    `.cs` files to implement component code, then they must have namespaces imported
    separately or use global usings to implicitly import the namespace.
  id: totrans-1462
  prefs: []
  type: TYPE_NORMAL
  zh: '`_Imports.razor`文件仅适用于`.razor`文件。如果您使用代码后端的`.cs`文件来实现组件代码，那么它们必须单独导入命名空间，或者使用全局导入来隐式导入命名空间。'
- en: 'In the `Pages` folder, in `Customers.razor` , add statements to inject the
    Northwind database context and then use it to output a table of all customers,
    as shown in the following code:'
  id: totrans-1463
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Pages`文件夹中，在`Customers.razor`中，添加语句来注入Northwind数据库上下文，然后使用它来输出所有客户的表格，如下面的代码所示：
- en: '```cs'
  id: totrans-1464
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@using Microsoft.EntityFrameworkCore  @* ToListAsync extension method *@'
  id: totrans-1465
  prefs: []
  type: TYPE_NORMAL
  zh: '@using Microsoft.EntityFrameworkCore  @* ToListAsync扩展方法 *@'
- en: '@page "/customers/{country?}"'
  id: totrans-1466
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/customers/{country?}"'
- en: '@inject NorthwindContext db'
  id: totrans-1467
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject NorthwindContext db'
- en: <
  id: totrans-1468
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: h3
  id: totrans-1469
  prefs: []
  type: TYPE_NORMAL
  zh: h3
- en: '>'
  id: totrans-1470
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Customers @(string.IsNullOrWhiteSpace(Country)
  id: totrans-1471
  prefs: []
  type: TYPE_NORMAL
  zh: Customers @(string.IsNullOrWhiteSpace(Country)
- en: '? "Worldwide" : "in " + Country)</'
  id: totrans-1472
  prefs: []
  type: TYPE_NORMAL
  zh: '? "全球" : "在" + Country)</'
- en: h3
  id: totrans-1473
  prefs: []
  type: TYPE_NORMAL
  zh: h3
- en: '>'
  id: totrans-1474
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@if (customers == null)'
  id: totrans-1475
  prefs: []
  type: TYPE_NORMAL
  zh: '@if (customers == null)'
- en: '{'
  id: totrans-1476
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: <
  id: totrans-1477
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: p
  id: totrans-1478
  prefs: []
  type: TYPE_NORMAL
  zh: p
- en: '><'
  id: totrans-1479
  prefs: []
  type: TYPE_NORMAL
  zh: '><'
- en: em
  id: totrans-1480
  prefs: []
  type: TYPE_NORMAL
  zh: em
- en: '>'
  id: totrans-1481
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Loading...</
  id: totrans-1482
  prefs: []
  type: TYPE_NORMAL
  zh: 加载中...
- en: em
  id: totrans-1483
  prefs: []
  type: TYPE_NORMAL
  zh: em
- en: '></'
  id: totrans-1484
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: p
  id: totrans-1485
  prefs: []
  type: TYPE_NORMAL
  zh: p
- en: '>'
  id: totrans-1486
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '}'
  id: totrans-1487
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: else
  id: totrans-1488
  prefs: []
  type: TYPE_NORMAL
  zh: else
- en: '{'
  id: totrans-1489
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: <
  id: totrans-1490
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: table
  id: totrans-1491
  prefs: []
  type: TYPE_NORMAL
  zh: table
- en: class
  id: totrans-1492
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-1493
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"table"'
  id: totrans-1494
  prefs: []
  type: TYPE_NORMAL
  zh: '"table"'
- en: '>'
  id: totrans-1495
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1496
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: thead
  id: totrans-1497
  prefs: []
  type: TYPE_NORMAL
  zh: thead
- en: '>'
  id: totrans-1498
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1499
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: tr
  id: totrans-1500
  prefs: []
  type: TYPE_NORMAL
  zh: tr
- en: '>'
  id: totrans-1501
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1502
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-1503
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1504
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Id</
  id: totrans-1505
  prefs: []
  type: TYPE_NORMAL
  zh: Id</
- en: th
  id: totrans-1506
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1507
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1508
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-1509
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1510
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Company Name</
  id: totrans-1511
  prefs: []
  type: TYPE_NORMAL
  zh: 公司名称</
- en: th
  id: totrans-1512
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1513
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1514
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-1515
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1516
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Address</
  id: totrans-1517
  prefs: []
  type: TYPE_NORMAL
  zh: 地址</
- en: th
  id: totrans-1518
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1519
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1520
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-1521
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1522
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Phone</
  id: totrans-1523
  prefs: []
  type: TYPE_NORMAL
  zh: 电话</
- en: th
  id: totrans-1524
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1525
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1526
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: th
  id: totrans-1527
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '></'
  id: totrans-1528
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: th
  id: totrans-1529
  prefs: []
  type: TYPE_NORMAL
  zh: th
- en: '>'
  id: totrans-1530
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1531
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: tr
  id: totrans-1532
  prefs: []
  type: TYPE_NORMAL
  zh: tr
- en: '>'
  id: totrans-1533
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1534
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: thead
  id: totrans-1535
  prefs: []
  type: TYPE_NORMAL
  zh: thead
- en: '>'
  id: totrans-1536
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1537
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: tbody
  id: totrans-1538
  prefs: []
  type: TYPE_NORMAL
  zh: tbody
- en: '>'
  id: totrans-1539
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@foreach (Customer c in customers)'
  id: totrans-1540
  prefs: []
  type: TYPE_NORMAL
  zh: '@foreach (Customer c in customers)'
- en: '{'
  id: totrans-1541
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: <
  id: totrans-1542
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: tr
  id: totrans-1543
  prefs: []
  type: TYPE_NORMAL
  zh: tr
- en: '>'
  id: totrans-1544
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1545
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-1546
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1547
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@c.CustomerId</'
  id: totrans-1548
  prefs: []
  type: TYPE_NORMAL
  zh: '@c.CustomerId</'
- en: td
  id: totrans-1549
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1550
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1551
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-1552
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1553
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@c.CompanyName</'
  id: totrans-1554
  prefs: []
  type: TYPE_NORMAL
  zh: '@c.CompanyName</'
- en: td
  id: totrans-1555
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1556
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1557
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-1558
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1559
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@c.Address<'
  id: totrans-1560
  prefs: []
  type: TYPE_NORMAL
  zh: '@c.Address<'
- en: br
  id: totrans-1561
  prefs: []
  type: TYPE_NORMAL
  zh: br
- en: />
  id: totrans-1562
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '@c.City<'
  id: totrans-1563
  prefs: []
  type: TYPE_NORMAL
  zh: '@c.City<'
- en: br
  id: totrans-1564
  prefs: []
  type: TYPE_NORMAL
  zh: br
- en: />
  id: totrans-1565
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '@c.PostalCode<'
  id: totrans-1566
  prefs: []
  type: TYPE_NORMAL
  zh: '@c.PostalCode<'
- en: br
  id: totrans-1567
  prefs: []
  type: TYPE_NORMAL
  zh: br
- en: />
  id: totrans-1568
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '@c.Country'
  id: totrans-1569
  prefs: []
  type: TYPE_NORMAL
  zh: '@c.Country'
- en: </
  id: totrans-1570
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: td
  id: totrans-1571
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1572
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1573
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-1574
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1575
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@c.Phone</'
  id: totrans-1576
  prefs: []
  type: TYPE_NORMAL
  zh: '@c.Phone</'
- en: td
  id: totrans-1577
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1578
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1579
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: td
  id: totrans-1580
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1581
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1582
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-1583
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: class
  id: totrans-1584
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-1585
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"btn btn-info"'
  id: totrans-1586
  prefs: []
  type: TYPE_NORMAL
  zh: '"btn btn-info"'
- en: href
  id: totrans-1587
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1588
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"editcustomer/@c.CustomerId"'
  id: totrans-1589
  prefs: []
  type: TYPE_NORMAL
  zh: 编辑客户/@c.CustomerId
- en: '>'
  id: totrans-1590
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1591
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: i
  id: totrans-1592
  prefs: []
  type: TYPE_NORMAL
  zh: i
- en: class
  id: totrans-1593
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-1594
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"oi oi-pencil"'
  id: totrans-1595
  prefs: []
  type: TYPE_NORMAL
  zh: '"oi oi-pencil"'
- en: '></'
  id: totrans-1596
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: i
  id: totrans-1597
  prefs: []
  type: TYPE_NORMAL
  zh: i
- en: '></'
  id: totrans-1598
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: a
  id: totrans-1599
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-1600
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1601
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-1602
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: class
  id: totrans-1603
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-1604
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"btn btn-danger"'
  id: totrans-1605
  prefs: []
  type: TYPE_NORMAL
  zh: '"btn btn-danger"'
- en: href
  id: totrans-1606
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-1607
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"deletecustomer/@c.CustomerId"'
  id: totrans-1608
  prefs: []
  type: TYPE_NORMAL
  zh: '"deletecustomer/@c.CustomerId"'
- en: '>'
  id: totrans-1609
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1610
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: i
  id: totrans-1611
  prefs: []
  type: TYPE_NORMAL
  zh: i
- en: class
  id: totrans-1612
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-1613
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"oi oi-trash"'
  id: totrans-1614
  prefs: []
  type: TYPE_NORMAL
  zh: '"oi oi-trash"'
- en: '></'
  id: totrans-1615
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: i
  id: totrans-1616
  prefs: []
  type: TYPE_NORMAL
  zh: i
- en: '></'
  id: totrans-1617
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: a
  id: totrans-1618
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-1619
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1620
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: td
  id: totrans-1621
  prefs: []
  type: TYPE_NORMAL
  zh: td
- en: '>'
  id: totrans-1622
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1623
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: tr
  id: totrans-1624
  prefs: []
  type: TYPE_NORMAL
  zh: tr
- en: '>'
  id: totrans-1625
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '}'
  id: totrans-1626
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: </
  id: totrans-1627
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: tbody
  id: totrans-1628
  prefs: []
  type: TYPE_NORMAL
  zh: tbody
- en: '>'
  id: totrans-1629
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1630
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: table
  id: totrans-1631
  prefs: []
  type: TYPE_NORMAL
  zh: table
- en: '>'
  id: totrans-1632
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '}'
  id: totrans-1633
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '@code {'
  id: totrans-1634
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: '[Parameter'
  id: totrans-1635
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-1636
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-1637
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: string
  id: totrans-1638
  prefs: []
  type: TYPE_NORMAL
  zh: string
- en: '? Country { get'
  id: totrans-1639
  prefs: []
  type: TYPE_NORMAL
  zh: '? Country { get'
- en: ; set
  id: totrans-1640
  prefs: []
  type: TYPE_NORMAL
  zh: ; set
- en: ; }
  id: totrans-1641
  prefs: []
  type: TYPE_NORMAL
  zh: ; }
- en: private
  id: totrans-1642
  prefs: []
  type: TYPE_NORMAL
  zh: private
- en: IEnumerable<
  id: totrans-1643
  prefs: []
  type: TYPE_NORMAL
  zh: IEnumerable<
- en: Customer
  id: totrans-1644
  prefs: []
  type: TYPE_NORMAL
  zh: 客户
- en: '>'
  id: totrans-1645
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '? customers;'
  id: totrans-1646
  prefs: []
  type: TYPE_NORMAL
  zh: '? customers;'
- en: protected
  id: totrans-1647
  prefs: []
  type: TYPE_NORMAL
  zh: protected
- en: override
  id: totrans-1648
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖
- en: async
  id: totrans-1649
  prefs: []
  type: TYPE_NORMAL
  zh: async
- en: Task OnParametersSetAsync
  id: totrans-1650
  prefs: []
  type: TYPE_NORMAL
  zh: Task OnParametersSetAsync
- en: ()
  id: totrans-1651
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-1652
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: if
  id: totrans-1653
  prefs: []
  type: TYPE_NORMAL
  zh: if
- en: (string
  id: totrans-1654
  prefs: []
  type: TYPE_NORMAL
  zh: (string
- en: .IsNullOrWhiteSpace(Country))
  id: totrans-1655
  prefs: []
  type: TYPE_NORMAL
  zh: .IsNullOrWhiteSpace(Country))
- en: '{'
  id: totrans-1656
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: customers = await
  id: totrans-1657
  prefs: []
  type: TYPE_NORMAL
  zh: customers = await
- en: db.Customers.ToListAsync();
  id: totrans-1658
  prefs: []
  type: TYPE_NORMAL
  zh: db.Customers.ToListAsync();
- en: '}'
  id: totrans-1659
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: else
  id: totrans-1660
  prefs: []
  type: TYPE_NORMAL
  zh: else
- en: '{'
  id: totrans-1661
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: customers = await db.Customers
  id: totrans-1662
  prefs: []
  type: TYPE_NORMAL
  zh: customers = await db.Customers
- en: .Where(c => c.Country == Country).ToListAsync();
  id: totrans-1663
  prefs: []
  type: TYPE_NORMAL
  zh: .Where(c => c.Country == Country).ToListAsync();
- en: '}'
  id: totrans-1664
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-1665
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-1666
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-1667
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Start the `Northwind.BlazorServer` project website.
  id: totrans-1668
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动`Northwind.BlazorServer`项目网站。
- en: Start Chrome.
  id: totrans-1669
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动Chrome。
- en: Navigate to `https://localhost:5001/` .
  id: totrans-1670
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 导航到`https://localhost:5001/`。
- en: In the left navigation menu, click **Customers Worldwide** , and note that the
    table of customers loads from the database and renders in the web page, as shown
    in *Figure 17.5* :![](img/Image00154.jpg)
  id: totrans-1671
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧导航菜单中，点击**全球的客户**，注意客户表从数据库加载并在网页中呈现，如*图17.5*所示：![](img/Image00154.jpg)
- en: 'Figure 17.5: The list of customers worldwide'
  id: totrans-1672
  prefs: []
  type: TYPE_NORMAL
  zh: 图17.5：全球客户列表
- en: In the left navigation menu, click **Customers in Germany** , and note that
    the table of customers is filtered to only show German customers.
  id: totrans-1673
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧导航菜单中，点击**德国的客户**，注意客户表被过滤，只显示德国客户。
- en: In the browser address bar, change `Germany` to `UK` , and note that the table
    of customers is filtered to only show UK customers.
  id: totrans-1674
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在浏览器地址栏中，将`德国`改为`英国`，注意客户表被过滤，只显示英国客户。
- en: In the left navigation menu, click **Home** , and note that the customers component
    also works correctly when used as an embedded component on a page.
  id: totrans-1675
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧导航菜单中，点击**主页**，注意当作为嵌入式组件在页面上使用时，客户组件也能正常工作。
- en: Click any of the edit or delete buttons and note that they return a message
    saying `Sorry, there's nothing at this address` . because we have not yet implemented
    that functionality.
  id: totrans-1676
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击任何编辑或删除按钮，并注意它们返回一个消息，说`抱歉，这个地址上没有任何内容`。因为我们还没有实现该功能。
- en: Close the browser.
  id: totrans-1677
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭浏览器。
- en: Shut down the web server.
  id: totrans-1678
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭Web服务器。
- en: Abstracting a service for a Blazor component
  id: totrans-1679
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为Blazor组件抽象出一个服务
- en: Currently, the Blazor component directly calls the Northwind database context
    to fetch the customers. This works fine in Blazor Server since the component executes
    on the server. But this component would not work when hosted in Blazor WebAssembly.
  id: totrans-1680
  prefs: []
  type: TYPE_NORMAL
  zh: 目前，Blazor组件直接调用Northwind数据库上下文来获取客户。这在Blazor Server中可以正常工作，因为组件在服务器上执行。但是当在Blazor
    WebAssembly中托管时，该组件将无法工作。
- en: 'We will now create a local dependency service to enable better reuse of the
    components:'
  id: totrans-1681
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将创建一个本地依赖服务，以便更好地重用组件：
- en: In the `Northwind.BlazorServer` project, in the `Data` folder, add a new file
    named `INorthwindService.cs` . (The Visual Studio project item template is named
    **Interface** .)
  id: totrans-1682
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Northwind.BlazorServer`项目中，在`Data`文件夹中，添加一个名为`INorthwindService.cs`的新文件。(Visual
    Studio项目项模板名为**Interface**。)
- en: 'Modify its contents to define a contract for a local service that abstracts
    CRUD operations, as shown in the following code:'
  id: totrans-1683
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改其内容以定义一个本地服务的契约，该契约抽象了CRUD操作，如下面的代码所示：
- en: '```cs'
  id: totrans-1684
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: namespace
  id: totrans-1685
  prefs: []
  type: TYPE_NORMAL
  zh: 命名空间
- en: Packt.Shared
  id: totrans-1686
  prefs: []
  type: TYPE_NORMAL
  zh: Packt.Shared
- en: ;
  id: totrans-1687
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: public
  id: totrans-1688
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: interface
  id: totrans-1689
  prefs: []
  type: TYPE_NORMAL
  zh: 接口
- en: INorthwindService
  id: totrans-1690
  prefs: []
  type: TYPE_NORMAL
  zh: INorthwindService
- en: '{'
  id: totrans-1691
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: Task<List<Customer>> GetCustomersAsync();
  id: totrans-1692
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<List<Customer>> GetCustomersAsync();
- en: Task<List<Customer>> GetCustomersAsync(string
  id: totrans-1693
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<List<Customer>> GetCustomersAsync(string
- en: country);
  id: totrans-1694
  prefs: []
  type: TYPE_NORMAL
  zh: 国家);
- en: Task<Customer?> GetCustomerAsync(string
  id: totrans-1695
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<Customer?> GetCustomerAsync(string
- en: id);
  id: totrans-1696
  prefs: []
  type: TYPE_NORMAL
  zh: id);
- en: Task<Customer>
  id: totrans-1697
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<Customer>
- en: CreateCustomerAsync
  id: totrans-1698
  prefs: []
  type: TYPE_NORMAL
  zh: CreateCustomerAsync
- en: (
  id: totrans-1699
  prefs: []
  type: TYPE_NORMAL
  zh: (
- en: Customer c
  id: totrans-1700
  prefs: []
  type: TYPE_NORMAL
  zh: Customer c
- en: )
  id: totrans-1701
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: ;
  id: totrans-1702
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: Task<Customer>
  id: totrans-1703
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<Customer>
- en: UpdateCustomerAsync
  id: totrans-1704
  prefs: []
  type: TYPE_NORMAL
  zh: UpdateCustomerAsync
- en: (
  id: totrans-1705
  prefs: []
  type: TYPE_NORMAL
  zh: (
- en: Customer c
  id: totrans-1706
  prefs: []
  type: TYPE_NORMAL
  zh: Customer c
- en: )
  id: totrans-1707
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: ;
  id: totrans-1708
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: Task
  id: totrans-1709
  prefs: []
  type: TYPE_NORMAL
  zh: 任务
- en: DeleteCustomerAsync
  id: totrans-1710
  prefs: []
  type: TYPE_NORMAL
  zh: DeleteCustomerAsync
- en: (
  id: totrans-1711
  prefs: []
  type: TYPE_NORMAL
  zh: (
- en: string
  id: totrans-1712
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串
- en: id
  id: totrans-1713
  prefs: []
  type: TYPE_NORMAL
  zh: id
- en: )
  id: totrans-1714
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: ;
  id: totrans-1715
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: '}'
  id: totrans-1716
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-1717
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Data` folder, add a new file named `NorthwindService.cs` and modify
    its contents to implement the `INorthwindService` interface by using the Northwind
    database context, as shown in the following code:'
  id: totrans-1718
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Data`文件夹中，添加一个名为`NorthwindService.cs`的新文件，并修改其内容，以使用Northwind数据库上下文实现`INorthwindService`接口，如下面的代码所示：
- en: '```cs'
  id: totrans-1719
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: using
  id: totrans-1720
  prefs: []
  type: TYPE_NORMAL
  zh: 使用
- en: Microsoft.EntityFrameworkCore;
  id: totrans-1721
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft.EntityFrameworkCore;
- en: namespace
  id: totrans-1722
  prefs: []
  type: TYPE_NORMAL
  zh: 命名空间
- en: Packt.Shared
  id: totrans-1723
  prefs: []
  type: TYPE_NORMAL
  zh: Packt.Shared
- en: ;
  id: totrans-1724
  prefs: []
  type: TYPE_NORMAL
  zh: ;
- en: public
  id: totrans-1725
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: class
  id: totrans-1726
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: NorthwindService
  id: totrans-1727
  prefs: []
  type: TYPE_NORMAL
  zh: NorthwindService
- en: ': INorthwindService'
  id: totrans-1728
  prefs: []
  type: TYPE_NORMAL
  zh: ': INorthwindService'
- en: '{'
  id: totrans-1729
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: private
  id: totrans-1730
  prefs: []
  type: TYPE_NORMAL
  zh: 私人的
- en: readonly
  id: totrans-1731
  prefs: []
  type: TYPE_NORMAL
  zh: 只读的
- en: NorthwindContext db;
  id: totrans-1732
  prefs: []
  type: TYPE_NORMAL
  zh: NorthwindContext db;
- en: public
  id: totrans-1733
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: NorthwindService
  id: totrans-1734
  prefs: []
  type: TYPE_NORMAL
  zh: NorthwindService
- en: (
  id: totrans-1735
  prefs: []
  type: TYPE_NORMAL
  zh: (
- en: NorthwindContext db
  id: totrans-1736
  prefs: []
  type: TYPE_NORMAL
  zh: NorthwindContext db
- en: )
  id: totrans-1737
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '{'
  id: totrans-1738
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: this
  id: totrans-1739
  prefs: []
  type: TYPE_NORMAL
  zh: 这
- en: .db = db;
  id: totrans-1740
  prefs: []
  type: TYPE_NORMAL
  zh: .db = db;
- en: '}'
  id: totrans-1741
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: public
  id: totrans-1742
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: Task<List<Customer>> GetCustomersAsync()
  id: totrans-1743
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<List<Customer>> GetCustomersAsync()
- en: '{'
  id: totrans-1744
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: return
  id: totrans-1745
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: db.Customers.ToListAsync();
  id: totrans-1746
  prefs: []
  type: TYPE_NORMAL
  zh: db.Customers.ToListAsync();
- en: '}'
  id: totrans-1747
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: public
  id: totrans-1748
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: Task<List<Customer>> GetCustomersAsync(string
  id: totrans-1749
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<List<Customer>> GetCustomersAsync(string
- en: country)
  id: totrans-1750
  prefs: []
  type: TYPE_NORMAL
  zh: 国家)
- en: '{'
  id: totrans-1751
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: return
  id: totrans-1752
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: db.Customers.Where(c => c.Country == country).ToListAsync();
  id: totrans-1753
  prefs: []
  type: TYPE_NORMAL
  zh: db.Customers.Where(c => c.Country == country).ToListAsync();
- en: '}'
  id: totrans-1754
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: public
  id: totrans-1755
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: Task<Customer?> GetCustomerAsync(string
  id: totrans-1756
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<Customer?> GetCustomerAsync(string
- en: id)
  id: totrans-1757
  prefs: []
  type: TYPE_NORMAL
  zh: id)
- en: '{'
  id: totrans-1758
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: return
  id: totrans-1759
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: db.Customers.FirstOrDefaultAsync
  id: totrans-1760
  prefs: []
  type: TYPE_NORMAL
  zh: db.Customers.FirstOrDefaultAsync
- en: (c => c.CustomerId == id);
  id: totrans-1761
  prefs: []
  type: TYPE_NORMAL
  zh: (c => c.CustomerId == id);
- en: '}'
  id: totrans-1762
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: public
  id: totrans-1763
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: Task<Customer>
  id: totrans-1764
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<Customer>
- en: CreateCustomerAsync
  id: totrans-1765
  prefs: []
  type: TYPE_NORMAL
  zh: CreateCustomerAsync
- en: (
  id: totrans-1766
  prefs: []
  type: TYPE_NORMAL
  zh: (
- en: Customer c
  id: totrans-1767
  prefs: []
  type: TYPE_NORMAL
  zh: Customer c
- en: )
  id: totrans-1768
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '{'
  id: totrans-1769
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: db.Customers.Add(c);
  id: totrans-1770
  prefs: []
  type: TYPE_NORMAL
  zh: db.Customers.Add(c);
- en: db.SaveChangesAsync();
  id: totrans-1771
  prefs: []
  type: TYPE_NORMAL
  zh: db.SaveChangesAsync();
- en: return
  id: totrans-1772
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: Task.FromResult(c);
  id: totrans-1773
  prefs: []
  type: TYPE_NORMAL
  zh: Task.FromResult(c);
- en: '}'
  id: totrans-1774
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: public
  id: totrans-1775
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: Task<Customer>
  id: totrans-1776
  prefs: []
  type: TYPE_NORMAL
  zh: 任务<Customer>
- en: UpdateCustomerAsync
  id: totrans-1777
  prefs: []
  type: TYPE_NORMAL
  zh: UpdateCustomerAsync
- en: (
  id: totrans-1778
  prefs: []
  type: TYPE_NORMAL
  zh: (
- en: Customer c
  id: totrans-1779
  prefs: []
  type: TYPE_NORMAL
  zh: Customer c
- en: )
  id: totrans-1780
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '{'
  id: totrans-1781
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: db.Entry(c).State = EntityState.Modified;
  id: totrans-1782
  prefs: []
  type: TYPE_NORMAL
  zh: db.Entry(c).State = EntityState.Modified;
- en: db.SaveChangesAsync();
  id: totrans-1783
  prefs: []
  type: TYPE_NORMAL
  zh: db.SaveChangesAsync();
- en: return
  id: totrans-1784
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: Task.FromResult(c);
  id: totrans-1785
  prefs: []
  type: TYPE_NORMAL
  zh: Task.FromResult(c);
- en: '}'
  id: totrans-1786
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: public
  id: totrans-1787
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: Task
  id: totrans-1788
  prefs: []
  type: TYPE_NORMAL
  zh: 任务
- en: DeleteCustomerAsync
  id: totrans-1789
  prefs: []
  type: TYPE_NORMAL
  zh: DeleteCustomerAsync
- en: (
  id: totrans-1790
  prefs: []
  type: TYPE_NORMAL
  zh: (
- en: string
  id: totrans-1791
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串
- en: id
  id: totrans-1792
  prefs: []
  type: TYPE_NORMAL
  zh: id
- en: )
  id: totrans-1793
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '{'
  id: totrans-1794
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: Customer? customer = db.Customers.FirstOrDefaultAsync
  id: totrans-1795
  prefs: []
  type: TYPE_NORMAL
  zh: Customer? customer = db.Customers.FirstOrDefaultAsync
- en: (c => c.CustomerId == id).Result;
  id: totrans-1796
  prefs: []
  type: TYPE_NORMAL
  zh: (c => c.CustomerId == id).Result;
- en: if
  id: totrans-1797
  prefs: []
  type: TYPE_NORMAL
  zh: 如果
- en: (customer == null
  id: totrans-1798
  prefs: []
  type: TYPE_NORMAL
  zh: (customer == null
- en: )
  id: totrans-1799
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '{'
  id: totrans-1800
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: return
  id: totrans-1801
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: Task.CompletedTask;
  id: totrans-1802
  prefs: []
  type: TYPE_NORMAL
  zh: Task.CompletedTask;
- en: '}'
  id: totrans-1803
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: else
  id: totrans-1804
  prefs: []
  type: TYPE_NORMAL
  zh: 否则
- en: '{'
  id: totrans-1805
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: db.Customers.Remove(customer);
  id: totrans-1806
  prefs: []
  type: TYPE_NORMAL
  zh: db.Customers.Remove(customer);
- en: return
  id: totrans-1807
  prefs: []
  type: TYPE_NORMAL
  zh: 返回
- en: db.SaveChangesAsync();
  id: totrans-1808
  prefs: []
  type: TYPE_NORMAL
  zh: db.SaveChangesAsync();
- en: '}'
  id: totrans-1809
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-1810
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-1811
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-1812
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In `Program.cs` , in the section that configures services, add a statement
    to register `NorthwindService` as a transient service that implements the `INorthwindService`
    interface, as shown in the following code:'
  id: totrans-1813
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Program.cs`中，配置服务的部分中，添加一条语句，将`NorthwindService`注册为实现`INorthwindService`接口的瞬态服务，如下面的代码所示：
- en: '```cs'
  id: totrans-1814
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: builder.Services.AddTransient<INorthwindService, NorthwindService>();
  id: totrans-1815
  prefs: []
  type: TYPE_NORMAL
  zh: builder.Services.AddTransient<INorthwindService, NorthwindService>();
- en: '```'
  id: totrans-1816
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Pages` folder, open `Customers.razor` and replace the directive to
    inject the Northwind database context with a directive to inject the registered
    Northwind service, as shown in the following code:'
  id: totrans-1817
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Pages`文件夹中，打开`Customers.razor`并用指令替换Northwind数据库上下文的指令，用指令替换注册的Northwind服务，如下面的代码所示：
- en: '```cs'
  id: totrans-1818
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@inject INorthwindService service'
  id: totrans-1819
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject INorthwindService service'
- en: '```'
  id: totrans-1820
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'Modify the `OnParametersSetAsync` method to call the service, as shown highlighted
    in the following code:'
  id: totrans-1821
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改`OnParametersSetAsync`方法，调用服务，如下面代码中突出显示的那样：
- en: '```cs'
  id: totrans-1822
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: protected
  id: totrans-1823
  prefs: []
  type: TYPE_NORMAL
  zh: 受保护的
- en: override
  id: totrans-1824
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖
- en: async
  id: totrans-1825
  prefs: []
  type: TYPE_NORMAL
  zh: async
- en: Task
  id: totrans-1826
  prefs: []
  type: TYPE_NORMAL
  zh: 任务
- en: OnParametersSetAsync
  id: totrans-1827
  prefs: []
  type: TYPE_NORMAL
  zh: OnParametersSetAsync
- en: ()
  id: totrans-1828
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-1829
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: if
  id: totrans-1830
  prefs: []
  type: TYPE_NORMAL
  zh: 如果
- en: (string
  id: totrans-1831
  prefs: []
  type: TYPE_NORMAL
  zh: (string
- en: .IsNullOrWhiteSpace(Country))
  id: totrans-1832
  prefs: []
  type: TYPE_NORMAL
  zh: .IsNullOrWhiteSpace(Country))
- en: '{'
  id: totrans-1833
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: '**customers =**'
  id: totrans-1834
  prefs: []
  type: TYPE_NORMAL
  zh: '**customers =**'
- en: '**await**'
  id: totrans-1835
  prefs: []
  type: TYPE_NORMAL
  zh: '**等待**'
- en: '**service.GetCustomersAsync();**'
  id: totrans-1836
  prefs: []
  type: TYPE_NORMAL
  zh: '**service.GetCustomersAsync();**'
- en: '}'
  id: totrans-1837
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: else
  id: totrans-1838
  prefs: []
  type: TYPE_NORMAL
  zh: 否则
- en: '{'
  id: totrans-1839
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: '**customers =**'
  id: totrans-1840
  prefs: []
  type: TYPE_NORMAL
  zh: '**customers =**'
- en: '**await**'
  id: totrans-1841
  prefs: []
  type: TYPE_NORMAL
  zh: '**等待**'
- en: '**service.GetCustomersAsync(Country);**'
  id: totrans-1842
  prefs: []
  type: TYPE_NORMAL
  zh: '**service.GetCustomersAsync(Country);**'
- en: '}'
  id: totrans-1843
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-1844
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-1845
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Start the `Northwind.BlazorServer` website project and confirm that it retains
    the same functionality as before.
  id: totrans-1846
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动`Northwind.BlazorServer`网站项目，并确认其保留与以前相同的功能。
- en: Defining forms using the EditForm component
  id: totrans-1847
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用EditForm组件定义表单
- en: Microsoft provides ready-made components for building forms. We will use them
    to provide, create, and edit functionality for customers.
  id: totrans-1848
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft提供了用于构建表单的现成组件。我们将使用它们为客户提供创建和编辑功能。
- en: Microsoft provides the `EditForm` component and several form elements such as
    `InputText` to make it easier to use forms with Blazor.
  id: totrans-1849
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft提供了`EditForm`组件和几个表单元素，如`InputText`，使得在Blazor中使用表单更加容易。
- en: '`EditForm` can have a model set to bind it to an object with properties and
    event handlers for custom validation, as well as recognizing standard Microsoft
    validation attributes on the model class, as shown in the following code:'
  id: totrans-1850
  prefs: []
  type: TYPE_NORMAL
  zh: '`EditForm`可以设置模型，将其绑定到具有属性和事件处理程序的对象，用于自定义验证，以及识别模型类上的标准Microsoft验证属性，如下面的代码所示：'
- en: '```cs'
  id: totrans-1851
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <
  id: totrans-1852
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: EditForm
  id: totrans-1853
  prefs: []
  type: TYPE_NORMAL
  zh: EditForm
- en: Model
  id: totrans-1854
  prefs: []
  type: TYPE_NORMAL
  zh: 模型
- en: '='
  id: totrans-1855
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@customer"'
  id: totrans-1856
  prefs: []
  type: TYPE_NORMAL
  zh: '"@customer"'
- en: OnSubmit
  id: totrans-1857
  prefs: []
  type: TYPE_NORMAL
  zh: OnSubmit
- en: '='
  id: totrans-1858
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"ExtraValidation"'
  id: totrans-1859
  prefs: []
  type: TYPE_NORMAL
  zh: '"ExtraValidation"'
- en: '>'
  id: totrans-1860
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1861
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: DataAnnotationsValidator
  id: totrans-1862
  prefs: []
  type: TYPE_NORMAL
  zh: DataAnnotationsValidator
- en: />
  id: totrans-1863
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1864
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: ValidationSummary
  id: totrans-1865
  prefs: []
  type: TYPE_NORMAL
  zh: ValidationSummary
- en: />
  id: totrans-1866
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1867
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: InputText
  id: totrans-1868
  prefs: []
  type: TYPE_NORMAL
  zh: InputText
- en: id
  id: totrans-1869
  prefs: []
  type: TYPE_NORMAL
  zh: id
- en: '='
  id: totrans-1870
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"name"'
  id: totrans-1871
  prefs: []
  type: TYPE_NORMAL
  zh: '"名称"'
- en: '@'
  id: totrans-1872
  prefs: []
  type: TYPE_NORMAL
  zh: '@'
- en: bind-Value
  id: totrans-1873
  prefs: []
  type: TYPE_NORMAL
  zh: bind-Value
- en: '='
  id: totrans-1874
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"customer.CompanyName"'
  id: totrans-1875
  prefs: []
  type: TYPE_NORMAL
  zh: '"customer.CompanyName"'
- en: />
  id: totrans-1876
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1877
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: button
  id: totrans-1878
  prefs: []
  type: TYPE_NORMAL
  zh: 按钮
- en: type
  id: totrans-1879
  prefs: []
  type: TYPE_NORMAL
  zh: 类型
- en: '='
  id: totrans-1880
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"submit"'
  id: totrans-1881
  prefs: []
  type: TYPE_NORMAL
  zh: '"提交"'
- en: '>'
  id: totrans-1882
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Submit</
  id: totrans-1883
  prefs: []
  type: TYPE_NORMAL
  zh: 提交</
- en: button
  id: totrans-1884
  prefs: []
  type: TYPE_NORMAL
  zh: 按钮
- en: '>'
  id: totrans-1885
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1886
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: EditForm
  id: totrans-1887
  prefs: []
  type: TYPE_NORMAL
  zh: EditForm
- en: '>'
  id: totrans-1888
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@code {'
  id: totrans-1889
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: private
  id: totrans-1890
  prefs: []
  type: TYPE_NORMAL
  zh: 私人的
- en: Customer customer = new
  id: totrans-1891
  prefs: []
  type: TYPE_NORMAL
  zh: Customer customer = new
- en: ();
  id: totrans-1892
  prefs: []
  type: TYPE_NORMAL
  zh: ();
- en: private
  id: totrans-1893
  prefs: []
  type: TYPE_NORMAL
  zh: 私人的
- en: void
  id: totrans-1894
  prefs: []
  type: TYPE_NORMAL
  zh: 空
- en: ExtraValidation()
  id: totrans-1895
  prefs: []
  type: TYPE_NORMAL
  zh: ExtraValidation()
- en: '{'
  id: totrans-1896
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: // perform any extra validation
  id: totrans-1897
  prefs: []
  type: TYPE_NORMAL
  zh: //执行任何额外的验证
- en: '}'
  id: totrans-1898
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-1899
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-1900
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: As an alternative to a `ValidationSummary` component, you can use the `ValidationMessage`
    component to show a message next to an individual form element.
  id: totrans-1901
  prefs: []
  type: TYPE_NORMAL
  zh: 作为`ValidationSummary`组件的替代方案，您可以使用`ValidationMessage`组件来在单个表单元素旁边显示消息。
- en: Building and using a customer form component
  id: totrans-1902
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Building and using a customer form component
- en: 'Now we can create a shared component to create or edit a customer:'
  id: totrans-1903
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以创建一个共享组件来创建或编辑客户：
- en: In the `Shared` folder, create a new file named `CustomerDetail.razor` . (The
    Visual Studio project item template is named **Razor Component** .) This component
    will be reused on multiple page components.
  id: totrans-1904
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Shared`文件夹中，创建一个名为`CustomerDetail.razor`的新文件。（Visual Studio项目项模板名为**Razor
    Component**。）此组件将在多个页面组件上重用。
- en: 'Modify its contents to define a form to edit the properties of a customer,
    as shown in the following code:'
  id: totrans-1905
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Modify its contents to define a form to edit the properties of a customer,
    as shown in the following code:'
- en: '```cs'
  id: totrans-1906
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <
  id: totrans-1907
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: EditForm
  id: totrans-1908
  prefs: []
  type: TYPE_NORMAL
  zh: EditForm
- en: Model
  id: totrans-1909
  prefs: []
  type: TYPE_NORMAL
  zh: Model
- en: '='
  id: totrans-1910
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@Customer"'
  id: totrans-1911
  prefs: []
  type: TYPE_NORMAL
  zh: '"@Customer"'
- en: OnValidSubmit
  id: totrans-1912
  prefs: []
  type: TYPE_NORMAL
  zh: OnValidSubmit
- en: '='
  id: totrans-1913
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@OnValidSubmit"'
  id: totrans-1914
  prefs: []
  type: TYPE_NORMAL
  zh: '"@OnValidSubmit"'
- en: '>'
  id: totrans-1915
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1916
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: DataAnnotationsValidator
  id: totrans-1917
  prefs: []
  type: TYPE_NORMAL
  zh: DataAnnotationsValidator
- en: />
  id: totrans-1918
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1919
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-1920
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-1921
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-1922
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"form-group"'
  id: totrans-1923
  prefs: []
  type: TYPE_NORMAL
  zh: '"form-group"'
- en: '>'
  id: totrans-1924
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1925
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-1926
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1927
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1928
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: label
  id: totrans-1929
  prefs: []
  type: TYPE_NORMAL
  zh: label
- en: '>'
  id: totrans-1930
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Customer Id</
  id: totrans-1931
  prefs: []
  type: TYPE_NORMAL
  zh: Customer Id</
- en: label
  id: totrans-1932
  prefs: []
  type: TYPE_NORMAL
  zh: label
- en: '>'
  id: totrans-1933
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1934
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-1935
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1936
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1937
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: InputText
  id: totrans-1938
  prefs: []
  type: TYPE_NORMAL
  zh: InputText
- en: '@'
  id: totrans-1939
  prefs: []
  type: TYPE_NORMAL
  zh: '@'
- en: bind-Value
  id: totrans-1940
  prefs: []
  type: TYPE_NORMAL
  zh: bind-Value
- en: '='
  id: totrans-1941
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@Customer.CustomerId"'
  id: totrans-1942
  prefs: []
  type: TYPE_NORMAL
  zh: '"@Customer.CustomerId"'
- en: />
  id: totrans-1943
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1944
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: ValidationMessage
  id: totrans-1945
  prefs: []
  type: TYPE_NORMAL
  zh: ValidationMessage
- en: For
  id: totrans-1946
  prefs: []
  type: TYPE_NORMAL
  zh: For
- en: '='
  id: totrans-1947
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@(() => Customer.CustomerId)"'
  id: totrans-1948
  prefs: []
  type: TYPE_NORMAL
  zh: '"@(() => Customer.CustomerId)"'
- en: />
  id: totrans-1949
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </
  id: totrans-1950
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-1951
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1952
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1953
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-1954
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1955
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1956
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-1957
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1958
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1959
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-1960
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-1961
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-1962
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"form-group "'
  id: totrans-1963
  prefs: []
  type: TYPE_NORMAL
  zh: '"form-group "'
- en: '>'
  id: totrans-1964
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1965
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-1966
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1967
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1968
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: label
  id: totrans-1969
  prefs: []
  type: TYPE_NORMAL
  zh: label
- en: '>'
  id: totrans-1970
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Company Name</
  id: totrans-1971
  prefs: []
  type: TYPE_NORMAL
  zh: Company Name</
- en: label
  id: totrans-1972
  prefs: []
  type: TYPE_NORMAL
  zh: label
- en: '>'
  id: totrans-1973
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1974
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-1975
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1976
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1977
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: InputText
  id: totrans-1978
  prefs: []
  type: TYPE_NORMAL
  zh: InputText
- en: '@'
  id: totrans-1979
  prefs: []
  type: TYPE_NORMAL
  zh: '@'
- en: bind-Value
  id: totrans-1980
  prefs: []
  type: TYPE_NORMAL
  zh: bind-Value
- en: '='
  id: totrans-1981
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@Customer.CompanyName"'
  id: totrans-1982
  prefs: []
  type: TYPE_NORMAL
  zh: '"@Customer.CompanyName"'
- en: />
  id: totrans-1983
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-1984
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: ValidationMessage
  id: totrans-1985
  prefs: []
  type: TYPE_NORMAL
  zh: ValidationMessage
- en: For
  id: totrans-1986
  prefs: []
  type: TYPE_NORMAL
  zh: For
- en: '='
  id: totrans-1987
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@(() => Customer.CompanyName)"'
  id: totrans-1988
  prefs: []
  type: TYPE_NORMAL
  zh: '"@(() => Customer.CompanyName)"'
- en: />
  id: totrans-1989
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </
  id: totrans-1990
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-1991
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1992
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1993
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-1994
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1995
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-1996
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-1997
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-1998
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-1999
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-2000
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-2001
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-2002
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"form-group "'
  id: totrans-2003
  prefs: []
  type: TYPE_NORMAL
  zh: '"form-group "'
- en: '>'
  id: totrans-2004
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2005
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-2006
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2007
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2008
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: label
  id: totrans-2009
  prefs: []
  type: TYPE_NORMAL
  zh: label
- en: '>'
  id: totrans-2010
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Address</
  id: totrans-2011
  prefs: []
  type: TYPE_NORMAL
  zh: Address</
- en: label
  id: totrans-2012
  prefs: []
  type: TYPE_NORMAL
  zh: label
- en: '>'
  id: totrans-2013
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2014
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-2015
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2016
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2017
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: InputText
  id: totrans-2018
  prefs: []
  type: TYPE_NORMAL
  zh: InputText
- en: '@'
  id: totrans-2019
  prefs: []
  type: TYPE_NORMAL
  zh: '@'
- en: bind-Value
  id: totrans-2020
  prefs: []
  type: TYPE_NORMAL
  zh: bind-Value
- en: '='
  id: totrans-2021
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@Customer.Address"'
  id: totrans-2022
  prefs: []
  type: TYPE_NORMAL
  zh: '"@Customer.Address"'
- en: />
  id: totrans-2023
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-2024
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: ValidationMessage
  id: totrans-2025
  prefs: []
  type: TYPE_NORMAL
  zh: ValidationMessage
- en: For
  id: totrans-2026
  prefs: []
  type: TYPE_NORMAL
  zh: For
- en: '='
  id: totrans-2027
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@(() => Customer.Address)"'
  id: totrans-2028
  prefs: []
  type: TYPE_NORMAL
  zh: '"@(() => Customer.Address)"'
- en: />
  id: totrans-2029
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </
  id: totrans-2030
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-2031
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2032
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-2033
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-2034
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2035
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-2036
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-2037
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2038
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2039
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-2040
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-2041
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-2042
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"form-group "'
  id: totrans-2043
  prefs: []
  type: TYPE_NORMAL
  zh: '"form-group "'
- en: '>'
  id: totrans-2044
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2045
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-2046
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2047
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2048
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: label
  id: totrans-2049
  prefs: []
  type: TYPE_NORMAL
  zh: label
- en: '>'
  id: totrans-2050
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Country</
  id: totrans-2051
  prefs: []
  type: TYPE_NORMAL
  zh: Country</
- en: label
  id: totrans-2052
  prefs: []
  type: TYPE_NORMAL
  zh: label
- en: '>'
  id: totrans-2053
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2054
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-2055
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2056
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2057
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: InputText
  id: totrans-2058
  prefs: []
  type: TYPE_NORMAL
  zh: InputText
- en: '@'
  id: totrans-2059
  prefs: []
  type: TYPE_NORMAL
  zh: '@'
- en: bind-Value
  id: totrans-2060
  prefs: []
  type: TYPE_NORMAL
  zh: bind-Value
- en: '='
  id: totrans-2061
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@Customer.Country"'
  id: totrans-2062
  prefs: []
  type: TYPE_NORMAL
  zh: '"@Customer.Country"'
- en: />
  id: totrans-2063
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: <
  id: totrans-2064
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: ValidationMessage
  id: totrans-2065
  prefs: []
  type: TYPE_NORMAL
  zh: ValidationMessage
- en: For
  id: totrans-2066
  prefs: []
  type: TYPE_NORMAL
  zh: For
- en: '='
  id: totrans-2067
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"@(() => Customer.Country)"'
  id: totrans-2068
  prefs: []
  type: TYPE_NORMAL
  zh: '"@(() => Customer.Country)"'
- en: />
  id: totrans-2069
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </
  id: totrans-2070
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-2071
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2072
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-2073
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-2074
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2075
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-2076
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-2077
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2078
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2079
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: button
  id: totrans-2080
  prefs: []
  type: TYPE_NORMAL
  zh: button
- en: type
  id: totrans-2081
  prefs: []
  type: TYPE_NORMAL
  zh: type
- en: '='
  id: totrans-2082
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"submit"'
  id: totrans-2083
  prefs: []
  type: TYPE_NORMAL
  zh: '"submit"'
- en: class
  id: totrans-2084
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-2085
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"btn btn-@ButtonStyle"'
  id: totrans-2086
  prefs: []
  type: TYPE_NORMAL
  zh: '"btn btn-@ButtonStyle"'
- en: '>'
  id: totrans-2087
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@ButtonText'
  id: totrans-2088
  prefs: []
  type: TYPE_NORMAL
  zh: '@ButtonText'
- en: </
  id: totrans-2089
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: button
  id: totrans-2090
  prefs: []
  type: TYPE_NORMAL
  zh: button
- en: '>'
  id: totrans-2091
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-2092
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: EditForm
  id: totrans-2093
  prefs: []
  type: TYPE_NORMAL
  zh: EditForm
- en: '>'
  id: totrans-2094
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '@code {'
  id: totrans-2095
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: '[Parameter'
  id: totrans-2096
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-2097
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-2098
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: Customer Customer { get
  id: totrans-2099
  prefs: []
  type: TYPE_NORMAL
  zh: Customer Customer { get
- en: ; set
  id: totrans-2100
  prefs: []
  type: TYPE_NORMAL
  zh: ; set
- en: ; } = null!;
  id: totrans-2101
  prefs: []
  type: TYPE_NORMAL
  zh: ; } = null!;
- en: '[Parameter'
  id: totrans-2102
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-2103
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-2104
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: string
  id: totrans-2105
  prefs: []
  type: TYPE_NORMAL
  zh: string
- en: ButtonText { get
  id: totrans-2106
  prefs: []
  type: TYPE_NORMAL
  zh: ButtonText { get
- en: ; set
  id: totrans-2107
  prefs: []
  type: TYPE_NORMAL
  zh: ; set
- en: ; } = "Save Changes";
  id: totrans-2108
  prefs: []
  type: TYPE_NORMAL
  zh: ; } = "Save Changes";
- en: '[Parameter'
  id: totrans-2109
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-2110
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-2111
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: string
  id: totrans-2112
  prefs: []
  type: TYPE_NORMAL
  zh: string
- en: ButtonStyle { get
  id: totrans-2113
  prefs: []
  type: TYPE_NORMAL
  zh: ButtonStyle { get
- en: ; set
  id: totrans-2114
  prefs: []
  type: TYPE_NORMAL
  zh: ; set
- en: ; } = "info";
  id: totrans-2115
  prefs: []
  type: TYPE_NORMAL
  zh: ; } = "info";
- en: '[Parameter'
  id: totrans-2116
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-2117
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-2118
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: EventCallback OnValidSubmit { get
  id: totrans-2119
  prefs: []
  type: TYPE_NORMAL
  zh: EventCallback OnValidSubmit { get
- en: ; set
  id: totrans-2120
  prefs: []
  type: TYPE_NORMAL
  zh: ; set
- en: ; }
  id: totrans-2121
  prefs: []
  type: TYPE_NORMAL
  zh: ; }
- en: '}'
  id: totrans-2122
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-2123
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: In the `Pages` folder, create a new file named `CreateCustomer.razor` . This
    will be a routable page component.
  id: totrans-2124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: In the `Pages` folder, create a new file named `CreateCustomer.razor` . This
    will be a routable page component.
- en: 'Modify its contents to use the customer detail component to create a new customer,
    as shown in the following code:'
  id: totrans-2125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 'Modify its contents to use the customer detail component to create a new customer,
    as shown in the following code:'
- en: '```cs'
  id: totrans-2126
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/createcustomer"'
  id: totrans-2127
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/createcustomer"'
- en: '@inject INorthwindService service'
  id: totrans-2128
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject INorthwindService service'
- en: '@inject NavigationManager navigation'
  id: totrans-2129
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject NavigationManager navigation'
- en: <h3
  id: totrans-2130
  prefs: []
  type: TYPE_NORMAL
  zh: <h3
- en: '>Create Customer</h3'
  id: totrans-2131
  prefs: []
  type: TYPE_NORMAL
  zh: '>Create Customer</h3'
- en: '>'
  id: totrans-2132
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <CustomerDetail
  id: totrans-2133
  prefs: []
  type: TYPE_NORMAL
  zh: <CustomerDetail
- en: ButtonText
  id: totrans-2134
  prefs: []
  type: TYPE_NORMAL
  zh: ButtonText
- en: ="Create Customer"
  id: totrans-2135
  prefs: []
  type: TYPE_NORMAL
  zh: ="Create Customer"
- en: Customer
  id: totrans-2136
  prefs: []
  type: TYPE_NORMAL
  zh: Customer
- en: ="@customer"
  id: totrans-2137
  prefs: []
  type: TYPE_NORMAL
  zh: ="@customer"
- en: OnValidSubmit
  id: totrans-2138
  prefs: []
  type: TYPE_NORMAL
  zh: OnValidSubmit
- en: ="@Create"
  id: totrans-2139
  prefs: []
  type: TYPE_NORMAL
  zh: ="@Create"
- en: />
  id: totrans-2140
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '@code {'
  id: totrans-2141
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: private
  id: totrans-2142
  prefs: []
  type: TYPE_NORMAL
  zh: private
- en: Customer customer = new
  id: totrans-2143
  prefs: []
  type: TYPE_NORMAL
  zh: Customer customer = new
- en: ();
  id: totrans-2144
  prefs: []
  type: TYPE_NORMAL
  zh: ();
- en: private
  id: totrans-2145
  prefs: []
  type: TYPE_NORMAL
  zh: private
- en: async
  id: totrans-2146
  prefs: []
  type: TYPE_NORMAL
  zh: async
- en: Task
  id: totrans-2147
  prefs: []
  type: TYPE_NORMAL
  zh: Task
- en: Create
  id: totrans-2148
  prefs: []
  type: TYPE_NORMAL
  zh: Create
- en: ()
  id: totrans-2149
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-2150
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: await
  id: totrans-2151
  prefs: []
  type: TYPE_NORMAL
  zh: await
- en: service.CreateCustomerAsync(customer);
  id: totrans-2152
  prefs: []
  type: TYPE_NORMAL
  zh: service.CreateCustomerAsync(customer);
- en: navigation.NavigateTo("customers"
  id: totrans-2153
  prefs: []
  type: TYPE_NORMAL
  zh: navigation.NavigateTo("customers"
- en: );
  id: totrans-2154
  prefs: []
  type: TYPE_NORMAL
  zh: );
- en: '}'
  id: totrans-2155
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-2156
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-2157
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Pages` folder, open the file named `Customers.razor` and after the
    `<h3>` element, add a `<div>` element with a button to navigate to the `createcustomer`
    page component, as shown in the following markup:'
  id: totrans-2158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Pages`文件夹中，打开名为`Customers.razor`的文件，并在`<h3>`元素之后，添加一个`<div>`元素，其中包含一个按钮，用于导航到`createcustomer`页面组件，如下面的标记所示：
- en: '```cs'
  id: totrans-2159
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <
  id: totrans-2160
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: div
  id: totrans-2161
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: class
  id: totrans-2162
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-2163
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"form-group"'
  id: totrans-2164
  prefs: []
  type: TYPE_NORMAL
  zh: '"form-group"'
- en: '>'
  id: totrans-2165
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2166
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: a
  id: totrans-2167
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: class
  id: totrans-2168
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-2169
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"btn btn-info"'
  id: totrans-2170
  prefs: []
  type: TYPE_NORMAL
  zh: '"btn btn-info"'
- en: href
  id: totrans-2171
  prefs: []
  type: TYPE_NORMAL
  zh: href
- en: '='
  id: totrans-2172
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"createcustomer"'
  id: totrans-2173
  prefs: []
  type: TYPE_NORMAL
  zh: '"createcustomer"'
- en: '>'
  id: totrans-2174
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <
  id: totrans-2175
  prefs: []
  type: TYPE_NORMAL
  zh: <
- en: i
  id: totrans-2176
  prefs: []
  type: TYPE_NORMAL
  zh: i
- en: class
  id: totrans-2177
  prefs: []
  type: TYPE_NORMAL
  zh: class
- en: '='
  id: totrans-2178
  prefs: []
  type: TYPE_NORMAL
  zh: '='
- en: '"oi oi-plus"'
  id: totrans-2179
  prefs: []
  type: TYPE_NORMAL
  zh: '"oi oi-plus"'
- en: '></'
  id: totrans-2180
  prefs: []
  type: TYPE_NORMAL
  zh: '></'
- en: i
  id: totrans-2181
  prefs: []
  type: TYPE_NORMAL
  zh: i
- en: '>'
  id: totrans-2182
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Create New</
  id: totrans-2183
  prefs: []
  type: TYPE_NORMAL
  zh: Create New</
- en: a
  id: totrans-2184
  prefs: []
  type: TYPE_NORMAL
  zh: a
- en: '>'
  id: totrans-2185
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: </
  id: totrans-2186
  prefs: []
  type: TYPE_NORMAL
  zh: </
- en: div
  id: totrans-2187
  prefs: []
  type: TYPE_NORMAL
  zh: div
- en: '>'
  id: totrans-2188
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: '```'
  id: totrans-2189
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Pages` folder, create a new file named `EditCustomer.razor` and modify
    its contents to use the customer detail component to edit and save changes to
    an existing customer, as shown in the following code:'
  id: totrans-2190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Pages`文件夹中，创建一个名为`EditCustomer.razor`的新文件，并修改其内容以使用客户详细组件来编辑并保存对现有客户的更改，如下面的代码所示：
- en: '```cs'
  id: totrans-2191
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/editcustomer/{customerid}"'
  id: totrans-2192
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/editcustomer/{customerid}"'
- en: '@inject INorthwindService service'
  id: totrans-2193
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject INorthwindService service'
- en: '@inject NavigationManager navigation'
  id: totrans-2194
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject NavigationManager navigation'
- en: <h3
  id: totrans-2195
  prefs: []
  type: TYPE_NORMAL
  zh: <h3
- en: '>Edit Customer</h3'
  id: totrans-2196
  prefs: []
  type: TYPE_NORMAL
  zh: '>Edit Customer</h3'
- en: '>'
  id: totrans-2197
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <CustomerDetail
  id: totrans-2198
  prefs: []
  type: TYPE_NORMAL
  zh: <CustomerDetail
- en: ButtonText
  id: totrans-2199
  prefs: []
  type: TYPE_NORMAL
  zh: ButtonText
- en: ="Update"
  id: totrans-2200
  prefs: []
  type: TYPE_NORMAL
  zh: ="Update"
- en: Customer
  id: totrans-2201
  prefs: []
  type: TYPE_NORMAL
  zh: Customer
- en: ="@customer"
  id: totrans-2202
  prefs: []
  type: TYPE_NORMAL
  zh: ="@customer"
- en: OnValidSubmit
  id: totrans-2203
  prefs: []
  type: TYPE_NORMAL
  zh: OnValidSubmit
- en: ="@Update"
  id: totrans-2204
  prefs: []
  type: TYPE_NORMAL
  zh: '"@Update"'
- en: />
  id: totrans-2205
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '@code {'
  id: totrans-2206
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: '[Parameter'
  id: totrans-2207
  prefs: []
  type: TYPE_NORMAL
  zh: '[Parameter'
- en: ']'
  id: totrans-2208
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-2209
  prefs: []
  type: TYPE_NORMAL
  zh: public
- en: string
  id: totrans-2210
  prefs: []
  type: TYPE_NORMAL
  zh: string
- en: CustomerId { get
  id: totrans-2211
  prefs: []
  type: TYPE_NORMAL
  zh: CustomerId { get
- en: ; set
  id: totrans-2212
  prefs: []
  type: TYPE_NORMAL
  zh: ; set
- en: ; }
  id: totrans-2213
  prefs: []
  type: TYPE_NORMAL
  zh: ; }
- en: private
  id: totrans-2214
  prefs: []
  type: TYPE_NORMAL
  zh: private
- en: Customer? customer = new
  id: totrans-2215
  prefs: []
  type: TYPE_NORMAL
  zh: Customer? customer = new
- en: ();
  id: totrans-2216
  prefs: []
  type: TYPE_NORMAL
  zh: ();
- en: protected
  id: totrans-2217
  prefs: []
  type: TYPE_NORMAL
  zh: protected
- en: async
  id: totrans-2218
  prefs: []
  type: TYPE_NORMAL
  zh: async
- en: override
  id: totrans-2219
  prefs: []
  type: TYPE_NORMAL
  zh: override
- en: Task
  id: totrans-2220
  prefs: []
  type: TYPE_NORMAL
  zh: Task
- en: OnParametersSetAsync
  id: totrans-2221
  prefs: []
  type: TYPE_NORMAL
  zh: OnParametersSetAsync
- en: ()
  id: totrans-2222
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-2223
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: customer = await
  id: totrans-2224
  prefs: []
  type: TYPE_NORMAL
  zh: customer = await
- en: service.GetCustomerAsync(CustomerId);
  id: totrans-2225
  prefs: []
  type: TYPE_NORMAL
  zh: service.GetCustomerAsync(CustomerId);
- en: '}'
  id: totrans-2226
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: private
  id: totrans-2227
  prefs: []
  type: TYPE_NORMAL
  zh: private
- en: async
  id: totrans-2228
  prefs: []
  type: TYPE_NORMAL
  zh: async
- en: Task
  id: totrans-2229
  prefs: []
  type: TYPE_NORMAL
  zh: Task
- en: Update
  id: totrans-2230
  prefs: []
  type: TYPE_NORMAL
  zh: Update
- en: ()
  id: totrans-2231
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-2232
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: if
  id: totrans-2233
  prefs: []
  type: TYPE_NORMAL
  zh: if
- en: (customer is
  id: totrans-2234
  prefs: []
  type: TYPE_NORMAL
  zh: (customer is
- en: not
  id: totrans-2235
  prefs: []
  type: TYPE_NORMAL
  zh: not
- en: 'null'
  id: totrans-2236
  prefs: []
  type: TYPE_NORMAL
  zh: 'null'
- en: )
  id: totrans-2237
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '{'
  id: totrans-2238
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: await
  id: totrans-2239
  prefs: []
  type: TYPE_NORMAL
  zh: await
- en: service.UpdateCustomerAsync(customer);
  id: totrans-2240
  prefs: []
  type: TYPE_NORMAL
  zh: service.UpdateCustomerAsync(customer);
- en: '}'
  id: totrans-2241
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: navigation.NavigateTo("customers"
  id: totrans-2242
  prefs: []
  type: TYPE_NORMAL
  zh: navigation.NavigateTo("customers"
- en: );
  id: totrans-2243
  prefs: []
  type: TYPE_NORMAL
  zh: );
- en: '}'
  id: totrans-2244
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-2245
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-2246
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the `Pages` folder, create a new file named `DeleteCustomer.razor` and modify
    its contents to use the customer detail component to show the customer that is
    about to be deleted, as shown in the following code:'
  id: totrans-2247
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Pages`文件夹中，创建一个名为`DeleteCustomer.razor`的新文件，并修改其内容以使用客户详细组件来显示即将删除的客户，如下面的代码所示：
- en: '```cs'
  id: totrans-2248
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: '@page "/deletecustomer/{customerid}"'
  id: totrans-2249
  prefs: []
  type: TYPE_NORMAL
  zh: '@page "/deletecustomer/{customerid}"'
- en: '@inject INorthwindService service'
  id: totrans-2250
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject INorthwindService service'
- en: '@inject NavigationManager navigation'
  id: totrans-2251
  prefs: []
  type: TYPE_NORMAL
  zh: '@inject NavigationManager navigation'
- en: <h3
  id: totrans-2252
  prefs: []
  type: TYPE_NORMAL
  zh: <h3
- en: '>Delete Customer</h3'
  id: totrans-2253
  prefs: []
  type: TYPE_NORMAL
  zh: '>删除客户</h3'
- en: '>'
  id: totrans-2254
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <div
  id: totrans-2255
  prefs: []
  type: TYPE_NORMAL
  zh: <div
- en: class
  id: totrans-2256
  prefs: []
  type: TYPE_NORMAL
  zh: 类
- en: ="alert alert-danger"
  id: totrans-2257
  prefs: []
  type: TYPE_NORMAL
  zh: ="警报警报-危险"
- en: '>'
  id: totrans-2258
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: Warning! This action cannot be undone!
  id: totrans-2259
  prefs: []
  type: TYPE_NORMAL
  zh: 警告！此操作无法撤消！
- en: </div
  id: totrans-2260
  prefs: []
  type: TYPE_NORMAL
  zh: </div
- en: '>'
  id: totrans-2261
  prefs: []
  type: TYPE_NORMAL
  zh: '>'
- en: <CustomerDetail
  id: totrans-2262
  prefs: []
  type: TYPE_NORMAL
  zh: <CustomerDetail
- en: ButtonText
  id: totrans-2263
  prefs: []
  type: TYPE_NORMAL
  zh: 按钮文本
- en: ="Delete Customer"
  id: totrans-2264
  prefs: []
  type: TYPE_NORMAL
  zh: ="删除客户"
- en: ButtonStyle
  id: totrans-2265
  prefs: []
  type: TYPE_NORMAL
  zh: 按钮样式
- en: ="danger"
  id: totrans-2266
  prefs: []
  type: TYPE_NORMAL
  zh: ="危险"
- en: Customer
  id: totrans-2267
  prefs: []
  type: TYPE_NORMAL
  zh: 客户
- en: ="@customer"
  id: totrans-2268
  prefs: []
  type: TYPE_NORMAL
  zh: ="@customer"
- en: OnValidSubmit
  id: totrans-2269
  prefs: []
  type: TYPE_NORMAL
  zh: OnValidSubmit
- en: ="@Delete"
  id: totrans-2270
  prefs: []
  type: TYPE_NORMAL
  zh: ="@Delete"
- en: />
  id: totrans-2271
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: '@code {'
  id: totrans-2272
  prefs: []
  type: TYPE_NORMAL
  zh: '@code {'
- en: '[Parameter'
  id: totrans-2273
  prefs: []
  type: TYPE_NORMAL
  zh: '[参数'
- en: ']'
  id: totrans-2274
  prefs: []
  type: TYPE_NORMAL
  zh: ']'
- en: public
  id: totrans-2275
  prefs: []
  type: TYPE_NORMAL
  zh: 公共
- en: string
  id: totrans-2276
  prefs: []
  type: TYPE_NORMAL
  zh: 字符串
- en: CustomerId { get
  id: totrans-2277
  prefs: []
  type: TYPE_NORMAL
  zh: CustomerId { get
- en: ; set
  id: totrans-2278
  prefs: []
  type: TYPE_NORMAL
  zh: ; 设置
- en: ; }
  id: totrans-2279
  prefs: []
  type: TYPE_NORMAL
  zh: ; }
- en: private
  id: totrans-2280
  prefs: []
  type: TYPE_NORMAL
  zh: 私人的
- en: Customer? customer = new
  id: totrans-2281
  prefs: []
  type: TYPE_NORMAL
  zh: 客户？客户 =新
- en: ();
  id: totrans-2282
  prefs: []
  type: TYPE_NORMAL
  zh: ();
- en: protected
  id: totrans-2283
  prefs: []
  type: TYPE_NORMAL
  zh: 受保护的
- en: async
  id: totrans-2284
  prefs: []
  type: TYPE_NORMAL
  zh: async
- en: override
  id: totrans-2285
  prefs: []
  type: TYPE_NORMAL
  zh: 覆盖
- en: Task
  id: totrans-2286
  prefs: []
  type: TYPE_NORMAL
  zh: 任务
- en: OnParametersSetAsync
  id: totrans-2287
  prefs: []
  type: TYPE_NORMAL
  zh: OnParametersSetAsync
- en: ()
  id: totrans-2288
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-2289
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: customer = await
  id: totrans-2290
  prefs: []
  type: TYPE_NORMAL
  zh: customer = await
- en: service.GetCustomerAsync(CustomerId);
  id: totrans-2291
  prefs: []
  type: TYPE_NORMAL
  zh: service.GetCustomerAsync(CustomerId);
- en: '}'
  id: totrans-2292
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: private
  id: totrans-2293
  prefs: []
  type: TYPE_NORMAL
  zh: 私人的
- en: async
  id: totrans-2294
  prefs: []
  type: TYPE_NORMAL
  zh: async
- en: Task
  id: totrans-2295
  prefs: []
  type: TYPE_NORMAL
  zh: 任务
- en: Delete
  id: totrans-2296
  prefs: []
  type: TYPE_NORMAL
  zh: 删除
- en: ()
  id: totrans-2297
  prefs: []
  type: TYPE_NORMAL
  zh: ()
- en: '{'
  id: totrans-2298
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: if
  id: totrans-2299
  prefs: []
  type: TYPE_NORMAL
  zh: 如果
- en: (customer is
  id: totrans-2300
  prefs: []
  type: TYPE_NORMAL
  zh: （客户是
- en: not
  id: totrans-2301
  prefs: []
  type: TYPE_NORMAL
  zh: 不
- en: 'null'
  id: totrans-2302
  prefs: []
  type: TYPE_NORMAL
  zh: 空
- en: )
  id: totrans-2303
  prefs: []
  type: TYPE_NORMAL
  zh: )
- en: '{'
  id: totrans-2304
  prefs: []
  type: TYPE_NORMAL
  zh: '{'
- en: await
  id: totrans-2305
  prefs: []
  type: TYPE_NORMAL
  zh: 等待
- en: service.DeleteCustomerAsync(CustomerId);
  id: totrans-2306
  prefs: []
  type: TYPE_NORMAL
  zh: service.DeleteCustomerAsync(CustomerId);
- en: '}'
  id: totrans-2307
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: navigation.NavigateTo("customers"
  id: totrans-2308
  prefs: []
  type: TYPE_NORMAL
  zh: navigation.NavigateTo("customers"
- en: );
  id: totrans-2309
  prefs: []
  type: TYPE_NORMAL
  zh: );
- en: '}'
  id: totrans-2310
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '}'
  id: totrans-2311
  prefs: []
  type: TYPE_NORMAL
  zh: '}'
- en: '```'
  id: totrans-2312
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Testing the customer form component
  id: totrans-2313
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 测试客户表单组件
- en: 'Now we can test the customer form component and how to use it to create, edit,
    and delete customers:'
  id: totrans-2314
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以测试客户表单组件以及如何使用它来创建、编辑和删除客户：
- en: Start the `Northwind.BlazorServer` website project.
  id: totrans-2315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动`Northwind.BlazorServer`网站项目。
- en: Start Chrome.
  id: totrans-2316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动Chrome。
- en: Navigate to `https://localhost:5001/` .
  id: totrans-2317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到`https://localhost:5001/`。
- en: Navigate to **Customers Worldwide** and click the **+ Create New** button.
  id: totrans-2318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到**全球客户**，然后单击**+创建新**按钮。
- en: Enter an invalid **Customer Id** like `ABCDEF` , leave the textbox, and note
    the validation message, as shown in *Figure 17.6* :![](img/Image00155.jpg)
  id: totrans-2319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入无效的**客户ID**，如`ABCDEF`，离开文本框，然后注意验证消息，如*图17.6*所示：![](img/Image00155.jpg)
- en: 'Figure 17.6: Creating a new customer and entering an invalid customer ID'
  id: totrans-2320
  prefs: []
  type: TYPE_NORMAL
  zh: 图17.6：创建新客户并输入无效的客户ID
- en: Change the **Customer Id** to `ABCDE` , enter values for the other textboxes,
    and click the **Create Customer** button.
  id: totrans-2321
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将**客户ID**更改为`ABCDE`，为其他文本框输入值，然后单击**创建客户**按钮。
- en: When the list of customers appears, scroll down to the bottom of the page to
    see the new customer.
  id: totrans-2322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当客户列表出现时，向下滚动页面底部以查看新客户。
- en: On the **ABCDE** customer row, click the **Edit** icon button, change the address,
    click the **Update** button, and note that the customer record has been updated.
  id: totrans-2323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**ABCDE**客户行上，单击**编辑**图标按钮，更改地址，单击**更新**按钮，注意客户记录已更新。
- en: On the **ABCDE** customer row, click the **Delete** icon button, note the warning,
    click the **Delete Customer** button, and note that the customer record has been
    deleted.
  id: totrans-2324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**ABCDE**客户行上，单击**删除**图标按钮，注意警告，然后单击**删除客户**按钮，注意客户记录已删除。
- en: Close Chrome and shut down the web server.
  id: totrans-2325
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 关闭Chrome并关闭Web服务器。
- en: Building components using Blazor WebAssembly
  id: totrans-2326
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Blazor WebAssembly构建组件
- en: Now we will reuse the same functionality in the Blazor WebAssembly project so
    that you can clearly see the key differences.
  id: totrans-2327
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将在Blazor WebAssembly项目中重用相同的功能，以便您可以清楚地看到关键区别。
- en: 'Since we abstracted the local dependency service in the `INorthwindService`
    interface, we will be able to reuse all the components and that interface, as
    well as the entity model classes. The only part that will need to be rewritten
    is the implementation of the `NorthwindService` class. Instead of directly calling
    the `NorthwindContext` class, it will call a customer Web API controller on the
    server side, as shown in *Figure 17.7* :'
  id: totrans-2328
  prefs: []
  type: TYPE_NORMAL
  zh: 由于我们在`INorthwindService`接口中抽象了本地依赖服务，我们将能够重用所有组件和该接口，以及实体模型类。唯一需要重写的部分是`NorthwindService`类的实现。它将不再直接调用`NorthwindContext`类，而是在服务器端调用一个客户Web
    API控制器，如*图17.7*所示：
- en: '![](img/Image00156.jpg)'
  id: totrans-2329
  prefs: []
  type: TYPE_IMG
  zh: '![](img/Image00156.jpg)'
- en: 'Figure 17.7: Comparing implementations using Blazor Server and Blazor WebAssembly'
  id: totrans-2330
  prefs: []
  type: TYPE_NORMAL
  zh: 图17.7：比较使用Blazor Server和Blazor WebAssembly的实现
- en: Configuring the server for Blazor WebAssembly
  id: totrans-2331
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为Blazor WebAssembly配置服务器
- en: 'First, we need a web service that the client app can call to get and manage
    customers. If you completed *Chapter 16* , *Building and Consuming Web Services*
    , then you have a customer service in the `Northwind.WebApi` service project that
    you could use. However, to keep this chapter more self-contained, let''s build
    a customer Web API controller in the `Northwind.BlazorWasm.Server` project:'
  id: totrans-2332
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要一个Web服务，客户端应用程序可以调用该服务来获取和管理客户。如果您完成了*第16章*，*构建和使用Web服务*，那么您在`Northwind.WebApi`服务项目中可能已经有一个客户服务可供使用。但是，为了使本章更加自包含，让我们在`Northwind.BlazorWasm.Server`项目中构建一个客户Web
    API控制器：
- en: '**Warning!** Unlike previous projects, relative path references for shared
    projects like the entity models and the database are two levels up, for example,
    `"..\.."` .'
  id: totrans-2333
  prefs: []
  type: TYPE_NORMAL
  zh: '**警告！**与以前的项目不同，共享项目的相对路径引用，如实体模型和数据库，是向上两级，例如，`"..\.."`。'
- en: 'In the `Server` project/folder, open `Northwind.BlazorWasm.Server.csproj` and
    add statements to reference the Northwind database context project for either
    SQL Server or SQLite, as shown in the following markup:'
  id: totrans-2334
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Server`项目/文件夹中，打开`Northwind.BlazorWasm.Server.csproj`并添加语句以引用Northwind数据库上下文项目，无论是SQL
    Server还是SQLite，如下标记所示：
- en: '```cs'
  id: totrans-2335
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: <ItemGroup>
  id: totrans-2336
  prefs: []
  type: TYPE_NORMAL
  zh: <ItemGroup>
- en: <!-- change Sqlite to SqlServer if
  id: totrans-2337
  prefs: []
  type: TYPE_NORMAL
  zh: <!-- 如果您更喜欢，则将Sqlite更改为SqlServer
- en: you prefer -->
  id: totrans-2338
  prefs: []
  type: TYPE_NORMAL
  zh: 您更喜欢的话 -->
- en: <ProjectReference Include="..\..\Northwind.Common.DataContext.Sqlite
  id: totrans-2339
  prefs: []
  type: TYPE_NORMAL
  zh: <ProjectReference Include="..\..\Northwind.Common.DataContext.Sqlite
- en: \Northwind.Common.DataContext.Sqlite.csproj"
  id: totrans-2340
  prefs: []
  type: TYPE_NORMAL
  zh: \Northwind.Common.DataContext.Sqlite.csproj"
- en: />
  id: totrans-2341
  prefs: []
  type: TYPE_NORMAL
  zh: />
- en: </ItemGroup>
  id: totrans-2342
  prefs: []
  type: TYPE_NORMAL
  zh: </ItemGroup>
- en: '```'
  id: totrans-2343
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: Build the `Northwind.BlazorWasm.Server` project.
  id: totrans-2344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 构建`Northwind.BlazorWasm.Server`项目。
- en: 'In the `Server` project/folder, open `Program.cs` and add a statement to import
    the namespace for working with the Northwind database context, as shown in the
    following code:'
  id: totrans-2345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`Server`项目/文件夹中，打开`Program.cs`并添加一条语句以导入与Northwind数据库上下文一起使用的命名空间，如下所示：
- en: '```cs'
  id: totrans-2346
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: using
  id: totrans-2347
  prefs: []
  type: TYPE_NORMAL
  zh: 使用
- en: Packt.Shared;
  id: totrans-2348
  prefs: []
  type: TYPE_NORMAL
  zh: Packt.Shared;
- en: '```'
  id: totrans-2349
  prefs: []
  type: TYPE_NORMAL
  zh: '```'
- en: 'In the section that configures services, add a statement to register the Northwind
    database context for either SQL Server or SQLite, as shown in the following code:'
  id: totrans-2350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在配置服务的部分，添加一条语句来注册Northwind数据库上下文，无论是SQL Server还是SQLite，如下所示：
- en: '```cs'
  id: totrans-2351
  prefs: []
  type: TYPE_NORMAL
  zh: '```cs'
- en: // if using SQL Server
  id: totrans-2352
  prefs: []
  type: TYPE_NORMAL
  zh: // 如果使用SQL Server
- en: builder.Services.AddNorthwindContext();
  id: totrans-2353
  prefs: []
  type: TYPE_NORMAL
  zh: builder.Services.AddNorthwindContext();
- en: // if using SQLite
  id: totrans-2354
  prefs: []
  type: TYPE_NORMAL
- en: builder.Services.AddNorthwindContext(
  id: totrans-2355
  prefs: []
  type: TYPE_NORMAL
- en: 'relativePath: Path.Combine(".."'
  id: totrans-2356
  prefs: []
  type: TYPE_NORMAL
- en: ', ".."'
  id: totrans-2357
  prefs: []
  type: TYPE_NORMAL
- en: ));
  id: totrans-2358
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2359
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Server` project, in the `Controllers` folder, create a file named `CustomersController.cs`
    and add statements to define a Web API controller class with similar CRUD methods
    as before, as shown in the following code:'
  id: totrans-2360
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2361
  prefs: []
  type: TYPE_NORMAL
- en: using
  id: totrans-2362
  prefs: []
  type: TYPE_NORMAL
- en: Microsoft.AspNetCore.Mvc; // [ApiController], [Route]
  id: totrans-2363
  prefs: []
  type: TYPE_NORMAL
- en: using
  id: totrans-2364
  prefs: []
  type: TYPE_NORMAL
- en: Microsoft.EntityFrameworkCore; // ToListAsync, FirstOrDefaultAsync
  id: totrans-2365
  prefs: []
  type: TYPE_NORMAL
- en: using
  id: totrans-2366
  prefs: []
  type: TYPE_NORMAL
- en: Packt.Shared; // NorthwindContext, Customer
  id: totrans-2367
  prefs: []
  type: TYPE_NORMAL
- en: namespace
  id: totrans-2368
  prefs: []
  type: TYPE_NORMAL
- en: Northwind.BlazorWasm.Server.Controllers
  id: totrans-2369
  prefs: []
  type: TYPE_NORMAL
- en: ;
  id: totrans-2370
  prefs: []
  type: TYPE_NORMAL
- en: '[ApiController'
  id: totrans-2371
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-2372
  prefs: []
  type: TYPE_NORMAL
- en: '[Route('
  id: totrans-2373
  prefs: []
  type: TYPE_NORMAL
- en: '"api/[controller]"'
  id: totrans-2374
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2375
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-2376
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2377
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2378
  prefs: []
  type: TYPE_NORMAL
- en: CustomersController
  id: totrans-2379
  prefs: []
  type: TYPE_NORMAL
- en: ': ControllerBase'
  id: totrans-2380
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2381
  prefs: []
  type: TYPE_NORMAL
- en: private
  id: totrans-2382
  prefs: []
  type: TYPE_NORMAL
- en: readonly
  id: totrans-2383
  prefs: []
  type: TYPE_NORMAL
- en: NorthwindContext db;
  id: totrans-2384
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2385
  prefs: []
  type: TYPE_NORMAL
- en: CustomersController
  id: totrans-2386
  prefs: []
  type: TYPE_NORMAL
- en: (
  id: totrans-2387
  prefs: []
  type: TYPE_NORMAL
- en: NorthwindContext db
  id: totrans-2388
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2389
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2390
  prefs: []
  type: TYPE_NORMAL
- en: this
  id: totrans-2391
  prefs: []
  type: TYPE_NORMAL
- en: .db = db;
  id: totrans-2392
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2393
  prefs: []
  type: TYPE_NORMAL
- en: '[HttpGet'
  id: totrans-2394
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-2395
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2396
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2397
  prefs: []
  type: TYPE_NORMAL
- en: Task<List<Customer>> GetCustomersAsync()
  id: totrans-2398
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2399
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2400
  prefs: []
  type: TYPE_NORMAL
- en: await
  id: totrans-2401
  prefs: []
  type: TYPE_NORMAL
- en: db.Customers.ToListAsync();
  id: totrans-2402
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2403
  prefs: []
  type: TYPE_NORMAL
- en: '[HttpGet('
  id: totrans-2404
  prefs: []
  type: TYPE_NORMAL
- en: '"in/{country}"'
  id: totrans-2405
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2406
  prefs: []
  type: TYPE_NORMAL
- en: '] // different path to disambiguate'
  id: totrans-2407
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2408
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2409
  prefs: []
  type: TYPE_NORMAL
- en: Task<List<Customer>> GetCustomersAsync(string
  id: totrans-2410
  prefs: []
  type: TYPE_NORMAL
- en: country)
  id: totrans-2411
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2412
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2413
  prefs: []
  type: TYPE_NORMAL
- en: await
  id: totrans-2414
  prefs: []
  type: TYPE_NORMAL
- en: db.Customers
  id: totrans-2415
  prefs: []
  type: TYPE_NORMAL
- en: .Where(c => c.Country == country).ToListAsync();
  id: totrans-2416
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2417
  prefs: []
  type: TYPE_NORMAL
- en: '[HttpGet('
  id: totrans-2418
  prefs: []
  type: TYPE_NORMAL
- en: '"{id}"'
  id: totrans-2419
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2420
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-2421
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2422
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2423
  prefs: []
  type: TYPE_NORMAL
- en: Task<Customer?> GetCustomerAsync(string
  id: totrans-2424
  prefs: []
  type: TYPE_NORMAL
- en: id)
  id: totrans-2425
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2426
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2427
  prefs: []
  type: TYPE_NORMAL
- en: await
  id: totrans-2428
  prefs: []
  type: TYPE_NORMAL
- en: db.Customers
  id: totrans-2429
  prefs: []
  type: TYPE_NORMAL
- en: .FirstOrDefaultAsync(c => c.CustomerId == id);
  id: totrans-2430
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2431
  prefs: []
  type: TYPE_NORMAL
- en: '[HttpPost'
  id: totrans-2432
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-2433
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2434
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2435
  prefs: []
  type: TYPE_NORMAL
- en: Task<Customer?> CreateCustomerAsync
  id: totrans-2436
  prefs: []
  type: TYPE_NORMAL
- en: (Customer customerToAdd)
  id: totrans-2437
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2438
  prefs: []
  type: TYPE_NORMAL
- en: Customer? existing = await
  id: totrans-2439
  prefs: []
  type: TYPE_NORMAL
- en: db.Customers.FirstOrDefaultAsync
  id: totrans-2440
  prefs: []
  type: TYPE_NORMAL
- en: (c => c.CustomerId == customerToAdd.CustomerId);
  id: totrans-2441
  prefs: []
  type: TYPE_NORMAL
- en: if
  id: totrans-2442
  prefs: []
  type: TYPE_NORMAL
- en: (existing == null
  id: totrans-2443
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2444
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2445
  prefs: []
  type: TYPE_NORMAL
- en: db.Customers.Add(customerToAdd);
  id: totrans-2446
  prefs: []
  type: TYPE_NORMAL
- en: int
  id: totrans-2447
  prefs: []
  type: TYPE_NORMAL
- en: affected = await
  id: totrans-2448
  prefs: []
  type: TYPE_NORMAL
- en: db.SaveChangesAsync();
  id: totrans-2449
  prefs: []
  type: TYPE_NORMAL
- en: if
  id: totrans-2450
  prefs: []
  type: TYPE_NORMAL
- en: (affected == 1
  id: totrans-2451
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2452
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2453
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2454
  prefs: []
  type: TYPE_NORMAL
- en: customerToAdd;
  id: totrans-2455
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2456
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2457
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2458
  prefs: []
  type: TYPE_NORMAL
- en: existing;
  id: totrans-2459
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2460
  prefs: []
  type: TYPE_NORMAL
- en: '[HttpPut'
  id: totrans-2461
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-2462
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2463
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2464
  prefs: []
  type: TYPE_NORMAL
- en: Task<Customer?> UpdateCustomerAsync(Customer c)
  id: totrans-2465
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2466
  prefs: []
  type: TYPE_NORMAL
- en: db.Entry(c).State = EntityState.Modified;
  id: totrans-2467
  prefs: []
  type: TYPE_NORMAL
- en: int
  id: totrans-2468
  prefs: []
  type: TYPE_NORMAL
- en: affected = await
  id: totrans-2469
  prefs: []
  type: TYPE_NORMAL
- en: db.SaveChangesAsync();
  id: totrans-2470
  prefs: []
  type: TYPE_NORMAL
- en: if
  id: totrans-2471
  prefs: []
  type: TYPE_NORMAL
- en: (affected == 1
  id: totrans-2472
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2473
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2474
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2475
  prefs: []
  type: TYPE_NORMAL
- en: c;
  id: totrans-2476
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2477
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2478
  prefs: []
  type: TYPE_NORMAL
- en: 'null'
  id: totrans-2479
  prefs: []
  type: TYPE_NORMAL
- en: ;
  id: totrans-2480
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2481
  prefs: []
  type: TYPE_NORMAL
- en: '[HttpDelete('
  id: totrans-2482
  prefs: []
  type: TYPE_NORMAL
- en: '"{id}"'
  id: totrans-2483
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2484
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-2485
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2486
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2487
  prefs: []
  type: TYPE_NORMAL
- en: Task<
  id: totrans-2488
  prefs: []
  type: TYPE_NORMAL
- en: int
  id: totrans-2489
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2490
  prefs: []
  type: TYPE_NORMAL
- en: DeleteCustomerAsync
  id: totrans-2491
  prefs: []
  type: TYPE_NORMAL
- en: (
  id: totrans-2492
  prefs: []
  type: TYPE_NORMAL
- en: string
  id: totrans-2493
  prefs: []
  type: TYPE_NORMAL
- en: id
  id: totrans-2494
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2495
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2496
  prefs: []
  type: TYPE_NORMAL
- en: Customer? c = await
  id: totrans-2497
  prefs: []
  type: TYPE_NORMAL
- en: db.Customers.FirstOrDefaultAsync
  id: totrans-2498
  prefs: []
  type: TYPE_NORMAL
- en: (c => c.CustomerId == id);
  id: totrans-2499
  prefs: []
  type: TYPE_NORMAL
- en: if
  id: totrans-2500
  prefs: []
  type: TYPE_NORMAL
- en: (c != null
  id: totrans-2501
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2502
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2503
  prefs: []
  type: TYPE_NORMAL
- en: db.Customers.Remove(c);
  id: totrans-2504
  prefs: []
  type: TYPE_NORMAL
- en: int
  id: totrans-2505
  prefs: []
  type: TYPE_NORMAL
- en: affected = await
  id: totrans-2506
  prefs: []
  type: TYPE_NORMAL
- en: db.SaveChangesAsync();
  id: totrans-2507
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2508
  prefs: []
  type: TYPE_NORMAL
- en: affected;
  id: totrans-2509
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2510
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2511
  prefs: []
  type: TYPE_NORMAL
- en: '0'
  id: totrans-2512
  prefs: []
  type: TYPE_NORMAL
- en: ;
  id: totrans-2513
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2514
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2515
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2516
  prefs: []
  type: TYPE_NORMAL
- en: Configuring the client for Blazor WebAssembly
  id: totrans-2517
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Second, we can reuse the components from the Blazor Server project. Since the
    components will be identical, we can copy them and only need to make changes to
    the local implementation of the abstracted Northwind service:'
  id: totrans-2518
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Client` project, open `Northwind.BlazorWasm.Client.csproj` and add
    statements to reference the Northwind entity models library project (not the database
    context project) for either SQL Server or SQLite, as shown in the following markup:'
  id: totrans-2519
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2520
  prefs: []
  type: TYPE_NORMAL
- en: <ItemGroup>
  id: totrans-2521
  prefs: []
  type: TYPE_NORMAL
- en: <!-- change Sqlite to SqlServer if you prefer -->
  id: totrans-2522
  prefs: []
  type: TYPE_NORMAL
- en: <ProjectReference Include="..\..\Northwind.Common.EntityModels.Sqlite\
  id: totrans-2523
  prefs: []
  type: TYPE_NORMAL
- en: Northwind.Common.EntityModels.Sqlite.csproj"
  id: totrans-2524
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-2525
  prefs: []
  type: TYPE_NORMAL
- en: </ItemGroup>
  id: totrans-2526
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2527
  prefs: []
  type: TYPE_NORMAL
- en: Build the `Northwind.BlazorWasm.Client` project.
  id: totrans-2528
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the `Client` project, open `_Imports.razor` and import the `Packt.Shared`
    namespace to make the Northwind entity model types available in all Blazor components,
    as shown in the following code:'
  id: totrans-2529
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2530
  prefs: []
  type: TYPE_NORMAL
- en: '@using Packt.Shared'
  id: totrans-2531
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2532
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Client` project, in the `Shared` folder, open `NavMenu.razor` and add
    a `NavLink` element for customers worldwide and in France, as shown in the following
    markup:'
  id: totrans-2533
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2534
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-2535
  prefs: []
  type: TYPE_NORMAL
- en: div
  id: totrans-2536
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2537
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2538
  prefs: []
  type: TYPE_NORMAL
- en: '"nav-item px-3"'
  id: totrans-2539
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2540
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-2541
  prefs: []
  type: TYPE_NORMAL
- en: NavLink
  id: totrans-2542
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2543
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2544
  prefs: []
  type: TYPE_NORMAL
- en: '"nav-link"'
  id: totrans-2545
  prefs: []
  type: TYPE_NORMAL
- en: href
  id: totrans-2546
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2547
  prefs: []
  type: TYPE_NORMAL
- en: '"customers"'
  id: totrans-2548
  prefs: []
  type: TYPE_NORMAL
- en: Match
  id: totrans-2549
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2550
  prefs: []
  type: TYPE_NORMAL
- en: '"NavLinkMatch.All"'
  id: totrans-2551
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2552
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-2553
  prefs: []
  type: TYPE_NORMAL
- en: span
  id: totrans-2554
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2555
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2556
  prefs: []
  type: TYPE_NORMAL
- en: '"oi oi-people"'
  id: totrans-2557
  prefs: []
  type: TYPE_NORMAL
- en: aria-hidden
  id: totrans-2558
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2559
  prefs: []
  type: TYPE_NORMAL
- en: '"true"'
  id: totrans-2560
  prefs: []
  type: TYPE_NORMAL
- en: '></'
  id: totrans-2561
  prefs: []
  type: TYPE_NORMAL
- en: span
  id: totrans-2562
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2563
  prefs: []
  type: TYPE_NORMAL
- en: Customers Worldwide
  id: totrans-2564
  prefs: []
  type: TYPE_NORMAL
- en: </
  id: totrans-2565
  prefs: []
  type: TYPE_NORMAL
- en: NavLink
  id: totrans-2566
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2567
  prefs: []
  type: TYPE_NORMAL
- en: </
  id: totrans-2568
  prefs: []
  type: TYPE_NORMAL
- en: div
  id: totrans-2569
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2570
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-2571
  prefs: []
  type: TYPE_NORMAL
- en: div
  id: totrans-2572
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2573
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2574
  prefs: []
  type: TYPE_NORMAL
- en: '"nav-item px-3"'
  id: totrans-2575
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2576
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-2577
  prefs: []
  type: TYPE_NORMAL
- en: NavLink
  id: totrans-2578
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2579
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2580
  prefs: []
  type: TYPE_NORMAL
- en: '"nav-link"'
  id: totrans-2581
  prefs: []
  type: TYPE_NORMAL
- en: href
  id: totrans-2582
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2583
  prefs: []
  type: TYPE_NORMAL
- en: '"customers/France"'
  id: totrans-2584
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2585
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-2586
  prefs: []
  type: TYPE_NORMAL
- en: span
  id: totrans-2587
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2588
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2589
  prefs: []
  type: TYPE_NORMAL
- en: '"oi oi-people"'
  id: totrans-2590
  prefs: []
  type: TYPE_NORMAL
- en: aria-hidden
  id: totrans-2591
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2592
  prefs: []
  type: TYPE_NORMAL
- en: '"true"'
  id: totrans-2593
  prefs: []
  type: TYPE_NORMAL
- en: '></'
  id: totrans-2594
  prefs: []
  type: TYPE_NORMAL
- en: span
  id: totrans-2595
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2596
  prefs: []
  type: TYPE_NORMAL
- en: Customers in France
  id: totrans-2597
  prefs: []
  type: TYPE_NORMAL
- en: </
  id: totrans-2598
  prefs: []
  type: TYPE_NORMAL
- en: NavLink
  id: totrans-2599
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2600
  prefs: []
  type: TYPE_NORMAL
- en: </
  id: totrans-2601
  prefs: []
  type: TYPE_NORMAL
- en: div
  id: totrans-2602
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2603
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2604
  prefs: []
  type: TYPE_NORMAL
- en: Copy the `CustomerDetail.razor` component from the `Northwind.BlazorServer`
    project's `Shared` folder to the `Northwind.BlazorWasm` `Client` project's `Shared`
    folder.
  id: totrans-2605
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Copy the following routable page components from the `Northwind.BlazorServer`
    project''s `Pages` folder to the `Northwind.BlazorWasm` `Client` project''s `Pages`
    folder:'
  id: totrans-2606
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '`CreateCustomer.razor`'
  id: totrans-2607
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`Customers.razor`'
  id: totrans-2608
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`DeleteCustomer.razor`'
  id: totrans-2609
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '`EditCustomer.razor`'
  id: totrans-2610
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In the `Client` project, create a `Data` folder.
  id: totrans-2611
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Copy the `INorthwindService.cs` file from the `Northwind.BlazorServer` project's
    `Data` folder into the `Client` project's `Data` folder.
  id: totrans-2612
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the `Data` folder, add a new file named `NorthwindService.cs` .
  id: totrans-2613
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Modify its contents to implement the `INorthwindService` interface by using
    an `HttpClient` to call the customers Web API service, as shown in the following
    code:'
  id: totrans-2614
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2615
  prefs: []
  type: TYPE_NORMAL
- en: using
  id: totrans-2616
  prefs: []
  type: TYPE_NORMAL
- en: System.Net.Http.Json; // GetFromJsonAsync, ReadFromJsonAsync
  id: totrans-2617
  prefs: []
  type: TYPE_NORMAL
- en: using
  id: totrans-2618
  prefs: []
  type: TYPE_NORMAL
- en: Packt.Shared; // Customer
  id: totrans-2619
  prefs: []
  type: TYPE_NORMAL
- en: namespace
  id: totrans-2620
  prefs: []
  type: TYPE_NORMAL
- en: Northwind.BlazorWasm.Client.Data
  id: totrans-2621
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2622
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2623
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2624
  prefs: []
  type: TYPE_NORMAL
- en: NorthwindService
  id: totrans-2625
  prefs: []
  type: TYPE_NORMAL
- en: ': INorthwindService'
  id: totrans-2626
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2627
  prefs: []
  type: TYPE_NORMAL
- en: private
  id: totrans-2628
  prefs: []
  type: TYPE_NORMAL
- en: readonly
  id: totrans-2629
  prefs: []
  type: TYPE_NORMAL
- en: HttpClient http;
  id: totrans-2630
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2631
  prefs: []
  type: TYPE_NORMAL
- en: NorthwindService
  id: totrans-2632
  prefs: []
  type: TYPE_NORMAL
- en: (
  id: totrans-2633
  prefs: []
  type: TYPE_NORMAL
- en: HttpClient http
  id: totrans-2634
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2635
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2636
  prefs: []
  type: TYPE_NORMAL
- en: this
  id: totrans-2637
  prefs: []
  type: TYPE_NORMAL
- en: .http = http;
  id: totrans-2638
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2639
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2640
  prefs: []
  type: TYPE_NORMAL
- en: Task<List<Customer>> GetCustomersAsync()
  id: totrans-2641
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2642
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2643
  prefs: []
  type: TYPE_NORMAL
- en: http.GetFromJsonAsync
  id: totrans-2644
  prefs: []
  type: TYPE_NORMAL
- en: <List<Customer>>("api/customers"
  id: totrans-2645
  prefs: []
  type: TYPE_NORMAL
- en: );
  id: totrans-2646
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2647
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2648
  prefs: []
  type: TYPE_NORMAL
- en: Task<List<Customer>> GetCustomersAsync(string
  id: totrans-2649
  prefs: []
  type: TYPE_NORMAL
- en: country)
  id: totrans-2650
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2651
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2652
  prefs: []
  type: TYPE_NORMAL
- en: http.GetFromJsonAsync
  id: totrans-2653
  prefs: []
  type: TYPE_NORMAL
- en: <List<Customer>>($"api/customers/in/
  id: totrans-2654
  prefs: []
  type: TYPE_NORMAL
- en: '{country}'
  id: totrans-2655
  prefs: []
  type: TYPE_NORMAL
- en: '"'
  id: totrans-2656
  prefs: []
  type: TYPE_NORMAL
- en: );
  id: totrans-2657
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2658
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2659
  prefs: []
  type: TYPE_NORMAL
- en: Task<Customer>
  id: totrans-2660
  prefs: []
  type: TYPE_NORMAL
- en: GetCustomerAsync
  id: totrans-2661
  prefs: []
  type: TYPE_NORMAL
- en: (
  id: totrans-2662
  prefs: []
  type: TYPE_NORMAL
- en: string
  id: totrans-2663
  prefs: []
  type: TYPE_NORMAL
- en: id
  id: totrans-2664
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2665
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2666
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2667
  prefs: []
  type: TYPE_NORMAL
- en: http.GetFromJsonAsync
  id: totrans-2668
  prefs: []
  type: TYPE_NORMAL
- en: <Customer>($"api/customers/
  id: totrans-2669
  prefs: []
  type: TYPE_NORMAL
- en: '{id}'
  id: totrans-2670
  prefs: []
  type: TYPE_NORMAL
- en: '"'
  id: totrans-2671
  prefs: []
  type: TYPE_NORMAL
- en: );
  id: totrans-2672
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2673
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2674
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2675
  prefs: []
  type: TYPE_NORMAL
- en: Task<Customer>
  id: totrans-2676
  prefs: []
  type: TYPE_NORMAL
- en: CreateCustomerAsync
  id: totrans-2677
  prefs: []
  type: TYPE_NORMAL
- en: (
  id: totrans-2678
  prefs: []
  type: TYPE_NORMAL
- en: Customer c
  id: totrans-2679
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2680
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2681
  prefs: []
  type: TYPE_NORMAL
- en: HttpResponseMessage response = await
  id: totrans-2682
  prefs: []
  type: TYPE_NORMAL
- en: http.PostAsJsonAsync("api/customers"
  id: totrans-2683
  prefs: []
  type: TYPE_NORMAL
- en: ', c);'
  id: totrans-2684
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2685
  prefs: []
  type: TYPE_NORMAL
- en: await
  id: totrans-2686
  prefs: []
  type: TYPE_NORMAL
- en: response.Content
  id: totrans-2687
  prefs: []
  type: TYPE_NORMAL
- en: .ReadFromJsonAsync<Customer>();
  id: totrans-2688
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2689
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2690
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2691
  prefs: []
  type: TYPE_NORMAL
- en: Task<Customer>
  id: totrans-2692
  prefs: []
  type: TYPE_NORMAL
- en: UpdateCustomerAsync
  id: totrans-2693
  prefs: []
  type: TYPE_NORMAL
- en: (
  id: totrans-2694
  prefs: []
  type: TYPE_NORMAL
- en: Customer c
  id: totrans-2695
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2696
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2697
  prefs: []
  type: TYPE_NORMAL
- en: HttpResponseMessage response = await
  id: totrans-2698
  prefs: []
  type: TYPE_NORMAL
- en: http.PutAsJsonAsync("api/customers"
  id: totrans-2699
  prefs: []
  type: TYPE_NORMAL
- en: ', c);'
  id: totrans-2700
  prefs: []
  type: TYPE_NORMAL
- en: return
  id: totrans-2701
  prefs: []
  type: TYPE_NORMAL
- en: await
  id: totrans-2702
  prefs: []
  type: TYPE_NORMAL
- en: response.Content
  id: totrans-2703
  prefs: []
  type: TYPE_NORMAL
- en: .ReadFromJsonAsync<Customer>();
  id: totrans-2704
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2705
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2706
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-2707
  prefs: []
  type: TYPE_NORMAL
- en: Task
  id: totrans-2708
  prefs: []
  type: TYPE_NORMAL
- en: DeleteCustomerAsync
  id: totrans-2709
  prefs: []
  type: TYPE_NORMAL
- en: (
  id: totrans-2710
  prefs: []
  type: TYPE_NORMAL
- en: string
  id: totrans-2711
  prefs: []
  type: TYPE_NORMAL
- en: id
  id: totrans-2712
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2713
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2714
  prefs: []
  type: TYPE_NORMAL
- en: HttpResponseMessage response = await
  id: totrans-2715
  prefs: []
  type: TYPE_NORMAL
- en: http.DeleteAsync($"api/customers/
  id: totrans-2716
  prefs: []
  type: TYPE_NORMAL
- en: '{id}'
  id: totrans-2717
  prefs: []
  type: TYPE_NORMAL
- en: '"'
  id: totrans-2718
  prefs: []
  type: TYPE_NORMAL
- en: );
  id: totrans-2719
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2720
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2721
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2722
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2723
  prefs: []
  type: TYPE_NORMAL
- en: In `Program.cs` , import the `Packt.Shared` and `Northwind.BlazorWasm.Client.Data`
    namespaces.
  id: totrans-2724
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the section for configuring services, add a statement to register the Northwind
    dependency service, as shown in the following code:'
  id: totrans-2725
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2726
  prefs: []
  type: TYPE_NORMAL
- en: builder.Services.AddTransient<INorthwindService, NorthwindService>();
  id: totrans-2727
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2728
  prefs: []
  type: TYPE_NORMAL
- en: Testing the Blazor WebAssembly components and service
  id: totrans-2729
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Now we can start the Blazor WebAssembly server hosting project to test if the
    components work with the abstracted Northwind service that calls the customers
    Web API service:'
  id: totrans-2730
  prefs: []
  type: TYPE_NORMAL
- en: In the `Server` project/folder, start the `Northwind.BlazorWasm.Server` website
    project.
  id: totrans-2731
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Start Chrome, show **Developer Tools** , and select the **Network** tab.
  id: totrans-2732
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Navigate to `https://localhost:5001/` . Your port number will be different since
    it is randomly assigned. View the console output to discover what it is.
  id: totrans-2733
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the **Console** tab and note that Blazor WebAssembly has loaded .NET
    assemblies into the browser cache and that they take about 10 MB of space, as
    shown in *Figure 17.8* :![](img/Image00157.jpg)
  id: totrans-2734
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 17.8: Blazor WebAssembly loading .NET assemblies into the browser cache'
  id: totrans-2735
  prefs: []
  type: TYPE_NORMAL
- en: Select the **Network** tab.
  id: totrans-2736
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the left navigation menu, click **Customers Worldwide** and note the HTTP
    `GET` request with the JSON response containing all customers, as shown in *Figure
    17.9* :![](img/Image00158.jpg)
  id: totrans-2737
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 17.9: The HTTP GET request with the JSON response containing all customers'
  id: totrans-2738
  prefs: []
  type: TYPE_NORMAL
- en: Click the **+ Create New** button, complete the form to add a new customer as
    before, and note the HTTP `POST` request made, as shown in *Figure 17.10* :![](img/Image00159.jpg)
  id: totrans-2739
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 17.10: The HTTP POST request for creating a new customer'
  id: totrans-2740
  prefs: []
  type: TYPE_NORMAL
- en: Repeat the steps as before to edit and then delete the newly created customer.
  id: totrans-2741
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Close Chrome and shut down the web server.
  id: totrans-2742
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Improving Blazor WebAssembly apps
  id: totrans-2743
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are common ways to improve Blazor WebAssembly apps. We'll look at some
    of the most popular ones now.
  id: totrans-2744
  prefs: []
  type: TYPE_NORMAL
- en: Enabling Blazor WebAssembly AOT
  id: totrans-2745
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: By default, the .NET runtime used by Blazor WebAssembly is doing IL interpretation
    using an interpreter written in WebAssembly. Unlike other .NET apps, it does not
    use a just-in-time (JIT) compiler, so the performance of CPU-intensive workloads
    is lower than you might hope for.
  id: totrans-2746
  prefs: []
  type: TYPE_NORMAL
- en: In .NET 6, Microsoft has added support for **ahead-of-time** (**AOT** ) compilation,
    but you must explicitly opt-in because although it can dramatically improve runtime
    performance, AOT compilation can take several minutes on small projects like the
    ones in this book and potentially much longer for larger projects. The size of
    the compiled app is also larger than without AOT—typically twice the size. The
    decision to use AOT is therefore based on a balance of increased compile and browser
    download times, with potentially much faster runtimes.
  id: totrans-2747
  prefs: []
  type: TYPE_NORMAL
- en: AOT was the top requested feature in a Microsoft survey, and the lack of AOT
    was cited as a primary reason why some developers had not yet adopted .NET for
    developing **single-page applications** (**SPAs** ).
  id: totrans-2748
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s install the additional required workload for Blazor AOT named **.NET
    WebAssembly build tools** and then enable AOT for our Blazor WebAssembly project:'
  id: totrans-2749
  prefs: []
  type: TYPE_NORMAL
- en: 'In the command prompt or terminal with admin rights, install the Blazor AOT
    workload, as shown in the following command:'
  id: totrans-2750
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2751
  prefs: []
  type: TYPE_NORMAL
- en: dotnet workload install wasm-tools
  id: totrans-2752
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2753
  prefs: []
  type: TYPE_NORMAL
- en: 'Note the messages, as shown in the following partial output:'
  id: totrans-2754
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2755
  prefs: []
  type: TYPE_NORMAL
- en: '...'
  id: totrans-2756
  prefs: []
  type: TYPE_NORMAL
- en: Installing pack Microsoft.NET.Runtime.MonoAOTCompiler.Task version 6.0.0...
  id: totrans-2757
  prefs: []
  type: TYPE_NORMAL
- en: Installing pack Microsoft.NETCore.App.Runtime.AOT.Cross.browser-wasm version
    6.0.0...
  id: totrans-2758
  prefs: []
  type: TYPE_NORMAL
- en: Successfully installed workload(s) wasm-tools.
  id: totrans-2759
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2760
  prefs: []
  type: TYPE_NORMAL
- en: 'Modify the `Northwind.BlazorWasm.Client` project file to enable AOT, as shown
    highlighted in the following markup:'
  id: totrans-2761
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2762
  prefs: []
  type: TYPE_NORMAL
- en: <PropertyGroup>
  id: totrans-2763
  prefs: []
  type: TYPE_NORMAL
- en: <TargetFramework>net6.0
  id: totrans-2764
  prefs: []
  type: TYPE_NORMAL
- en: </TargetFramework>
  id: totrans-2765
  prefs: []
  type: TYPE_NORMAL
- en: <Nullable>enable</Nullable>
  id: totrans-2766
  prefs: []
  type: TYPE_NORMAL
- en: <ImplicitUsings>enable</ImplicitUsings>
  id: totrans-2767
  prefs: []
  type: TYPE_NORMAL
- en: <ServiceWorkerAssetsManifest>service-worker-assets.js
  id: totrans-2768
  prefs: []
  type: TYPE_NORMAL
- en: </ServiceWorkerAssetsManifest>
  id: totrans-2769
  prefs: []
  type: TYPE_NORMAL
- en: '**<RunAOTCompilation>**'
  id: totrans-2770
  prefs: []
  type: TYPE_NORMAL
- en: '**true**'
  id: totrans-2771
  prefs: []
  type: TYPE_NORMAL
- en: '**</RunAOTCompilation>**'
  id: totrans-2772
  prefs: []
  type: TYPE_NORMAL
- en: </PropertyGroup>
  id: totrans-2773
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2774
  prefs: []
  type: TYPE_NORMAL
- en: 'Publish the `Northwind.BlazorWasm.Client` project, as shown in the following
    command:'
  id: totrans-2775
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2776
  prefs: []
  type: TYPE_NORMAL
- en: dotnet publish -c Release
  id: totrans-2777
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2778
  prefs: []
  type: TYPE_NORMAL
- en: 'Note that 75 assemblies have AOT applied, as shown in the following partial
    output:'
  id: totrans-2779
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2780
  prefs: []
  type: TYPE_NORMAL
- en: Northwind.BlazorWasm.Client -> C:\Code\PracticalApps\Northwind.BlazorWasm\Client\bin\Release\net6.0\Northwind.BlazorWasm.Client.dll
  id: totrans-2781
  prefs: []
  type: TYPE_NORMAL
- en: Northwind.BlazorWasm.Client (Blazor output) -> C:\Code\PracticalApps\Northwind.BlazorWasm\Client\bin\Release\net6.0\wwwroot
  id: totrans-2782
  prefs: []
  type: TYPE_NORMAL
- en: 'Optimizing assemblies for size, which may change the behavior of the app. Be
    sure to test after publishing. See: https://aka.ms/dotnet-illink'
  id: totrans-2783
  prefs: []
  type: TYPE_NORMAL
- en: AOT'ing 75 assemblies
  id: totrans-2784
  prefs: []
  type: TYPE_NORMAL
- en: '[1/75] Microsoft.Extensions.Caching.Abstractions.dll -> Microsoft.Extensions.Caching.Abstractions.dll.bc'
  id: totrans-2785
  prefs: []
  type: TYPE_NORMAL
- en: '...'
  id: totrans-2786
  prefs: []
  type: TYPE_NORMAL
- en: '[75/75] Microsoft.EntityFrameworkCore.Sqlite.dll -> Microsoft.EntityFrameworkCore.Sqlite.dll.bc'
  id: totrans-2787
  prefs: []
  type: TYPE_NORMAL
- en: Compiling native assets with emcc. This may take a while ...
  id: totrans-2788
  prefs: []
  type: TYPE_NORMAL
- en: '...'
  id: totrans-2789
  prefs: []
  type: TYPE_NORMAL
- en: Linking with emcc. This may take a while ...
  id: totrans-2790
  prefs: []
  type: TYPE_NORMAL
- en: '...'
  id: totrans-2791
  prefs: []
  type: TYPE_NORMAL
- en: Optimizing dotnet.wasm ...
  id: totrans-2792
  prefs: []
  type: TYPE_NORMAL
- en: Compressing Blazor WebAssembly publish artifacts. This may take a while...
  id: totrans-2793
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2794
  prefs: []
  type: TYPE_NORMAL
- en: Wait for the process to finish. The process can take around 20 minutes even
    on a modern multi-core CPU.
  id: totrans-2795
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Navigate to the `Northwind.BlazorWasm\Client\bin\release\net6.0\publish` folder
    and note the increased size of the download from 10 MB to 112 MB.
  id: totrans-2796
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Without AOT, the downloaded Blazor WebAssembly app took about 10 MB of space.
    With AOT, it took about 112 MB. This increase in size will affect a website visitor's
    experience.
  id: totrans-2797
  prefs: []
  type: TYPE_NORMAL
- en: The use of AOT is a balance between slower initial download and faster potential
    execution. Depending on the specifics of your app, AOT might not be worth it.
  id: totrans-2798
  prefs: []
  type: TYPE_NORMAL
- en: Exploring Progressive Web App support
  id: totrans-2799
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: '**Progressive Web App (PWA)** support in Blazor WebAssembly projects means
    that the web app gains the following benefits:'
  id: totrans-2800
  prefs: []
  type: TYPE_NORMAL
- en: It acts as a normal web page until the visitor explicitly decides to progress
    to a full app experience.
  id: totrans-2801
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: After the app is installed, launch it from the OS's start menu or desktop.
  id: totrans-2802
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It visually appears in its own app window instead of a browser tab.
  id: totrans-2803
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It works offline.
  id: totrans-2804
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It automatically updates.
  id: totrans-2805
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Let us see PWA support in action:'
  id: totrans-2806
  prefs: []
  type: TYPE_NORMAL
- en: Start the `Northwind.BlazorWasm.Server` web host project.
  id: totrans-2807
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Navigate to `https://localhost:5001/` or whatever your port number is.
  id: totrans-2808
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In Chrome, in the address bar on the right, click the icon with the tooltip
    **Install Northwind.BlazorWasm** , as shown in *Figure 17.11* :![](img/Image00160.jpg)
  id: totrans-2809
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 17.11: Installing Northwind.BlazorWasm as an app'
  id: totrans-2810
  prefs: []
  type: TYPE_NORMAL
- en: Click the **Install** button.
  id: totrans-2811
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Close Chrome. You might also need to close the app if it runs automatically.
  id: totrans-2812
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Launch the **Northwind.BlazorWasm** app from your Windows Start menu or macOS
    Launchpad and note that it has a full app experience.
  id: totrans-2813
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On the right of the title bar, click the three dots menu and note that you can
    uninstall the app, but do not do so yet.
  id: totrans-2814
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Navigate to **Developer Tools** . On Windows, press F12 or Ctrl + Shift + I
    . On macOS, press Cmd + Shift + I .
  id: totrans-2815
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the **Network** tab and then, in the **Throttling** dropdown, select
    the **Offline** preset.
  id: totrans-2816
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the left navigation menu, click **Home** and then click **Customers Worldwide**
    , and note the failure to load any customers and the error message at the bottom
    of the app window, as shown in *Figure 17.12* :![](img/Image00161.jpg)
  id: totrans-2817
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 17.12: Failure to load any customers when the network is offline'
  id: totrans-2818
  prefs: []
  type: TYPE_NORMAL
- en: 'In **Developer Tools** , set **Throttling** back to **Disabled: No throttling**
    .'
  id: totrans-2819
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the **Reload** link in the yellow error bar at the bottom of the app and
    note that functionality returns.
  id: totrans-2820
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You could now uninstall the PWA app or just close it.
  id: totrans-2821
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Implementing offline support for PWAs
  id: totrans-2822
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: We could improve the experience by caching HTTP `GET` responses from the Web
    API service locally, storing new, modified, or deleted customers locally, and
    then synchronizing with the server later by making the stored HTTP requests once
    network connectivity is restored. But that takes a lot of effort to implement
    well, so it is beyond the scope of this book.
  id: totrans-2823
  prefs: []
  type: TYPE_NORMAL
- en: Understanding the browser compatibility analyzer for Blazor WebAssembly
  id: totrans-2824
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: With .NET 6, Microsoft has unified the .NET library for all workloads. However,
    although in theory, this means that a Blazor WebAssembly app has full access to
    all .NET APIs, in practice, it runs inside a browser sandbox so there are limitations.
    If you call an unsupported API, this will throw a `PlatformNotSupportedException`
    .
  id: totrans-2825
  prefs: []
  type: TYPE_NORMAL
- en: To be forewarned about unsupported APIs, you can add a platform compatibility
    analyzer that will warn you when your code uses APIs that are not supported by
    browsers.
  id: totrans-2826
  prefs: []
  type: TYPE_NORMAL
- en: '**Blazor WebAssembly App** and **Razor Class Library** project templates automatically
    enable browser compatibility checks.'
  id: totrans-2827
  prefs: []
  type: TYPE_NORMAL
- en: 'To manually activate browser compatibility checks, for example, in a **Class
    Library** project, add an entry to the project file, as shown in the following
    markup:'
  id: totrans-2828
  prefs: []
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2829
  prefs: []
  type: TYPE_NORMAL
- en: <ItemGroup>
  id: totrans-2830
  prefs: []
  type: TYPE_NORMAL
- en: <SupportedPlatform Include="browser"
  id: totrans-2831
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-2832
  prefs: []
  type: TYPE_NORMAL
- en: </ItemGroup>
  id: totrans-2833
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2834
  prefs: []
  type: TYPE_NORMAL
- en: 'Microsoft decorates unsupported APIs, as shown in the following code:'
  id: totrans-2835
  prefs: []
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2836
  prefs: []
  type: TYPE_NORMAL
- en: '[UnsupportedOSPlatform('
  id: totrans-2837
  prefs: []
  type: TYPE_NORMAL
- en: '"browser"'
  id: totrans-2838
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2839
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-2840
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-2841
  prefs: []
  type: TYPE_NORMAL
- en: void
  id: totrans-2842
  prefs: []
  type: TYPE_NORMAL
- en: DoSomethingOutsideTheBrowserSandbox
  id: totrans-2843
  prefs: []
  type: TYPE_NORMAL
- en: ()
  id: totrans-2844
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2845
  prefs: []
  type: TYPE_NORMAL
- en: '...'
  id: totrans-2846
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2847
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2848
  prefs: []
  type: TYPE_NORMAL
- en: '**Good Practice** : If you create libraries that should not be used in Blazor
    WebAssembly apps, then you should decorate your APIs in the same way.'
  id: totrans-2849
  prefs: []
  type: TYPE_NORMAL
- en: Sharing Blazor components in a class library
  id: totrans-2850
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: We currently have components duplicated in a Blazor Server project and a Blazor
    WebAssembly project. It would be better to have them defined once in a class library
    project and reference them from the two other Blazor projects.
  id: totrans-2851
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s create a new Razor class library:'
  id: totrans-2852
  prefs: []
  type: TYPE_NORMAL
- en: 'Use your preferred code editor to add a new project, as defined in the following
    list:'
  id: totrans-2853
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Project template: **Razor Class Library** / `razorclasslib`'
  id: totrans-2854
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Workspace/solution file and folder: `PracticalApps`'
  id: totrans-2855
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Project file and folder: `Northwind.Blazor.Customers`'
  id: totrans-2856
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Support pages and views: checked'
  id: totrans-2857
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the `Northwind.Blazor.Customers` project, add a project reference to the
    `Northwind.Common.EntityModels.Sqlite` or `SqlServer` project.
  id: totrans-2858
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In the `Northwind.Blazor.Customers` project, add an entry to check browser
    compatibility, as shown highlighted in the following markup:'
  id: totrans-2859
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2860
  prefs: []
  type: TYPE_NORMAL
- en: <Project Sdk="Microsoft.NET.Sdk.Razor"
  id: totrans-2861
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2862
  prefs: []
  type: TYPE_NORMAL
- en: <PropertyGroup>
  id: totrans-2863
  prefs: []
  type: TYPE_NORMAL
- en: <TargetFramework>net6.0
  id: totrans-2864
  prefs: []
  type: TYPE_NORMAL
- en: </TargetFramework>
  id: totrans-2865
  prefs: []
  type: TYPE_NORMAL
- en: <Nullable>enable</Nullable>
  id: totrans-2866
  prefs: []
  type: TYPE_NORMAL
- en: <ImplicitUsings>enable</ImplicitUsings>
  id: totrans-2867
  prefs: []
  type: TYPE_NORMAL
- en: <AddRazorSupportForMvc>true
  id: totrans-2868
  prefs: []
  type: TYPE_NORMAL
- en: </AddRazorSupportForMvc>
  id: totrans-2869
  prefs: []
  type: TYPE_NORMAL
- en: </PropertyGroup>
  id: totrans-2870
  prefs: []
  type: TYPE_NORMAL
- en: <ItemGroup>
  id: totrans-2871
  prefs: []
  type: TYPE_NORMAL
- en: <FrameworkReference Include="Microsoft.AspNetCore.App"
  id: totrans-2872
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-2873
  prefs: []
  type: TYPE_NORMAL
- en: </ItemGroup>
  id: totrans-2874
  prefs: []
  type: TYPE_NORMAL
- en: <ItemGroup>
  id: totrans-2875
  prefs: []
  type: TYPE_NORMAL
- en: <ProjectReference Include="..\Northwind.Common.EntityModels.Sqlite
  id: totrans-2876
  prefs: []
  type: TYPE_NORMAL
- en: \Northwind.Common.EntityModels.Sqlite.csproj"
  id: totrans-2877
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-2878
  prefs: []
  type: TYPE_NORMAL
- en: </ItemGroup>
  id: totrans-2879
  prefs: []
  type: TYPE_NORMAL
- en: '**<ItemGroup>**'
  id: totrans-2880
  prefs: []
  type: TYPE_NORMAL
- en: '**<SupportedPlatform Include=**'
  id: totrans-2881
  prefs: []
  type: TYPE_NORMAL
- en: '**"browser"**'
  id: totrans-2882
  prefs: []
  type: TYPE_NORMAL
- en: '**/>**'
  id: totrans-2883
  prefs: []
  type: TYPE_NORMAL
- en: '**</ItemGroup>**'
  id: totrans-2884
  prefs: []
  type: TYPE_NORMAL
- en: </Project>
  id: totrans-2885
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2886
  prefs: []
  type: TYPE_NORMAL
- en: In the `Northwind.BlazorServer` project, add a project reference to the `Northwind.Blazor.Customers`
    project.
  id: totrans-2887
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Build the `Northwind.BlazorServer` project.
  id: totrans-2888
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the `Northwind.Blazor.Customers` project, delete the `Areas` folder and all
    its contents.
  id: totrans-2889
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Copy the `_Imports.razor` file from the root of the `Northwind.BlazorServer`
    project to the root of the `Northwind.Blazor.Customers` project.
  id: totrans-2890
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'In `_Imports.razor` , delete the two imports for the `Northwind.BlazorServer`
    namespace and add a statement to import the namespace that will contain our shared
    Blazor components, as shown in the following code:'
  id: totrans-2891
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2892
  prefs: []
  type: TYPE_NORMAL
- en: '@using Northwind.Blazor.Customers.Shared'
  id: totrans-2893
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2894
  prefs: []
  type: TYPE_NORMAL
- en: Create three folders named `Data` , `Pages` , and `Shared` .
  id: totrans-2895
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Move `INorthwindService.cs` from the `Northwind.BlazorServer` project's `Data`
    folder to the `Northwind.Blazor.Customers` project's `Data` folder.
  id: totrans-2896
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Move all the components from the `Northwind.BlazorServer` project's `Shared`
    folder to the `Northwind.Blazor.Customers` project's `Shared` folder.
  id: totrans-2897
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Move the `CreateCustomer.razor` , `Customers.razor` , `EditCustomer.razor` ,
    and `DeleteCustomer.razor` components from the `Northwind.BlazorServer` project's
    `Pages` folder to the `Northwind.Blazor.Customers` project's `Pages` folder.
  id: totrans-2898
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: We will leave the other page components because they have dependencies on the
    weather service that has not been properly refactored.
  id: totrans-2899
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Northwind.BlazorServer` project, in `_Imports.razor` , remove the `using`
    statement for `Northwind.BlazorServer.Shared` and add statements to import the
    page and shared components in the class library, as shown in the following code:'
  id: totrans-2900
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2901
  prefs: []
  type: TYPE_NORMAL
- en: '@using Northwind.Blazor.Customers.Pages'
  id: totrans-2902
  prefs: []
  type: TYPE_NORMAL
- en: '@using Northwind.Blazor.Customers.Shared'
  id: totrans-2903
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2904
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Northwind.BlazorServer` project, in `App.razor` , add a parameter to
    tell the `Router` component to scan the additional assembly to set up the routes
    for the page components in the class library, as shown highlighted in the following
    code:'
  id: totrans-2905
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2906
  prefs: []
  type: TYPE_NORMAL
- en: <Router AppAssembly="@typeof(App).Assembly"
  id: totrans-2907
  prefs: []
  type: TYPE_NORMAL
- en: '**AdditionalAssemblies=**'
  id: totrans-2908
  prefs: []
  type: TYPE_NORMAL
- en: '**"new[] { typeof(Customers).Assembly }"**'
  id: totrans-2909
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2910
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2911
  prefs: []
  type: TYPE_NORMAL
- en: '**Good Practice** : It does not matter which class you specify as long as it
    is in the external assembly. I chose `Customers` since it is the most important
    and obvious component class.'
  id: totrans-2912
  prefs: []
  type: TYPE_NORMAL
- en: Start the `Northwind.BlazorServer` project and note that it has the same behavior
    as before.
  id: totrans-2913
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**Good Practice** : You can now reuse the Blazor components in other Blazor
    Server projects. However, you cannot use that class library in Blazor WebAssembly
    projects because it has a dependency on the full ASP.NET Core workload. Creating
    Blazor component libraries that work with both hosting models is beyond the scope
    of this book.'
  id: totrans-2914
  prefs: []
  type: TYPE_NORMAL
- en: Interop with JavaScript
  id: totrans-2915
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: By default, Blazor components do not have access to browser capabilities like
    local storage, geolocation, and media capture, or any JavaScript libraries like
    React or Vue. If you need to interact with them, you can use JavaScript Interop.
  id: totrans-2916
  prefs: []
  type: TYPE_NORMAL
- en: 'Let''s see an example that uses the browser window''s alert box and local storage
    that can persist up to 5 MB of data per visitor indefinitely:'
  id: totrans-2917
  prefs: []
  type: TYPE_NORMAL
- en: In the `Northwind.BlazorServer` project, in the `wwwroot` folder, add a folder
    named `scripts` .
  id: totrans-2918
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the `scripts` folder, add a file named `interop.js` .
  id: totrans-2919
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Modify its contents, as shown in the following code:'
  id: totrans-2920
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2921
  prefs: []
  type: TYPE_NORMAL
- en: function
  id: totrans-2922
  prefs: []
  type: TYPE_NORMAL
- en: messageBox
  id: totrans-2923
  prefs: []
  type: TYPE_NORMAL
- en: (
  id: totrans-2924
  prefs: []
  type: TYPE_NORMAL
- en: message
  id: totrans-2925
  prefs: []
  type: TYPE_NORMAL
- en: )
  id: totrans-2926
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2927
  prefs: []
  type: TYPE_NORMAL
- en: window
  id: totrans-2928
  prefs: []
  type: TYPE_NORMAL
- en: .alert(message);
  id: totrans-2929
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2930
  prefs: []
  type: TYPE_NORMAL
- en: function
  id: totrans-2931
  prefs: []
  type: TYPE_NORMAL
- en: setColorInStorage
  id: totrans-2932
  prefs: []
  type: TYPE_NORMAL
- en: ()
  id: totrans-2933
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2934
  prefs: []
  type: TYPE_NORMAL
- en: if
  id: totrans-2935
  prefs: []
  type: TYPE_NORMAL
- en: (typeof
  id: totrans-2936
  prefs: []
  type: TYPE_NORMAL
- en: (Storage) !== "undefined"
  id: totrans-2937
  prefs: []
  type: TYPE_NORMAL
- en: ) {
  id: totrans-2938
  prefs: []
  type: TYPE_NORMAL
- en: localStorage
  id: totrans-2939
  prefs: []
  type: TYPE_NORMAL
- en: .setItem("color"
  id: totrans-2940
  prefs: []
  type: TYPE_NORMAL
- en: ','
  id: totrans-2941
  prefs: []
  type: TYPE_NORMAL
- en: document
  id: totrans-2942
  prefs: []
  type: TYPE_NORMAL
- en: .getElementById("colorBox"
  id: totrans-2943
  prefs: []
  type: TYPE_NORMAL
- en: ).value);
  id: totrans-2944
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2945
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2946
  prefs: []
  type: TYPE_NORMAL
- en: function
  id: totrans-2947
  prefs: []
  type: TYPE_NORMAL
- en: getColorFromStorage
  id: totrans-2948
  prefs: []
  type: TYPE_NORMAL
- en: ()
  id: totrans-2949
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-2950
  prefs: []
  type: TYPE_NORMAL
- en: if
  id: totrans-2951
  prefs: []
  type: TYPE_NORMAL
- en: (typeof
  id: totrans-2952
  prefs: []
  type: TYPE_NORMAL
- en: (Storage) !== "undefined"
  id: totrans-2953
  prefs: []
  type: TYPE_NORMAL
- en: ) {
  id: totrans-2954
  prefs: []
  type: TYPE_NORMAL
- en: document
  id: totrans-2955
  prefs: []
  type: TYPE_NORMAL
- en: .getElementById("colorBox"
  id: totrans-2956
  prefs: []
  type: TYPE_NORMAL
- en: ).value =
  id: totrans-2957
  prefs: []
  type: TYPE_NORMAL
- en: localStorage
  id: totrans-2958
  prefs: []
  type: TYPE_NORMAL
- en: .getItem("color"
  id: totrans-2959
  prefs: []
  type: TYPE_NORMAL
- en: );
  id: totrans-2960
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2961
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-2962
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2963
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Pages` folder, in `_Layout.cshtml` , after the `script` element that
    adds Blazor Server support, add a `script` element that references the JavaScript
    file that you just created, as shown in the following code:'
  id: totrans-2964
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2965
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-2966
  prefs: []
  type: TYPE_NORMAL
- en: script
  id: totrans-2967
  prefs: []
  type: TYPE_NORMAL
- en: src
  id: totrans-2968
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-2969
  prefs: []
  type: TYPE_NORMAL
- en: '"scripts/interop.js"'
  id: totrans-2970
  prefs: []
  type: TYPE_NORMAL
- en: '></'
  id: totrans-2971
  prefs: []
  type: TYPE_NORMAL
- en: script
  id: totrans-2972
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2973
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-2974
  prefs: []
  type: TYPE_NORMAL
- en: 'In the `Pages` folder, in `Index.razor` , delete the two `Customers` component
    instances and then add a button and a code block that uses the Blazor JavaScript
    runtime dependency service to call a JavaScript function, as shown in the following
    code:'
  id: totrans-2975
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-2976
  prefs: []
  type: TYPE_NORMAL
- en: <button
  id: totrans-2977
  prefs: []
  type: TYPE_NORMAL
- en: type
  id: totrans-2978
  prefs: []
  type: TYPE_NORMAL
- en: ="button"
  id: totrans-2979
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2980
  prefs: []
  type: TYPE_NORMAL
- en: ="btn btn-info"
  id: totrans-2981
  prefs: []
  type: TYPE_NORMAL
- en: '@onclick'
  id: totrans-2982
  prefs: []
  type: TYPE_NORMAL
- en: ="AlertBrowser"
  id: totrans-2983
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2984
  prefs: []
  type: TYPE_NORMAL
- en: Poke the browser</button
  id: totrans-2985
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-2986
  prefs: []
  type: TYPE_NORMAL
- en: <hr
  id: totrans-2987
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-2988
  prefs: []
  type: TYPE_NORMAL
- en: <input
  id: totrans-2989
  prefs: []
  type: TYPE_NORMAL
- en: id
  id: totrans-2990
  prefs: []
  type: TYPE_NORMAL
- en: ="colorBox"
  id: totrans-2991
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-2992
  prefs: []
  type: TYPE_NORMAL
- en: <button
  id: totrans-2993
  prefs: []
  type: TYPE_NORMAL
- en: type
  id: totrans-2994
  prefs: []
  type: TYPE_NORMAL
- en: ="button"
  id: totrans-2995
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-2996
  prefs: []
  type: TYPE_NORMAL
- en: ="btn btn-info"
  id: totrans-2997
  prefs: []
  type: TYPE_NORMAL
- en: '@onclick'
  id: totrans-2998
  prefs: []
  type: TYPE_NORMAL
- en: ="SetColor"
  id: totrans-2999
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-3000
  prefs: []
  type: TYPE_NORMAL
- en: Set Color</button
  id: totrans-3001
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-3002
  prefs: []
  type: TYPE_NORMAL
- en: <button
  id: totrans-3003
  prefs: []
  type: TYPE_NORMAL
- en: type
  id: totrans-3004
  prefs: []
  type: TYPE_NORMAL
- en: ="button"
  id: totrans-3005
  prefs: []
  type: TYPE_NORMAL
- en: class
  id: totrans-3006
  prefs: []
  type: TYPE_NORMAL
- en: ="btn btn-info"
  id: totrans-3007
  prefs: []
  type: TYPE_NORMAL
- en: '@onclick'
  id: totrans-3008
  prefs: []
  type: TYPE_NORMAL
- en: ="GetColor"
  id: totrans-3009
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-3010
  prefs: []
  type: TYPE_NORMAL
- en: Get Color</button
  id: totrans-3011
  prefs: []
  type: TYPE_NORMAL
- en: '>'
  id: totrans-3012
  prefs: []
  type: TYPE_NORMAL
- en: '@code {'
  id: totrans-3013
  prefs: []
  type: TYPE_NORMAL
- en: '[Inject'
  id: totrans-3014
  prefs: []
  type: TYPE_NORMAL
- en: ']'
  id: totrans-3015
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-3016
  prefs: []
  type: TYPE_NORMAL
- en: IJSRuntime JSRuntime { get
  id: totrans-3017
  prefs: []
  type: TYPE_NORMAL
- en: ; set
  id: totrans-3018
  prefs: []
  type: TYPE_NORMAL
- en: ; } = null
  id: totrans-3019
  prefs: []
  type: TYPE_NORMAL
- en: '!;'
  id: totrans-3020
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-3021
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-3022
  prefs: []
  type: TYPE_NORMAL
- en: Task
  id: totrans-3023
  prefs: []
  type: TYPE_NORMAL
- en: AlertBrowser
  id: totrans-3024
  prefs: []
  type: TYPE_NORMAL
- en: ()
  id: totrans-3025
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-3026
  prefs: []
  type: TYPE_NORMAL
- en: await
  id: totrans-3027
  prefs: []
  type: TYPE_NORMAL
- en: JSRuntime.InvokeVoidAsync(
  id: totrans-3028
  prefs: []
  type: TYPE_NORMAL
- en: '"messageBox"'
  id: totrans-3029
  prefs: []
  type: TYPE_NORMAL
- en: ', "Blazor poking the browser"'
  id: totrans-3030
  prefs: []
  type: TYPE_NORMAL
- en: );
  id: totrans-3031
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-3032
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-3033
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-3034
  prefs: []
  type: TYPE_NORMAL
- en: Task
  id: totrans-3035
  prefs: []
  type: TYPE_NORMAL
- en: SetColor
  id: totrans-3036
  prefs: []
  type: TYPE_NORMAL
- en: ()
  id: totrans-3037
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-3038
  prefs: []
  type: TYPE_NORMAL
- en: await
  id: totrans-3039
  prefs: []
  type: TYPE_NORMAL
- en: JSRuntime.InvokeVoidAsync("setColorInStorage"
  id: totrans-3040
  prefs: []
  type: TYPE_NORMAL
- en: );
  id: totrans-3041
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-3042
  prefs: []
  type: TYPE_NORMAL
- en: public
  id: totrans-3043
  prefs: []
  type: TYPE_NORMAL
- en: async
  id: totrans-3044
  prefs: []
  type: TYPE_NORMAL
- en: Task
  id: totrans-3045
  prefs: []
  type: TYPE_NORMAL
- en: GetColor
  id: totrans-3046
  prefs: []
  type: TYPE_NORMAL
- en: ()
  id: totrans-3047
  prefs: []
  type: TYPE_NORMAL
- en: '{'
  id: totrans-3048
  prefs: []
  type: TYPE_NORMAL
- en: await
  id: totrans-3049
  prefs: []
  type: TYPE_NORMAL
- en: JSRuntime.InvokeVoidAsync("getColorFromStorage"
  id: totrans-3050
  prefs: []
  type: TYPE_NORMAL
- en: );
  id: totrans-3051
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-3052
  prefs: []
  type: TYPE_NORMAL
- en: '}'
  id: totrans-3053
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-3054
  prefs: []
  type: TYPE_NORMAL
- en: Start the `Northwind.BlazorServer` project.
  id: totrans-3055
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Start Chrome and navigate to `https://localhost:5001/` .
  id: totrans-3056
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On the home page, in the textbox, enter `red` and then click the **Set Color**
    button.
  id: totrans-3057
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Show **Developer Tools** , select the **Application** tab, expand **Local Storage**
    , select `https://localhost:5001` , and note the key-value pair `color-red` ,
    as shown in *Figure 17.13* :![](img/Image00162.jpg)
  id: totrans-3058
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Figure 17.13: Storing a color in browser local storage using JavaScript Interop'
  id: totrans-3059
  prefs: []
  type: TYPE_NORMAL
- en: Close Chrome and shut down the web server.
  id: totrans-3060
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Start the `Northwind.BlazorServer` project.
  id: totrans-3061
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Start Chrome and navigate to `https://localhost:5001/` .
  id: totrans-3062
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On the home page, click the **Get Color** button and note that the value `red`
    is shown in the textbox, retrieved from local storage between visitor sessions.
  id: totrans-3063
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Close Chrome and shut down the web server.
  id: totrans-3064
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Libraries of Blazor components
  id: totrans-3065
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'There are many libraries of Blazor components. Paid component libraries are
    from companies like Telerik, DevExpress, and Syncfusion. Open source Blazor component
    libraries include the following:'
  id: totrans-3066
  prefs: []
  type: TYPE_NORMAL
- en: 'Radzen Blazor Components: [https://blazor.radzen.com/](https://blazor.radzen.com/)'
  id: totrans-3067
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Awesome Open Source Blazor Projects: [https://awesomeopensource.com/projects/blazor](https://awesomeopensource.com/projects/blazor)'
  id: totrans-3068
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Practicing and exploring
  id: totrans-3069
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Test your knowledge and understanding by answering some questions, get some
    hands-on practice, and explore this chapter's topics with deeper research.
  id: totrans-3070
  prefs: []
  type: TYPE_NORMAL
- en: Exercise 17.1 – Test your knowledge
  id: totrans-3071
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Answer the following questions:'
  id: totrans-3072
  prefs: []
  type: TYPE_NORMAL
- en: What are the two primary hosting models for Blazor, and how are they different?
  id: totrans-3073
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In a Blazor Server website project, compared to an ASP.NET Core MVC website
    project, what extra configuration is required in the Startup class?
  id: totrans-3074
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: One of the benefits of Blazor is being able to implement client-side components
    using C# and .NET instead of JavaScript. Does a Blazor component need any JavaScript?
  id: totrans-3075
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In a Blazor project, what does the `App.razor` file do?
  id: totrans-3076
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: What is a benefit of using the `<NavLink>` component?
  id: totrans-3077
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How can you pass a value into a component?
  id: totrans-3078
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: What is a benefit of using the `<EditForm>` component?
  id: totrans-3079
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How can you execute some statements when parameters are set?
  id: totrans-3080
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: How can you execute some statements when a component appears?
  id: totrans-3081
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: What are two key differences in the `Program` class between a Blazor Server
    and Blazor WebAssembly project?
  id: totrans-3082
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Exercise 17.2 – Practice by creating a times table component
  id: totrans-3083
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Create a component that renders a times table based on a parameter named `Number`
    and then test your component in two ways.
  id: totrans-3084
  prefs: []
  type: TYPE_NORMAL
- en: 'First, by adding an instance of your component to the `Index.razor` file, as
    shown in the following markup:'
  id: totrans-3085
  prefs: []
  type: TYPE_NORMAL
- en: '```cs'
  id: totrans-3086
  prefs: []
  type: TYPE_NORMAL
- en: <
  id: totrans-3087
  prefs: []
  type: TYPE_NORMAL
- en: timestable
  id: totrans-3088
  prefs: []
  type: TYPE_NORMAL
- en: Number
  id: totrans-3089
  prefs: []
  type: TYPE_NORMAL
- en: '='
  id: totrans-3090
  prefs: []
  type: TYPE_NORMAL
- en: '"6"'
  id: totrans-3091
  prefs: []
  type: TYPE_NORMAL
- en: />
  id: totrans-3092
  prefs: []
  type: TYPE_NORMAL
- en: '```'
  id: totrans-3093
  prefs: []
  type: TYPE_NORMAL
- en: 'Second, by entering a path in the browser address bar, as shown in the following
    link:'
  id: totrans-3094
  prefs: []
  type: TYPE_NORMAL
- en: '`https://localhost:5001/timestable/6`'
  id: totrans-3095
  prefs: []
  type: TYPE_NORMAL
- en: Exercise 17.3 – Practice by creating a country navigation item
  id: totrans-3096
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Add an action method to the `CustomersController` class to return a list of
    country names.
  id: totrans-3097
  prefs: []
  type: TYPE_NORMAL
- en: In the shared `NavMenu` component, call the customer's web service to get the
    list of country names and loop through them, creating a menu item for each country.
  id: totrans-3098
  prefs: []
  type: TYPE_NORMAL
- en: Exercise 17.4 – Explore topics
  id: totrans-3099
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Use the links on the following page to learn more detail about the topics covered
    in this chapter:'
  id: totrans-3100
  prefs: []
  type: TYPE_NORMAL
- en: '[https://github.com/markjprice/cs10dotnet6/blob/main/book-links.md#chapter-17---building-user-interfaces-using-blazor](https://github.com/markjprice/cs10dotnet6/blob/main/book-links.md#chapter-17---building-user-interfaces-using-blazor)'
  id: totrans-3101
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-3102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, you learned how to build Blazor components hosted for both
    Server and WebAssembly. You saw some of the key differences between the two hosting
    models, like how data should be managed using dependency services.
  id: totrans-3103
  prefs: []
  type: TYPE_NORMAL

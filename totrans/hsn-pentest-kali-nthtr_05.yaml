- en: Intelligence-Gathering Tools
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 情报收集工具
- en: Let's move into actually using Kali NetHunter. We will start this journey by
    looking at the tools that are useful for gathering intelligence from a target
    host or network. The tools we will be encountering in this chapter will be those
    that tend to be deployed during the first phase of pentesting, with the potential
    to be deployed again during later phases.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始使用Kali NetHunter。我们将从探索从目标主机或网络中收集情报的工具开始这个旅程。在本章中，我们将遇到的工具通常是在渗透测试的第一阶段部署的，有可能在后续阶段再次部署。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Objectives of intelligence gathering
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 情报收集的目标
- en: Tools for gathering useful information
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 收集有用信息的工具
- en: Downloading and copying a website
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 下载和复制网站
- en: Google hacking
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Google黑客
- en: Social networking
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 社交网络
- en: Using WHOIS
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用WHOIS
- en: nslookup
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: nslookup
- en: Technical requirements
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: To complete the chapter, you'll need to install Kali NetHunter ([http://kali.org](http://kali.org)).
    Please see [Chapter 1](b476b62d-1c2f-445a-b334-eabdf1f15847.xhtml), *Introduction
    to Kali NetHunter* to learn about installing Kali NetHunter on an Android device.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成本章，你需要安装Kali NetHunter ([http://kali.org](http://kali.org))。请参阅[第1章](b476b62d-1c2f-445a-b334-eabdf1f15847.xhtml)，*Kali
    NetHunter简介*，了解如何在Android设备上安装Kali NetHunter。
- en: Objectives of intelligence gathering
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 情报收集的目标
- en: Before you can effectively deploy any tools used to break into a system or otherwise
    compromise it, you must learn whatever information you can about it. Depending
    on the amount of care you take and depth you need to go into, this process can
    take a short period of time or a considerable period of time. To accelerate this
    process, NetHunter provides a full range of tools designed just for this purpose.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 在你有效地部署任何用于入侵系统或以其他方式威胁系统的工具之前，你必须了解你能够获取的有关系统的所有信息。根据你所采取的谨慎程度和需要深入了解的程度，这个过程可能需要很短的时间，也可能需要相当长的时间。为了加快这个过程，NetHunter提供了一整套专门设计用于此目的的工具。
- en: 'Since we don''t have a specific target in mind for this book, we will explore
    a range of tools designed to gather different types of information. We will assume
    that there is a good amount of information to be gathered about the target and
    we must simply deploy the right tools to get it. Keep in mind that, in the real
    world, you may be approached to perform a pentest using one of three popular approaches
    based on the client''s needs. With this in mind, let''s go over the three popular
    approaches to a pentest based on the amount of information that is provided or
    needs to be gathered:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 由于本书没有特定的目标，我们将探索一系列旨在收集不同类型信息的工具。我们将假设有大量关于目标的信息需要收集，我们只需部署正确的工具来获取它。请记住，在现实世界中，你可能会被要求根据客户的需求使用三种流行的方法之一来执行渗透测试。考虑到这一点，让我们来看看基于提供的信息量或需要收集的信息量的渗透测试的三种流行方法：
- en: '**White box**: A term used to describe a test where complete information is
    provided to the tester prior to the start of the test and additional questions
    can be asked later. Typically, this test is used in situations where the client
    needs to perform an audit, and simulating an actual attack is not necessary.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**白盒**：用来描述在测试开始之前向测试人员提供完整信息并且之后可以提出额外问题的测试术语。通常，这种测试用于客户需要执行审计的情况，模拟实际攻击并不是必要的。'
- en: '**Grey box**: In this type of test, limited information is provided to the
    tester in order to either guide the test or control the extent of the test. For
    example, a client may provide a list of server names and IP addresses which, if
    discovered, would be the point where you contact the client for further instructions
    on how to proceed.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**灰盒**：在这种类型的测试中，为了指导测试或控制测试的范围，向测试人员提供有限的信息。例如，客户可能会提供服务器名称和IP地址的列表，如果发现，将是你联系客户以获取进一步指示的地方。'
- en: '**Black box**: In this type of test, no information is provided and the attacker
    must gain all information on their own. This type of test most closely emulates
    the actual environment that an outside attacker would face, having to gain information
    along the way.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**黑盒**：在这种类型的测试中，不提供任何信息，攻击者必须自行获取所有信息。这种测试最接近外部攻击者可能面临的实际环境，必须在过程中获取信息。'
- en: It is important that, before you engage in the test, that you understand the
    client's goals and the type of test that they want. For this book, we will assume
    that we are running a black box test and have to dig for and earn the information
    we need to proceed to later phases of the pentesting process.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在你进行测试之前，了解客户的目标和他们想要的测试类型是很重要的。对于本书来说，我们将假设我们正在进行黑盒测试，并且必须挖掘并获取我们需要的信息，以便进行后续的渗透测试过程。
- en: There are many other types of testing formats in the field of penetration testing,
    but we will not be including them in this book. Instead, we will keep things simple
    by limiting ourselves to just these three types.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在渗透测试领域有许多其他类型的测试格式，但我们不会在本书中包括它们。相反，我们将通过限制自己只使用这三种类型来简化事情。
- en: Information for the taking
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 轻松获取信息
- en: 'As you may already be aware, thanks to the internet, there is a seemingly endless
    number of resources available that you only need take the time and effort to make
    use of. There is a wealth of knowledge which we can draw upon; however there is
    a very real downside to having this much information available: you can get overwhelmed
    if you''re not careful. Once you have been testing long enough and are familiar
    with the types of information that can be revealed, you will learn what is more
    valuable.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 正如你可能已经意识到的那样，由于互联网，有大量的资源可供利用，只需要花时间和精力。我们可以利用丰富的知识；然而，拥有这么多信息也有一个非常现实的缺点：如果不小心的话，你可能会感到不知所措。一旦你测试了足够长的时间并熟悉了可能被揭示的信息类型，你就会学会什么是更有价值的。
- en: In my own experience, as well as with those I have mentored over the years,
    I have found that it takes a while to learn to identify useful information quickly.
    Typically, you will find yourself, as a beginner, gathering far more information
    than you will actually use, while possibly missing some items that don't appear
    to be of much use. As you gain experience with the different actions that can
    be taken during pentesting, you will learn to recognize useful information, be
    it information that is immediately useful or that will be useful later.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 根据我自己的经验以及多年来我指导的人的经验，我发现学会快速识别有用信息需要一段时间。通常情况下，作为初学者，您会收集比您实际使用的信息要多得多，同时可能会错过一些看起来没有多大用处的项目。随着您对渗透测试中可以采取的不同行动的经验，您将学会识别有用的信息，无论是立即有用的信息还是以后可能有用的信息。
- en: Types of information available
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可用信息类型
- en: To stay focused during your intelligence-gathering, it is important to briefly
    list the types of information that you can uncover.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在您进行情报收集期间保持专注，简要列出您可以发现的信息类型是很重要的。
- en: Let's get things started by determining what types of information we are looking
    for or might encounter that would be of use later. It is important to set expectations
    ahead of time regarding what information you are looking for, as it helps you
    get a handle on what tools from Kali you should use to reach your goal. I want
    to know what information has the best chance of being useful, but I also try to
    prioritize that information as well as identifying those items that I can collect
    with various tools.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始确定我们正在寻找或可能遇到的信息类型，这些信息将来可能会有用。提前设定您正在寻找的信息有助于您了解应该使用Kali的哪些工具来达到您的目标。我想知道哪些信息有最大的可能性是有用的，但我也试图对这些信息进行优先排序，并识别那些我可以用各种工具收集的项目。
- en: Network information
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络信息
- en: Obtaining information about the network can be useful during our pre-attack
    phase of the penetration test. We aim to determine what transactions are taking
    place between devices, the services being used, IP and MAC addresses, and so on.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们进行渗透测试的攻击前阶段，获取有关网络的信息可能是有用的。我们的目标是确定设备之间发生了什么交易，使用了哪些服务，IP和MAC地址等。
- en: 'The following is a short list of information we can extract from a network:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是我们可以从网络中提取的信息的简短列表：
- en: DNS information
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DNS信息
- en: IP addresses
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IP地址
- en: Rogue or unmonitored websites
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 流氓或未监控的网站
- en: TCP/UDP services that are running
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正在运行的TCP/UDP服务
- en: '**Virtual private network** (**VPN**) information'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**虚拟私人网络**（**VPN**）信息'
- en: Telephone numbers, including analog and VoIP
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 包括模拟和VoIP在内的电话号码
- en: Authentication systems
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 认证系统
- en: User and group information
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户和组信息
- en: Banner information from running services
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自运行服务的横幅信息
- en: System architecture
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 系统架构
- en: Host names
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 主机名
- en: Usernames and associated passwords
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户名和相关密码
- en: Organizational data
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 组织数据
- en: '**Organizational information** is anything that describes and outlines the
    inner workings and processes of a business or organization. This information could
    take many forms, but expect things such as organizational charts, business plans,
    social media, or administrative data.'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: '**组织信息**是描述和概述企业或组织内部运作和流程的任何信息。这些信息可能采取多种形式，但可以期待组织结构图、商业计划、社交媒体或行政数据等内容。'
- en: 'Information that may be located relating to an organization include the following:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 可能与组织相关的信息包括以下内容：
- en: Employee information, such as name, job title, and email address
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 员工信息，如姓名、职位和电子邮件地址
- en: Company website
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公司网站
- en: Organizational employee directory (for example, phonebook)
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组织员工目录（例如电话簿）
- en: Company's physical address
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公司的实际地址
- en: Comments within the coding of a company's website
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 公司网站代码中的评论
- en: Organizational Security policies
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组织安全政策
- en: That's a lot of information, and we can collect it all, and then some, with
    what is available in Kali NetHunter. You can expect to gather a good amount of
    information just by running a few basic scripts and tools that will present the
    information to you.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 这是很多信息，我们可以使用Kali NetHunter中可用的内容收集所有这些信息，甚至更多。您可以期待通过运行一些基本脚本和工具来收集大量信息，这些工具将向您呈现信息。
- en: 'Methods of information-gathering include the following:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 信息收集方法包括以下内容：
- en: '**Open Source Intelligence** (**OSINT**): OSINT gathers information from various
    online resources; this is both an effective and relatively easy way to learn about
    a target. OSINT uses internet search engines, social media websites, blogs, forums,
    and other sources to gather information about a target.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开源情报**（**OSINT**）：OSINT从各种在线资源中收集信息；这既是一种有效的，又是相对容易的了解目标的方式。OSINT使用互联网搜索引擎、社交媒体网站、博客、论坛和其他来源收集有关目标的信息。'
- en: You may also find yourself engaging in a number of passive methods designed
    to harvest information from a target. For a method to be considered passive, you
    must not directly engage or query the target, leaving less opportunity for detection
    and having your efforts thwarted. Furthermore, the passive method also reasonably
    emulates many of the methods that are used to gain information from public sources,
    also known as gaining OSINT.
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可能还会使用一些被设计用来从目标中收集信息的被动方法。要被视为被动方法，您不能直接与目标进行交互或查询，这样就减少了被发现的机会，也避免了您的努力受挫。此外，被动方法也合理地模拟了许多用于从公共来源获取信息的方法，也就是所谓的OSINT。
- en: You may wonder why, in this book, we sometimes use tools that are not native
    to Kali. This is because in many cases I am either trying to show the normal way
    of doing things, as opposed to the more complete, efficient, and better way of
    carrying out the same task using Kali's own tools.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能会想知道为什么在本书中，我们有时会使用不是Kali原生工具的工具。这是因为在许多情况下，我要么试图展示正常的做事方式，而不是使用Kali自己的工具来完成相同任务的更完整、更高效、更好的方式。
- en: It's also important to illustrate that there are other tools available that
    can validate the results if you wish to double-check your data.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 还有其他可用的工具可以验证结果，如果您希望双重检查您的数据。
- en: Tools for gathering useful information
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 收集有用信息的工具
- en: NetHunter has a number of tools designed to gather information about a target,
    each one offering something that the others don't. In this book, we will cover
    many of the tools in NetHunter, but not all, as there are so many. We will cover
    the more powerful tools and the ones you are most likely to use in your work;
    however, you may find other tools you wish to use when doing your own exploring
    outside.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: NetHunter有许多旨在收集有关目标的信息的工具，每个工具都提供其他工具所没有的东西。在本书中，我们将介绍NetHunter中的许多工具，但不是全部，因为有太多了。我们将介绍更强大的工具和您在工作中最有可能使用的工具；但是，当您进行自己的探索时，您可能会发现其他工具。
- en: In this chapter, there is a mix of tools both in Kali as well as ones that exist
    outside of the software. The idea behind showing both these types of tools is
    to demonstrate not only how to get information in other ways, but how to combine
    information from multiple sources to assist you in the process.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，既有Kali中的工具，也有软件之外存在的工具。展示这两种类型的工具的想法不仅是为了演示如何以其他方式获取信息，还有如何结合多个来源的信息来帮助您进行流程。
- en: If a target, such as an organization, has a website, that might be a good place
    to start conducting reconnaissance. A company's website provides lots of details,
    such as email addresses for internal contacts, phone numbers, and extensions.
    If a career page is available, it will have details about the type of vacancies
    available with the technologies being used within the company. The website is
    a representation of the organization in the digital world.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 如果目标（例如组织）有一个网站，那可能是开始进行侦察的好地方。公司的网站提供了大量细节，例如内部联系人的电子邮件地址、电话号码和分机号。如果有一个职业页面，它将提供有关公司内使用的技术的职位空缺的详细信息。网站是组织在数字世界中的代表。
- en: 'When starting out, examine a website to look for information that may be of
    use. Pay attention to the following details:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 开始时，检查网站以寻找可能有用的信息。注意以下细节：
- en: Email addresses
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电子邮件地址
- en: Physical location
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物理位置
- en: Job postings
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 职位发布
- en: Telephone directory listing
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 电话簿列表
- en: Using Shodan
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Shodan
- en: One of the more useful tools in the NetHunter arsenal is a third-party app for
    accessing Shodan. **Shodan** is a powerful search engine that looks for devices
    that are attached to the internet. With Shodan, it is possible to identify several
    pieces of hardware and software inside a target organization with little effort.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: NetHunter工具箱中最有用的工具之一是用于访问Shodan的第三方应用程序。Shodan是一个强大的搜索引擎，用于查找连接到互联网的设备。使用Shodan，可以轻松识别目标组织内的多个硬件和软件。
- en: Why the weird name? Shodan gets its name from the game System Shock. The *SHODAN* character
    name is an acronym for Sentient Hyper-Optimized Data Access Network for the main
    antagonist of the cyberpunk-horror-themed games.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 为什么是奇怪的名字？Shodan得名于游戏System Shock。*SHODAN*角色名称是对赛博朋克恐怖主题游戏的主要反派Sentient Hyper-Optimized
    Data Access Network的首字母缩写。
- en: In order to unlock the full power of Shodan, you need to become adept at using
    keywords creatively. Keywords can be any number of different items, but in this
    case, they typically are the name of the manufacturer and the device model number.
    In some cases, it could even be the name of an unusual device, such as an embedded
    device or an **Internet of Things** (**IoT**) gadget. Once you have an idea of
    keywords to use, you can use these within Shodan to search for devices. You can
    even refine your results if you get overwhelmed by utilizing filter commands.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 为了解锁Shodan的全部功能，您需要熟练地使用关键字。关键字可以是任意数量的不同项目，但在这种情况下，它们通常是制造商的名称和设备型号。在某些情况下，甚至可以是不寻常设备的名称，例如嵌入式设备或**物联网**（**IoT**）设备的名称。一旦您有了要使用的关键字的想法，您可以在Shodan中使用这些关键字来搜索设备。如果您感到不知所措，甚至可以使用过滤命令来细化您的结果。
- en: Shodan has been around for about a decade and has continued to become more capable
    and effective. Shodan is unlike other search engines in that it has the ability
    to search for devices attached to the internet. Originally it was expected to
    be capable of finding computers and printers attached to the internet, but today
    it has the ability to locate devices, such as named IoT objects. Basically, as
    long as it can be accessed or viewed from the Internet, the possibility exists
    that it can be searched for using Shodan.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: Shodan已经存在大约十年，并且一直在变得更加强大和有效。Shodan不同于其他搜索引擎，它具有搜索连接到互联网的设备的能力。最初预期它能够找到连接到互联网的计算机和打印机，但今天它有能力定位设备，例如命名的物联网对象。基本上，只要可以从互联网访问或查看，就存在使用Shodan进行搜索的可能性。
- en: As a pentester, you will find that you can very quickly and easily find devices
    or systems that shouldn't be connected to the internet or have any public exposure.
    The search engine can also become a very useful tool for finding unauthorized
    or rogue devices on your own network if the need arises.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试者，您会发现您可以非常快速、轻松地找到不应连接到互联网或没有任何公开暴露的设备或系统。如果需要，搜索引擎也可以成为在您自己的网络上查找未经授权或流氓设备的非常有用的工具。
- en: 'In order to get started with Shodan, you will need to visit their site at [shodan.io](http://shodan.io)
    to register and create an account. Once this is done, you will be given a unique
    **Application Programming Interface** (**API**) key to enter into the Shodan app:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始使用Shodan，您需要访问他们的网站[shodan.io](http://shodan.io)进行注册并创建帐户。完成后，您将获得一个独特的**应用程序编程接口**（**API**）密钥，输入到Shodan应用程序中：
- en: '![image](img/3f667681-d97b-4e3f-84e8-64709add0e41.jpg)'
  id: totrans-72
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/3f667681-d97b-4e3f-84e8-64709add0e41.jpg)'
- en: The Shodan website
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: Shodan网站
- en: 'In order to use Shodan, you will need to do the following:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Shodan，您需要执行以下操作：
- en: Start the Shodan App located in your list of applications.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动位于应用程序列表中的Shodan应用程序。
- en: Enter your API key if this is the first time you have used the app.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果这是您第一次使用该应用程序，请输入您的API密钥。
- en: Enter a keyword search and tap the **Search** button
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入关键字搜索，然后点击**搜索**按钮
- en: After a few moments, Shodan will return a list of individual systems that meet
    your search criteria. Much like other search engines, click on any one of the
    results to get more detailed information on the target, including items such as
    ports and services. On some results, you will even be able to click on the **+**
    signs near the port numbers for service and other associated information.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 几分钟后，Shodan将返回符合您搜索条件的个别系统列表。与其他搜索引擎类似，单击任何一个结果以获取有关目标的更详细信息，包括端口和服务等项目。在某些结果上，您甚至可以单击与端口号和服务相关的**+**号标志。
- en: If you cannot locate the Shodan app on your device, this may be due to the fact
    that you did not choose to install it during the installation of Kali NetHunter.
    If you did not install it, you can easily install it after the fact using Google
    Play and searching for the Shodan app.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在设备上找不到Shodan应用程序，这可能是因为您在安装Kali NetHunter时没有选择安装它。如果您没有安装它，您可以在安装后使用Google
    Play轻松安装它并搜索Shodan应用程序。
- en: '![image](img/27db31ef-c2c0-472f-a500-bcfde0e4f62d.jpg)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/27db31ef-c2c0-472f-a500-bcfde0e4f62d.jpg)'
- en: Results of a Shodan search
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: Shodan搜索结果
- en: Working with filters
  id: totrans-82
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用过滤器进行工作
- en: With Shodan, you employ a filter either separately or together with others to
    filter and narrow down your results and focus your searches to specific criteria,
    such as countries, cities, products, or versions. However, we can use keywords
    to search; these keywords include something specific for the target. Let's say
    you want to find Cisco devices; the keyword would be "cisco".
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Shodan，您可以单独或与其他一起使用过滤器来筛选和缩小结果，并将搜索重点放在特定的标准上，例如国家、城市、产品或版本。但是，我们可以使用关键字进行搜索；这些关键字包括目标的特定内容。比如说你想要找到思科设备；关键字将是"cisco"。
- en: 'For example, in order to discover webservers that are running Apache web server
    version 3.2.8, you can use the following keywords:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，为了发现运行Apache web服务器版本3.2.8的网络服务器，您可以使用以下关键字：
- en: '[PRE0]'
  id: totrans-85
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'While this type of search works and you will learn that a more effective searches
    can be done by combining both search terms and filters. For example, you could
    search for all of an organization''s Microsoft web servers running IIS/8.5 in
    Sacramento:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这种类型的搜索有效，您将了解到通过结合搜索词和过滤器可以进行更有效的搜索。例如，您可以搜索在萨克拉门托运行IIS/8.5的组织的所有Microsoft网络服务器：
- en: '[PRE1]'
  id: totrans-87
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Using Metagoofil
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Metagoofil
- en: '**Metagoofil** is a powerful tool to have at your fingertips and Kali NetHunter
    provides it to you as a way to gather information. In a nutshell, Metagoofil searches
    for, and downloads information from Google based on the criteria you provide.
    The metadata information that is gathered is from public documents (such as PDF,
    Doc, XLS, PPT, Docx, PPTX, and XLSX files) from the target company you specify.
    It downloads and saves these files to the local drive and then uses built-in libraries
    to extract metadata from the files. The following figure shows Metagoofil at the
    Terminal window:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: '**Metagoofil**是一个强大的工具，Kali NetHunter为您提供了这个工具来收集信息。简而言之，Metagoofil根据您提供的标准从Google中搜索并下载信息。收集到的元数据信息来自您指定的目标公司的公共文档（如PDF、Doc、XLS、PPT、Docx、PPTX和XLSX文件）。它会将这些文件下载并保存到本地驱动器，然后使用内置库从文件中提取元数据。以下图显示了Metagoofil在终端窗口中的情况：'
- en: '![image](img/b3400dc0-09db-4f7f-920a-2e4db86af2ee.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/b3400dc0-09db-4f7f-920a-2e4db86af2ee.jpg)'
- en: So, what is metadata? Well, metadata is information that describes something,
    such as a file, on a computer. In practice, a good example of metadata would be
    the properties attached to a file saved to a hard drive. If this file was an image,
    we could view its properties and find ourselves able to see what device took the
    picture along with color depth, size, and other information, such as GPS data
    in some cases. Depending on the file type being analyzed, it is possible that
    the information that can be displayed could include usernames, software versions,
    and servers or machine names.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，什么是元数据？嗯，元数据是描述计算机上的文件等内容的信息。在实践中，元数据的一个很好的例子是附加到保存在硬盘上的文件的属性。如果这个文件是一张图片，我们可以查看它的属性，并且能够看到拍摄照片的设备、颜色深度、大小以及其他信息，例如在某些情况下的GPS数据。根据被分析的文件类型，可以显示的信息可能包括用户名、软件版本以及服务器或机器名称。
- en: '**Metadata** is present on many types of objects, including all types of files
    and data repositories. In fact, many applications and devices in use today embed
    metadata in the information they create by default. This is the case with many
    of the images created by digital cameras and smartphones, as well as files created
    by products such as Microsoft Word. This metadata is responsible for storing details
    such as the coordinates of where a picture was taken – this information can be
    retrieved and will reveal things that the creator may wish to keep secret.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '**元数据**存在于许多类型的对象中，包括所有类型的文件和数据存储库。事实上，今天许多应用程序和设备默认情况下在它们创建的信息中嵌入元数据。这适用于许多由数码相机和智能手机创建的图像，以及由Microsoft
    Word等产品创建的文件。这些元数据负责存储诸如照片拍摄地点的坐标之类的细节，这些信息可以被检索出来，会揭示出创作者可能希望保密的事情。'
- en: Exercise using Metagoofil to collect information
  id: totrans-93
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Metagoofil进行信息收集练习
- en: In this exercise, we will use Metagoofil to extract metadata from documents
    within a targeted domain.
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将使用Metagoofil从目标域中的文档中提取元数据。
- en: 'Depending on which version of NetHunter you are running, you may be able to
    immediately run this utility from the command line while some updates seem to
    have removed it. If you type the `metagoofil` command at the Terminal window and
    you get a message indicating it is not available, run the following command:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您正在运行的NetHunter版本，您可能可以立即从命令行运行此实用程序，而某些更新似乎已将其删除。如果您在终端窗口中输入`metagoofil`命令并收到指示它不可用的消息，请运行以下命令：
- en: '[PRE2]'
  id: totrans-96
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Let's use Metagoofil to scan a domain for metadata. To keep things safe, we
    will use the [kali.org](https://www.kali.org/) website, but you can replace the
    domain with one of your choosing.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用Metagoofil来扫描元数据域。为了保持安全，我们将使用[kali.org](https://www.kali.org/)网站，但你可以用你选择的域替换它。
- en: 'Metagoofil offers us a number of options to scan this domain:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: Metagoofil为我们提供了许多选项来扫描此域：
- en: '`-d`: Specifies the domain to search.'
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-d`：指定要搜索的域。'
- en: '`-t`: Filetype(s) to download.'
  id: totrans-100
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-t`：要下载的文件类型。'
- en: '`-l`:  This Limits the results ( it will show default value till 200 if nothing
    is specified) Too large a value will take longer while a smaller value will speed
    performance, but yield fewer results.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-l`：限制结果（如果未指定，将显示默认值，最多为200）。值太大将需要更长时间，而值太小将提高性能，但会减少结果。'
- en: '`-n`: Limits the files that are downloaded.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-n`：限制要下载的文件。'
- en: '`-o`: Location to save downloaded files.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-o`：保存下载文件的位置。'
- en: '`-f`: Name of the output file with the summary of operation.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`-f`：输出文件的名称，其中包含操作的摘要。'
- en: At the command prompt, type `metagoofil -d kali.org -t pdf,xls -l 200 -n 25
    -f results.html` and then press *Enter*.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 在命令提示符下，输入`metagoofil -d kali.org -t pdf,xls -l 200 -n 25 -f results.html`，然后按*Enter*。
- en: 'The results will take a while to be returned, but it will include details similar
    to the following screenshot, which was returned from my own search. I ran this
    against a different domain, whose name I have removed. Note the list of user names,
    software used to create files that were retrieved, and even email addresses:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 结果将需要一段时间才能返回，但它将包括类似于以下截图的详细信息，这些信息是从我的搜索中返回的。我对一个不同的域运行了这个，我已经删除了它的名称。请注意用户名称列表、用于创建检索到的文件的软件，甚至电子邮件地址：
- en: '![image](img/e7901dc8-4a3a-49d4-aeb8-c3cce37c21a0.jpg)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/e7901dc8-4a3a-49d4-aeb8-c3cce37c21a0.jpg)'
- en: Results of Metagoofil viewed in a browser
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在浏览器中查看Metagoofil的结果
- en: This information would be saved to a file (or should be) using the `-f` switch.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这些信息将使用`-f`开关保存到文件中（或应该保存）。
- en: The actual results were much longer and had more detail, but couldn't all be
    displayed here in the interest of brevity.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 实际结果要长得多，细节也更多，但出于简洁起见，无法全部显示在这里。
- en: Using Nikto
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Nikto
- en: One way to gain even more information about a target and their website is to
    use Nikto. **Nikto** is a web server scanner that is designed to test a web server
    for various issues, including 6,700+ dangerous files and programs, check for outdated
    versions of servers, and identify version-specific problems of around 300 different
    server types. In addition, it has the ability to check for server configuration
    issues, HTTP server options, and will also attempt to fingerprint web servers
    and software. Finally, scan items and plugins are frequently updated and can be
    automatically updated.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 获取有关目标及其网站更多信息的一种方法是使用Nikto。**Nikto**是一个Web服务器扫描程序，旨在测试Web服务器的各种问题，包括6700多个危险文件和程序，检查服务器的过时版本，并识别大约300种不同服务器类型的特定版本问题。此外，它还具有检查服务器配置问题、HTTP服务器选项的能力，并且还将尝试对Web服务器和软件进行指纹识别。最后，扫描项和插件经常更新，并且可以自动更新。
- en: Keep in mind that not every issue is necessarily something that you can exploit,
    but with some research, you will find many of them are. Some of the data returned
    from a scan will reveal informational items that can be used to add more information
    that may be useful later. There are also some checks for unknown items that have
    been seen scanned for in log files.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，并非每个问题都一定是可以利用的，但通过一些研究，你会发现其中许多是可以利用的。扫描返回的一些数据将显示可用于添加更多信息的信息项，这些信息可能在以后会有用。还有一些检查未知项的检查，这些项已经在日志文件中进行了扫描。
- en: 'The following screenshot shows the results of scanning a website using Nikto:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 以下截图显示了使用Nikto扫描网站的结果：
- en: '![image](img/0b1a641e-6a17-4229-b819-60a3eb7feb9c.png)'
  id: totrans-115
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/0b1a641e-6a17-4229-b819-60a3eb7feb9c.png)'
- en: Results of a Nikto scan
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: Nikto扫描的结果
- en: Let's do some exercise with Nikto to show how it works and provide some helpful
    options.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们用Nikto做一些练习，展示它的工作原理并提供一些有用的选项。
- en: Exercise – working with Nikto
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-使用Nikto
- en: Nikto is a command-line utility, so open a Terminal window to start working
    with the application.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: Nikto是一个命令行实用程序，因此打开终端窗口开始使用该应用程序。
- en: 'To run the most basic type of scan, we just have to issue the following command
    and press *Enter*:'
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行最基本类型的扫描，我们只需输入以下命令并按*Enter*：
- en: '[PRE3]'
  id: totrans-121
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: This command tells Nikto to target (using the `-h` switch) a host name or IP
    address of your choosing. In my case, I chose the website [webscantest.com](http://webscantest.com/),
    which is set up for this type of activity/practice. Note the results will take
    a few moments to be returned, so don't worry if it looks like the command has
    hung or is otherwise not working.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令告诉Nikto使用`-h`开关来针对您选择的主机名或IP地址。在我的情况下，我选择了设置用于此类活动/练习的网站[webscantest.com](http://webscantest.com)。请注意，结果将需要一些时间才能返回，所以如果看起来命令已经挂起或者其他情况下不工作，不要担心。
- en: When you get the results, take a careful look at what is returned.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 当你得到结果时，仔细看看返回的内容。
- en: In my results, I noted the information indicating the presence of a `robots.txt`
    file. I used my browser to open this file by entering [www.webscantest.com/robots.txt](http://www.webscantest.com/robots.txt)
    and I received some simple information about the site, including content types
    and folders. I also noted the information indicating the presence of a login page
    at [www.webscantest.com/login.php](http://www.webscantest.com/login.php). This
    might be good information to note for password-cracking attempts later. Finally,
    I also should point out that the results told me the type and version of the webserver,
    as well as the operating system which, in this case, is Apache 2.4.7 running on
    Ubuntu.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 在我的结果中，我注意到了指示存在`robots.txt`文件的信息。我用浏览器打开了这个文件，输入[www.webscantest.com/robots.txt](http://www.webscantest.com/robots.txt)，我得到了关于网站的一些简单信息，包括内容类型和文件夹。我还注意到了指示存在登录页面的信息，网址是[www.webscantest.com/login.php](http://www.webscantest.com/login.php)。这可能是以后进行密码破解尝试时需要注意的信息。最后，我还应该指出，结果告诉我Web服务器的类型和版本，以及操作系统，这种情况下是运行在Ubuntu上的Apache
    2.4.7。
- en: There are other results included, such as vulnerabilities, which will vary depending
    on your target.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 还包括其他结果，比如漏洞，这将取决于你的目标。
- en: 'Want to see if you can become a little stealthier? Well, you can use the `-evasion`
    or `-e` switch and specify an option. In my case, I used `1` to specify random
    encoding . This may help fool or evade some detective mechanisms enough to keep
    your attack under the radar. You can use this option as follows:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 想知道自己是否可以变得更隐秘？好吧，你可以使用`-evasion`或`-e`开关并指定一个选项。在我的情况下，我使用`1`来指定随机编码。这可能有助于愚弄或规避一些侦察机制，足以使你的攻击不被察觉。你可以按照以下方式使用这个选项：
- en: '[PRE4]'
  id: totrans-127
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: I won't go through all the options here, but I encourage you to use the help
    option to try some other switches. You can access this by entering `nikto -Help`
    to show all the available switches.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 我不会在这里列出所有的选项，但我鼓励你使用帮助选项尝试一些其他开关。你可以通过输入`nikto -Help`来访问这个选项，以显示所有可用的开关。
- en: 'One last tip on this tool: save your results to a file by using the `-o` switch,
    like so:'
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 关于这个工具的最后一个提示：使用`-o`开关将你的结果保存到文件中，就像这样：
- en: '[PRE5]'
  id: totrans-130
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: I usually specify the filename as an HTML file, such as `test.html`. Just save
    your results as this saves time later when you need to refer to the information
    for that nugget of useful information.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 我通常将文件名指定为HTML文件，比如`test.html`。只需将结果保存为这样可以节省以后需要参考有用信息时的时间。
- en: What is robots.txt?
  id: totrans-132
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 什么是robots.txt？
- en: Sometimes search engines are not enough to get what you want as they don't show
    everything you may want. Search engines only show a small fraction of the information
    available on the web and many take advantage of this shortcoming to keep things
    from showing up in a search engine. One of these ways is by tweaking a file known
    as `robots.txt`.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 有时搜索引擎并不能得到你想要的，因为它们不会显示你可能想要的所有内容。搜索引擎只显示网络上可用信息的一小部分，许多人利用这一缺点来阻止某些内容出现在搜索引擎中。其中一种方法是调整一个名为`robots.txt`的文件。
- en: 'The owner of a website can make use of the `robots.txt` file in an attempt
    to take control of who sees what within a site. In practice, the file is put in
    the root of a website and comes into play when a robot or bot visits a site in
    an attempt to catalog content. A robot visits a website such as [www.sample.com](http://www.sample.com).
    However, before it does it checks for the existence of the `robots.txt` file.
    If the file exists, it reads the file to see whether it is allowed to proceed,
    and if so, where. In this case, let''s say that `robots.txt` is found in [www.sample.com/robots.txt](http://www.sample.com/robots.txt)
    and it has the following contents:'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 网站所有者可以利用`robots.txt`文件来尝试控制谁可以在网站内看到什么。实际上，该文件放在网站的根目录下，当机器人访问网站以目录内容时，该文件就会起作用。机器人访问网站，比如[www.sample.com](http://www.sample.com)。但在访问之前，它会检查`robots.txt`文件是否存在。如果文件存在，它会读取文件以查看是否允许继续，如果允许，会在哪里。在这种情况下，假设`robots.txt`在[www.sample.com/robots.txt](http://www.sample.com/robots.txt)中找到，并且具有以下内容：
- en: '[PRE6]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: '`User-agent: *` indicates that the information applies to all robots. `Disallow:
    /` tells the robot not to visit any pages on the website. In practice, `robots.txt`
    is supposed to be read by any robot visiting the site to catalog its content.
    When it reads the file, it should process the directives and react accordingly,
    but let''s point out the reality of the situation.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '`User-agent: *`表示该信息适用于所有机器人。`Disallow: /`告诉机器人不要访问网站上的任何页面。实际上，`robots.txt`应该被访问网站以目录其内容的任何机器人读取。当它读取文件时，它应该处理指令并相应地做出反应，但让我们指出实际情况。'
- en: 'In practice, there are two key points to remember regarding this file:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 实际上，关于这个文件有两个关键点需要记住：
- en: While the intention is for `robots.txt` to be universally accepted, in reality,
    robots can ignore your `/robots.txt`. This would especially be the case for malicious
    web crawlers that scan the website and web servers for security vulnerabilities,
    and email-address harvesters used by spammers. All will tend to ignore the file.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虽然`robots.txt`的目的是被普遍接受，但实际上，机器人可能会忽略你的`/robots.txt`。这在恶意网络爬虫扫描网站和Web服务器以寻找安全漏洞以及垃圾邮件发送者使用的电子邮件地址收集器的情况下尤其如此。所有这些都倾向于忽略该文件。
- en: The actual `robots.txt` file can be viewed by anyone as it is publicly accessible
    by default. Someone finding this file (for example, by using a Google hack) can
    see what portions of a site have been put off limits and then browse there anyway.
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实际的`robots.txt`文件默认是可以被任何人查看的。通过使用谷歌黑客等方式找到这个文件的人可以看到网站的哪些部分被限制，然后无论如何都可以浏览那里。
- en: 'The bottom line here is that `robots.txt` does work as designed. All it takes
    is a piece of malware or a simple Google search to either learn about the structure
    of the site or a piece of malware that doesn''t respect the file and causes potential
    issues. This means you should not use the file to hide information as it is simple
    to locate, read, and bypass. The file only serves to *suggest* the sections of
    the site that shouldn''t be visited; it doesn''t enforce them:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 这里的底线是，`robots.txt`确实按设计工作。只需要一小段恶意软件或简单的谷歌搜索，就可以了解网站的结构，或者一段不尊重该文件并导致潜在问题的恶意软件。这意味着你不应该使用该文件来隐藏信息，因为它很容易被定位、阅读和绕过。该文件只用于*建议*不应该访问站点的部分；它不会强制执行它们：
- en: '![image](img/fddc3659-0902-4125-a7ba-1725c7677f4a.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/fddc3659-0902-4125-a7ba-1725c7677f4a.png)'
- en: Example of the contents of a robots.txt
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: robots.txt内容的示例
- en: Using Parsero
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Parsero
- en: 'In terms of Kali, there actually are tools that will look for the `robots.txt`
    of a site and read the contents. One such tool, **Parsero**, is specifically designed
    to look at the contents of the file with attention paid to the *disallow* entries
    that are used to keep bots from visiting those locations. The following screenshot
    shows Parsero in action:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 就Kali而言，实际上有一些工具可以查找网站的`robots.txt`并读取内容。其中一个工具，**Parsero**，专门设计用来查看文件的内容，特别关注用于阻止机器人访问这些位置的*disallow*条目。以下截图显示了Parsero的操作：
- en: '![image](img/b1d278c9-9a1f-4a04-8de9-e9fa78156c32.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/b1d278c9-9a1f-4a04-8de9-e9fa78156c32.png)'
- en: The Parsero welcome screen
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: Parsero欢迎界面
- en: 'Parsero reads the `robots.txt` file of a web server, looks at the Disallow
    entries, and then checks to see whether the location is accessible. In practice,
    an entry in the file would look like this `Disallow: /portal/ login` means that
    the content on this website or link [www.chieforiyano.com/portal/login](http://www.chieforiyano.com/portal/login)
    should not be indexed by spiders. It may seem pretty straightforward and simple,
    but it can be an obstacle if you want to gather information for a pentest; fortunately,
    we can get around this file.'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 'Parsero读取Web服务器的`robots.txt`文件，查看Disallow条目，然后检查位置是否可访问。实际上，文件中的条目看起来像这样`Disallow:
    /portal/ login`表示此网站或链接[www.chieforiyano.com/portal/login](http://www.chieforiyano.com/portal/login)上的内容不应该被蜘蛛索引。这似乎非常简单明了，但如果您想收集有关渗透测试的信息，它可能是一个障碍；幸运的是，我们可以绕过这个文件。'
- en: Sometimes the paths in the Disallows entries are accessible by users who simply
    type the path into their web browser. However, since there can be many disallow
    entries in `robots.txt`, it is possible that there may be a long list of entries
    to check. Parsero can be used to check a long list of entries and see which are
    valid, so you know which paths to investigate without wasting time.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，`robots.txt`中的Disallow条目中的路径可以被用户访问，他们只需在其Web浏览器中输入路径即可。但是，由于`robots.txt`中可能有许多disallow条目，因此可能需要检查许多条目的长列表。Parsero可用于检查长列表的条目，并查看哪些是有效的，因此您知道要调查哪些路径，而不会浪费时间。
- en: Exercise – working with Parsero
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-使用Parsero
- en: In this exercise, we are going to explore a few examples of using Parsero.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个练习中，我们将探讨使用Parsero的几个示例。
- en: If your installation of Kali does not have Parsero installed, use the `apt-get
    install parsero` command and choose `Yes` to install it.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的Kali安装中没有安装Parsero，请使用`apt-get install parsero`命令，并选择“是”进行安装。
- en: 'First, if we want to index a site to see which disallow entries are valid,
    we use the following:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，如果我们想要索引一个网站，以查看哪些disallow条目是有效的，我们使用以下命令：
- en: '[PRE7]'
  id: totrans-153
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Or, we can use this:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，我们可以使用这个：
- en: '[PRE8]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Second, if we want to see which paths are valid using a search engine, we can
    alter the command to look like so:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，如果我们想要使用搜索引擎查看哪些路径是有效的，我们可以修改命令如下：
- en: '[PRE9]'
  id: totrans-157
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Or you can use the following:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 或者您可以使用以下命令：
- en: '[PRE10]'
  id: totrans-159
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: In this case Parsero, will search bing for results.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，Parsero将搜索必应以获取结果。
- en: Once you have a list of verified directories, you can use a web browser or other
    tool to view the path on the server to see what files or information may be present.
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您有了经过验证的目录列表，您可以使用Web浏览器或其他工具查看服务器上的路径，以查看可能存在的文件或信息。
- en: Using wget
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用wget
- en: You may find it useful to download a copy of a website for local examination
    and to use it to run other tests on. If this is something you wish to do, the
    easiest and simplest way is to use the `wget` command, which is a standard Linux
    tool used to retrieve information from websites. The `wget` utility is a non-interactive
    downloader.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 可能会发现下载网站的副本进行本地检查并用它来运行其他测试很有用。如果这是你想要做的事情，最简单的方法是使用`wget`命令，这是一个标准的Linux工具，用于从网站检索信息。`wget`实用程序是一个非交互式下载器。
- en: It is important to note that this technique of using `wget` or a similar utility
    to download a website is not completely passive and is more semi-passive. While
    passive information-gathering avoids direct engagement with the target and thus
    makes the process anonymous and impossible to track, semi-passive leaves more
    behind. Semi-passive information-gathering engages the target much more directly
    and can leave information in logs, which can be analyzed by the target and the
    activities revealed. The key is that the information is found after the fact and
    our activities do not draw attention to themselves while they are occurring.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要注意，使用`wget`或类似的实用程序下载网站的技术并不是完全被动的，而是更半被动的。虽然被动信息收集避免与目标的直接接触，因此使过程匿名且不可能被跟踪，但半被动会留下更多痕迹。半被动信息收集更直接地与目标接触，并且可能会在日志中留下信息，这些信息可以被目标分析并揭示活动。关键在于，这些信息是在事后发现的，我们的活动在进行时不会引起注意。
- en: Exercise – working with wget
  id: totrans-165
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-使用wget
- en: To keep things simple, for this exercise I recommend that you use a small website
    or personal one as it will make the process faster as there will be less to download.
    However, if you do need to download a larger website, be aware that the bandwidth
    demands and storage-space demands will increase accordingly.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 为了简化操作，在这个练习中，我建议您使用一个小型网站或个人网站，因为这将使整个过程更快，因为需要下载的内容更少。但是，如果您确实需要下载一个较大的网站，请注意带宽需求和存储空间需求将相应增加。
- en: 'Although we are covering how to download the contents of a website to a local
    system, there are some things to keep in mind here: first, on a mobile device,
    storage space may be at a premium, meaning you need to make sure you have enough
    storage space to store the contents of your targeted website. If you run out of
    space, the command will fail, or if you come close to exhausting the space on
    your system without using it all up, you may run into other problems with your
    device.'
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们正在介绍如何将网站内容下载到本地系统，但这里有一些需要牢记的事情：首先，在移动设备上，存储空间可能是紧缺的，这意味着您需要确保有足够的存储空间来存储目标网站的内容。如果空间不足，命令将失败，或者如果您接近耗尽系统空间而没有完全使用它，您可能会遇到设备的其他问题。
- en: Second, make sure that if you are doing this operation, you are aware that,
    if you are performing it over a cellular data link, you will be rapidly eating
    up your data allotment if you have one.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 其次，请确保，如果您正在执行此操作，并且正在通过蜂窝数据链路执行此操作，如果您有一个数据分配，您将迅速耗尽您的数据分配。
- en: 'First, we want to download the website into a directory on the system with
    the same name as the target. To do this, issue the following at the command line:'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们想将网站下载到系统上与目标同名的目录中。要做到这一点，在命令行上输入以下内容：
- en: '[PRE11]'
  id: totrans-170
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: The `-m` option creates a mirror image of the website.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '`-m`选项创建网站的镜像。'
- en: 'If you need to download an entire site, use the following command:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您需要下载整个网站，请使用以下命令：
- en: '[PRE12]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: This command downloads all the pages on specified URL, using both the `-r` and
    `--level=1` parameters. The components, such as images, will be included within
    the downloaded version.
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令下载指定URL上的所有页面，使用了-r和--level=1参数。组件，比如图片，将包含在下载的版本中。
- en: If you have targeted a small site, neither of these commands should take that
    long to finish (maybe a few seconds to just a few minutes), and you should find
    the contents copied to your local system. Once you have the content downloaded,
    you can open them in your web browser and perform actions such as looking at the
    source code to see whether you can find any comments or clues about the site.
    You can also search through the files looking for keywords or phrases that might
    give you information that could prove useful.
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经针对一个小网站，这两个命令都不应该花太长时间完成（也许只需要几秒钟到几分钟），你应该会发现内容被复制到你的本地系统。一旦你下载了内容，你可以在你的网络浏览器中打开它们，并执行一些操作，比如查看源代码，看看是否能找到任何关于网站的评论或线索。你也可以搜索文件，寻找可能给你有用信息的关键词或短语。
- en: Using HTTrack
  id: totrans-176
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用HTTrack
- en: Of course, wget is just a regular Linux tool; let's download a website in a
    different way using the HTTrack tool. This tool is included with Kali and offers
    far more options than wget does on its own.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，wget只是一个常规的Linux工具；让我们使用HTTrack工具以不同的方式下载网站。这个工具包含在Kali中，提供的选项比wget本身要多得多。
- en: '**HTTrack** is a website copier. It allows a person to use either the graphical
    user interface (GUI) or the command-line interface (CLI) to create an offline
    mirror version of a website, allowing for offline browsing.'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: HTTrack是一个网站复制工具。它允许一个人使用图形用户界面（GUI）或命令行界面（CLI）来创建一个网站的离线镜像版本，从而实现离线浏览。
- en: HTTrack also possesses the ability to update an existing downloaded site and
    resume interrupted downloads.
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: HTTrack还具有更新现有下载站点和恢复中断下载的功能。
- en: Let's try using HTTrack to download a website.
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们尝试使用HTTrack下载一个网站。
- en: Exercise – using HTTrack
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-使用HTTrack
- en: 'To use HTTrack, let''s start with the basic options:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用HTTrack，让我们从基本选项开始：
- en: Open a Terminal window.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个终端窗口。
- en: Type the `mkdir test` command. This will create a directory named test. You
    can use whatever name you want; however, this will be the place we store our download.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`mkdir test`命令。这将创建一个名为test的目录。你可以使用任何你想要的名字；然而，这将是我们存储下载的地方。
- en: Type `cd test` or whatever you used for your directory name.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`cd test`或者你用于目录名称的任何内容。
- en: Type the `httrack <website name>` command.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入`httrack <网站名称>`命令。
- en: Press *Enter*. Depending on the size of the site you have targeted, downloading
    may take some time. For my testing, I used `www.webscantest.com` to practice.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按*Enter*。根据你所针对的网站的大小，下载可能需要一些时间。在我的测试中，我使用`www.webscantest.com`进行练习。
- en: Once the download has completed, browse to the folder with the file manager
    (the blue folder icon on the toolbar).
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载完成后，使用文件管理器（工具栏上的蓝色文件夹图标）浏览到文件夹。
- en: 'Click on any file and the appropriate application will be launched, such as
    your web browser. It may take a little poking around, but you may stumble across
    something interesting. For example, consider the following page I found:'
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击任何文件，适当的应用程序将被启动，比如你的网络浏览器。可能需要一些探索，但你可能会偶然发现一些有趣的东西。例如，考虑我找到的以下页面：
- en: '![image](img/50afb66e-82b8-446d-bafb-3cbb9349308c.jpg)'
  id: totrans-190
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/50afb66e-82b8-446d-bafb-3cbb9349308c.jpg)'
- en: A login page from the targeted website
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 来自目标网站的登录页面
- en: 'On larger sites, you may want to consider fine-tuning your request a bit so
    you limit the results. You can do this by issuing the command with the `-r` switch,
    like so:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 在较大的网站上，你可能希望稍微调整一下你的请求，以限制结果。你可以通过使用-r开关来做到这一点，就像这样：
- en: '[PRE13]'
  id: totrans-193
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: In this example, the `-r` switch is used with the 2 option, which tells it to
    go only two levels deep on the site. Note that the switch is a lowercase r; if
    an uppercase R is used, this will not work.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，使用了带有2选项的-r开关，告诉它只在网站上深入两层。请注意，开关是小写r；如果使用大写R，这将不起作用。
- en: 'Want to have a little more guidance when running `httrack`? Well a wizard-type
    help system is available to walk you through the process. You can use this feature
    by enabling the `-W` (uppercase) switch:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 想在运行`httrack`时获得更多的指导？那么一个向导式的帮助系统可用于引导您完成整个过程。您可以通过启用大写的-W开关来使用此功能：
- en: '[PRE14]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Try different options; you can see the vast array of them by using `httrack
    -h`.
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 尝试不同的选项；你可以通过使用`httrack -h`来看到它们的广泛范围。
- en: Once you have completed this command, you can browse to the folder you created
    and review the content that has been downloaded.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 完成这个命令后，你可以浏览到你创建的文件夹，并查看已经下载的内容。
- en: Google Hacking
  id: totrans-199
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Google Hacking
- en: One resource we should not overlook when gathering information is search engines.
    In this section, we are going to focus specifically on Google and a process known
    as Google hacking. As it stands, Google is a very powerful tool for gathering
    information just by performing simple keyword searches, but what if you wanted
    to be more specific and fine-tune your searches to get better-quality results?
    Have you ever put a keyword or set of terms into the search box on google hoping
    to get that useful piece of information only to get several pages of results with
    very little, if anything, to do with what you were looking for? If you have, you
    are not alone with this problem, but the good news is that the use of Google hacking
    can greatly improve your results and help you get what is relevant.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在收集信息时，我们不应忽视搜索引擎。在这一部分，我们将专门关注Google和一个称为Google Hacking的过程。目前，Google是一个非常强大的工具，可以通过简单的关键字搜索来收集信息，但如果你想更具体地调整搜索以获得更好的结果呢？你是否曾经在谷歌的搜索框中输入关键字或一组术语，希望得到有用的信息，却得到了几页与你寻找的内容几乎无关的结果？如果你有，你并不是一个人面对这个问题，但好消息是，使用Google
    Hacking可以极大地改善你的结果，帮助你获得相关的信息。
- en: Google hacking (or Google dorking, as some call it) makes use of special keywords
    to construct queries designed to refine a search to gather information. Under
    a skilled and patient hand, it is more than possible to retrieve useful pieces
    of information, such as passwords, configurations data, and login portals.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: Google黑客（或者有些人称之为Google dorking）利用特殊关键词构建查询，以细化搜索以收集信息。在熟练和耐心的操作下，完全有可能检索到有用的信息，如密码、配置数据和登录门户。
- en: Exercise – what's the Right Search Engine
  id: totrans-202
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-什么是正确的搜索引擎
- en: 'In order to be successful with a Google hack, we need to lay the groundwork
    by first covering what are known as **operators**. Operators are special keywords
    or terms that are used to direct Google to look for information of a certain time
    or format. Operators can be used within the context of any search and can even
    be strung together to create a more complex and targeted search. While we will
    discuss the proper usage of each, I would strongly recommend you spend some time
    working with them, learning different ways to use them in your own queries or
    how to refine your searches:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 为了成功地进行Google黑客攻击，我们需要首先介绍所谓的**操作符**。操作符是用于指导Google查找特定时间或格式信息的特殊关键词或术语。操作符可以在任何搜索的上下文中使用，甚至可以串联在一起创建更复杂和有针对性的搜索。虽然我们将讨论每个操作符的正确使用，但我强烈建议你花一些时间与它们一起工作，学习如何在自己的查询中使用它们的不同方式或如何细化你的搜索：
- en: The Cache keyword displays the cache versions of websites that Google previously
    stored on their servers.
  id: totrans-204
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Cache关键词显示了Google先前存储在他们的服务器上的网站的缓存版本。
- en: 'Usage: `cache:<website URL>`'
  id: totrans-205
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用：`cache:<网站URL>`
- en: The Link keyword displays websites that have a link to the specified URL.
  id: totrans-206
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Link关键词显示了具有指定URL链接的网站。
- en: 'Usage: `link:<website URL>`'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用：`link:<网站URL>`
- en: Info provides information about the website.
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Info提供有关网站的信息。
- en: 'Usage: `info:<website URL>`'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用：`info:<网站URL>`
- en: Site restricts the searches for the locations.
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 网站限制了位置的搜索。
- en: 'Usage: `<keyword> site:<website name>`'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用：`<关键词> site:<网站名称>`
- en: Allintitle returns pages with specified keywords in the titles.
  id: totrans-212
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Allintitle返回标题中包含指定关键词的页面。
- en: 'Usage: `allintitle:<keywords>`'
  id: totrans-213
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用：`allintitle:<关键词>`
- en: Filetype is used to return only files of a specific type.
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Filetype用于返回特定类型的文件。
- en: 'Usage: `filetype:<file extension> <keywords>`'
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用：`filetype:<文件扩展名> <关键词>`
- en: Allinurl returns results with a specific query.
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Allinurl返回具有特定查询的结果。
- en: 'Usage: `allinurl:<keywords>`'
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用：`allinurl:<关键词>`
- en: 'With these keywords in mind, let''s discuss a few examples to show you how
    to use each. I will put some queries here and provide a description of what should
    be returned if you were to try them yourself:'
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这些关键词，让我们讨论一些示例，向你展示如何使用每个关键词。我将在这里放一些查询，并提供一个描述，如果你自己尝试，应该返回什么：
- en: '**Allinurl network cameras**: This query would return any URL that has a combination
    of the words *network* and *cameras* in it.'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Allinurl网络摄像头**：这个查询将返回任何URL中包含*网络*和*摄像头*这两个词的组合。'
- en: '**Allintitle virus description**: This query would return any page that has
    the words *virus* and *description* in the title.'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Allintitle病毒描述**：这个查询将返回任何标题中包含*病毒*和*描述*这两个词的页面。'
- en: '**Filetype:xls username password email**: This would return any XLS (Microsoft
    Excel file) containing the keywords *username*, *password*, and *email*. It is
    also possible to combine keywords to make even more refined and powerful queries.'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Filetype:xls username password email**：这将返回包含关键词*username*、*password*和*email*的任何XLS（Microsoft
    Excel文件）。还可以组合关键词，以制作更精细和强大的查询。'
- en: '**Allinurl:nuke filetype:xls**: This query would look for URLs that contain
    the word *nuke* and then look for XLS files and return the results.'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Allinurl:nuke filetype:xls**：这个查询将查找包含*nuke*这个词的URL，然后查找XLS文件并返回结果。'
- en: If you find yourself stuck for ideas, look at the **Google Hacking Database**
    (**GHDB**). You can locate the website at [www.hackersforcharity.com](http://www.hackersforcharity.com/).
    Here, you'll find many examples of both simple and complex uses of google hacks
    that you can examine, dissect, and modify to learn how to get more out of your
    results.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你对想法感到困惑，请查看**Google黑客数据库**（**GHDB**）。你可以在[www.hackersforcharity.com](http://www.hackersforcharity.com/)找到这个网站。在这里，你会找到许多简单和复杂的Google黑客使用示例，你可以检查、分解和修改，以了解如何更好地利用你的结果。
- en: Location
  id: totrans-224
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 位置
- en: A lot of organizations tend to insert their business address on various online
    maps to help customers find their physical locations more easily. Sites such as
    Google Maps, Bing Maps, Waze, and MapQuest help everyone find their way around
    a country. However, this also helps penetration testers to find a target organization
    much more quickly if they are conducting a black-box test or do not have the phyiscal
    address of the target company.
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 许多组织倾向于在各种在线地图上插入他们的商业地址，以帮助客户更容易地找到他们的实际位置。诸如Google地图、必应地图、Waze和MapQuest等网站帮助每个人在一个国家中找到自己的方向。然而，这也有助于渗透测试人员更快地找到目标组织，如果他们正在进行黑盒测试或者没有目标公司的实际地址。
- en: Social networking
  id: totrans-226
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 社交网络
- en: For the purpose of gathering information about an individual, not too many sources
    can compete with social networking. These networks have not only become extremely
    prolific, but are a very valuable tool for information-gathering. This is largely
    because users of these services tend to overshare information. For most people,
    sharing things online is more exciting than keeping things a secret. Of course,
    when used with care, social networking is a good way for communicating with friends
    and family; however, in some circumstances it could provide a wealth of information
    on both personal and professional relationships.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 为了收集有关个人的信息，没有太多的来源能与社交网络竞争。这些网络不仅变得非常普遍，而且是一个非常有价值的信息收集工具。这主要是因为这些服务的用户倾向于过度分享信息。对于大多数人来说，在网上分享东西比保守秘密更令人兴奋。当然，正确使用社交网络是与朋友和家人交流的好方法；然而，在某些情况下，它可能提供了大量关于个人和专业关系的信息。
- en: 'The most common social platforms to gain information about a target are as
    follows:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 获取有关目标的最常见社交平台的信息如下：
- en: Facebook
  id: totrans-229
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 脸书
- en: Twitter
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 推特
- en: Google+ (*recently been discontinued by Google*)
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Google+（最近被Google停用）
- en: LinkedIn
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 领英
- en: Instagram
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Instagram
- en: Tumblr
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Tumblr
- en: Using Echosec
  id: totrans-235
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Echosec
- en: One of my favorite tools for mining the data revealed on these social networking
    services is known as **Echosec**. This service offers more than just a service
    used to locate information on social networking sites; it aggregates the information
    from multiple sites and then locates where the post was made using geographic
    data. Yes, you read that right; it can show you on a map where a post to a network
    was made and even allow you to adjust the timeframe.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: Echosec是我在这些社交网络服务中挖掘数据的最喜爱工具之一。该服务不仅仅用于定位社交网络站点上的信息；它还会从多个站点聚合信息，然后使用地理数据定位帖子的发布位置。是的，你没看错；它可以在地图上显示网络帖子的发布位置，甚至允许你调整时间范围。
- en: 'The following figure shows the Echosec interface:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图显示了Echosec界面：
- en: '![image](img/bfe1be3c-2032-4a24-b7ea-5856f13c9b23.png)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/bfe1be3c-2032-4a24-b7ea-5856f13c9b23.png)'
- en: 'Echosec works in part because social networks either use location data embedded
    in the post or use other features to place it on a map (such as IP address). Services
    such as Facebook, Twitter, and Instagram can include information from the GPS
    built into just about every modern device in the posts you make. While this sounds
    cool as it allows you to show your friends and family where you have been, it
    also has a downside: it allows other people to see that same information. This
    can allow a malicious party to see where you work, play, and live, not to mention
    where you have traveled. All of this information is useful in identifying an individual''s
    habits as well as other personal information.'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: Echosec的工作部分是因为社交网络要么使用帖子中嵌入的位置数据，要么使用其他功能将其放在地图上（例如IP地址）。Facebook、Twitter和Instagram等服务可以在你发布的帖子中包含来自几乎每个现代设备内置GPS的信息。虽然这听起来很酷，因为它可以让你向朋友和家人展示你去过的地方，但它也有一个缺点：它允许其他人看到相同的信息。这可以让恶意方看到你工作、玩耍和生活的地方，更不用说你去过哪里了。所有这些信息对于识别个人习惯以及其他个人信息都是有用的。
- en: As a pentester, you should not overlook the value of this information. We can
    retrieve this information through a service known as Echosec, at [http://app.echo](http://app.echosec.net/)[sec.net](http://app.echosec.net/).
    To use this service, you only need a location and a little time.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 作为渗透测试人员，您不应忽视这些信息的价值。我们可以通过一个名为Echosec的服务检索这些信息，网址为[http://app.echo](http://app.echosec.net/)[sec.net](http://app.echosec.net/)。要使用此服务，您只需要一个位置和一点时间。
- en: Exercise – working with Echosec
  id: totrans-241
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-使用Echosec
- en: 'In order to use Echosec to analyze the  social media posts from a location,
    see the following steps:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用Echosec分析某个地点的社交媒体帖子，请参阅以下步骤：
- en: Go to [https://app.echosec.net](https://app.echosec.net).
  id: totrans-243
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 转到[https://app.echosec.net](https://app.echosec.net)。
- en: Click the **Select Area** button. Draw a box around the target area.
  id: totrans-244
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**选择区域**按钮。在目标区域周围画一个框。
- en: Scroll down to view the results.
  id: totrans-245
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向下滚动查看结果。
- en: It is possible that pornographic images may sometimes appear in the search results.
    Even if it is not common, it happens from time to time.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 搜索结果中可能会偶尔出现色情图片。即使不常见，也会偶尔发生。
- en: Working with Recon-Ng
  id: totrans-247
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Recon-Ng
- en: Do you want to speed up the process of information-gathering and overall reconnaissance
    of a target? Recon-Ng is for you! While it is true that you will become more adept
    and therefore faster at gathering information manually, tools such as Recon-Ng
    will only improve the speed and efficiency of this process. So, let's take a closer
    look at this tool to get an appreciation of how it works.
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 您想加快信息收集和目标总体侦察的过程吗？Recon-Ng适合您！虽然您确实会通过手动收集信息变得更熟练，因此更快，但是Recon-Ng等工具只会提高此过程的速度和效率。因此，让我们更仔细地了解一下这个工具，以便更好地理解它的工作原理。
- en: '**Recon-Ng** is a powerful tool designed to mimic the interface and design
    of similar tools known as **frameworks**. The tool is based around a design that
    incorporates standalone modules, interactions with the database, interactive help,
    and which  automatically completes commands for a user. However, Recon-Ng is not
    designed to compete with existing frameworks and is more of a complement to the
    other penetration-testing tools that are already popular.'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: '**Recon-Ng**是一个强大的工具，旨在模仿称为**框架**的类似工具的界面和设计。该工具基于一个设计，包括独立模块、与数据库的交互、交互式帮助，并自动完成用户的命令。然而，Recon-Ng并不是为了与现有框架竞争，而是更多地作为其他已经流行的渗透测试工具的补充。'
- en: 'Recon-Ng comes with 80 recon modules, 2 discovery modules, 2 exploitation modules,
    7 reporting modules, and 2 import modules. The following are some examples:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: Recon-Ng配备了80个侦察模块，2个发现模块，2个利用模块，7个报告模块和2个导入模块。以下是一些示例：
- en: '`command_injector`: Remote Command Injection Shell Interface'
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`command_injector`：远程命令注入Shell界面'
- en: '`csv_file`: Advanced CSV File Importer'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`csv_file`：高级CSV文件导入器'
- en: '`email_validator`: Verifies email'
  id: totrans-253
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`email_validator`：验证电子邮件'
- en: '`mailtester`: MailTester Email Validator'
  id: totrans-254
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`mailtester`：MailTester电子邮件验证器'
- en: '`migrate_contacts`: Contacts to Domains Data Migrator'
  id: totrans-255
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`migrate_contacts`：联系人到域数据迁移器'
- en: '`facebook_directory`: Facebook Directory Crawler'
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`facebook_directory`：Facebook目录爬虫'
- en: '`metacrawler`: Metadata Extractor'
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`metacrawler`：元数据提取器'
- en: '`instagram`: Instagram Geolocation Search'
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`instagram`：Instagram地理位置搜索'
- en: '`twitter`: Twitter Geolocation Search'
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`twitter`：Twitter地理位置搜索'
- en: '`dev_diver`: Dev Diver Repository Activity Examiner'
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`dev_diver`：Dev Diver代码库活动检查员'
- en: '`linkedin_crawl`: LinkedIn Profile Crawler'
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`linkedin_crawl`：LinkedIn个人资料爬虫'
- en: You can view the entire list of Recon-Ng modules at [https://www.darknet.org.uk/2016/04/recon-ng-web-reconnaissance-framework/](https://www.darknet.org.uk/2016/04/recon-ng-web-reconnaissance-framework/).
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以在[https://www.darknet.org.uk/2016/04/recon-ng-web-reconnaissance-framework/](https://www.darknet.org.uk/2016/04/recon-ng-web-reconnaissance-framework/)上查看Recon-Ng模块的完整列表。
- en: Going for technical data
  id: totrans-263
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取技术数据
- en: When gathering information during the reconnaissance process, you also want
    to try to acquire as much technical data as is possible and reasonable to collect.
    Fortunately, there are a lot of methods today to help us gather information; many
    are right at your fingertips, built into your favorite operating system, while
    others require different methods.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 在侦察过程中收集信息时，你还希望尽可能收集尽可能多的技术数据。幸运的是，今天有很多方法可以帮助我们收集信息；许多方法就在你的指尖，内置在你喜爱的操作系统中，而其他方法则需要不同的方法。
- en: Using WHOIS
  id: totrans-265
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用WHOIS
- en: WHOIS has been around for quite some time now, but is a very useful utility.
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: WHOIS已经存在了相当长的时间，但它是一个非常有用的实用程序。
- en: Exercise – getting the most from WHOIS
  id: totrans-267
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习 - 从WHOIS中获取最多的信息
- en: 'At the Kali NetHunter Terminal, type `whois <domainname>`, for example:'
  id: totrans-268
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Kali NetHunter终端上，键入`whois <domainname>`，例如：
- en: '[PRE15]'
  id: totrans-269
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'The output will show you all the publicly-accessible information about the
    registration of the domain name, such as the person who did the registration,
    contact details for the company, the company''s address, and the domain creation,
    renewal, and expiration date:'
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 输出将向你显示有关域名注册的所有公开可访问的信息，例如进行注册的人，公司的联系方式，公司的地址以及域名的创建、续订和到期日期：
- en: '![image](img/69f44cfb-e07d-4d30-a006-da4b997ba924.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![image](img/69f44cfb-e07d-4d30-a006-da4b997ba924.png)'
- en: Results of WHOIS for verisign
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: WHOIS对verisign的结果
- en: Domain registrars usually provide an option for privacy to their customers.
    This would restrict a purchaser's information from being made available for public
    records.
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 域名注册商通常为他们的客户提供隐私选项。这将限制购买者的信息不被公开记录。
- en: nslookup
  id: totrans-274
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: nslookup
- en: A technical area we should also focus on is DNS, or Domain Name System, which
    is responsible for resolving hostnames to IPs and IPs to hostnames. This service
    is extremely common to find running on a network, and is essentially a required
    service within most environments.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还应该关注的一个技术领域是DNS，即域名系统，它负责将主机名解析为IP和IP解析为主机名。这项服务在网络上非常常见，并且在大多数环境中基本上是一个必需的服务。
- en: 'If you recall from your networking experience, DNS is a database that contains
    information about the relationships between IP addresses and corresponding hostnames.
    When a client wishes to obtain the IP address that goes with a given hostname
    (in a query known as a forward-lookup), a process goes on within DNS where the
    hostname is located in the database and the address returned. Each of these IP-to-hostname
    relationships in the database is known as a record. Not all records in DNS are
    the same and they exist as many different types, each leading to a different type
    of resource. Looking for the IP for a file server? That''s an A record. Looking
    for a mail server? That''s an MX record. The following table lists these different
    records:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你回忆一下你的网络经验，DNS是一个包含有关IP地址和相应主机名关系的信息的数据库。当客户端希望获取与给定主机名对应的IP地址（在一个称为前向查找的查询中），DNS内部会进行一个过程，其中主机名位于数据库中并返回地址。数据库中的每个IP到主机名的关系都称为记录。DNS中的不是所有记录都是相同的，它们存在许多不同类型，每种类型都会导致不同类型的资源。寻找文件服务器的IP？那就是A记录。寻找邮件服务器？那就是MX记录。以下表列出了这些不同的记录：
- en: '| **Record type** | **Description** |'
  id: totrans-277
  prefs: []
  type: TYPE_TB
  zh: '| **记录类型** | **描述** |'
- en: '| A | Resolves hostnames to IPv4 addresses |'
  id: totrans-278
  prefs: []
  type: TYPE_TB
  zh: '| A | 将主机名解析为IPv4地址 |'
- en: '| AAAA | Same as an "A" record, but for IPv6 |'
  id: totrans-279
  prefs: []
  type: TYPE_TB
  zh: '| AAAA | 与“A”记录相同，但用于IPv6 |'
- en: '| MX | Record for the location of the mail server for that domain |'
  id: totrans-280
  prefs: []
  type: TYPE_TB
  zh: '| MX | 该域的邮件服务器位置记录 |'
- en: '| NS | Lists name servers for a domain |'
  id: totrans-281
  prefs: []
  type: TYPE_TB
  zh: '| NS | 列出域的名称服务器 |'
- en: '| CNAME | Creates an alias |'
  id: totrans-282
  prefs: []
  type: TYPE_TB
  zh: '| CNAME | 创建别名 |'
- en: '| SOA | Displays who has authority for a domain |'
  id: totrans-283
  prefs: []
  type: TYPE_TB
  zh: '| SOA | 显示谁对域名有权威 |'
- en: '| SRV | Service record |'
  id: totrans-284
  prefs: []
  type: TYPE_TB
  zh: '| SRV | 服务记录 |'
- en: '| PTR | Opposite of an A record |'
  id: totrans-285
  prefs: []
  type: TYPE_TB
  zh: '| PTR | A记录的反向 |'
- en: '| RP | Who is responsible for administration |'
  id: totrans-286
  prefs: []
  type: TYPE_TB
  zh: '| RP | 谁负责管理 |'
- en: '| HINFO | Host information |'
  id: totrans-287
  prefs: []
  type: TYPE_TB
  zh: '| HINFO | 主机信息 |'
- en: '| TXT | Simple text record may be used for comments |'
  id: totrans-288
  prefs: []
  type: TYPE_TB
  zh: '| TXT | 简单的文本记录可以用于注释 |'
- en: Now that we know this information, how do we put it to use? Well that's where
    nslookup comes in. Nslookup allows us to interact with a DNS server and query
    it for different record types. Executing queries to retrieve HINFO or TXT records
    can yield information such as notes or other details that may be useful to you.
    Additionally, retrieving other records, such as an MX record, could yield you
    the address of a mail server or an NS record could tell you the address of the
    target's DNS servers.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 既然我们知道了这些信息，我们该如何利用它呢？这就是nslookup发挥作用的地方。Nslookup允许我们与DNS服务器交互，并查询不同的记录类型。执行检索HINFO或TXT记录的查询可以获得诸如注释或其他详细信息对你可能有用的信息。此外，检索其他记录，如MX记录，可能会给你邮件服务器的地址，或者NS记录可能会告诉你目标的DNS服务器的地址。
- en: Running `nslookup` requires using the terminal window or command line to issue
    the commands directly.
  id: totrans-290
  prefs: []
  type: TYPE_NORMAL
  zh: 运行`nslookup`需要使用终端窗口或命令行直接发出命令。
- en: 'In its default mode of operation, `nslookup` will return the IP address that
    corresponds to a hostname or the other way around, depending on which you provide.
    For example, let''s find out the IP address of website.com by running the following
    command:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 在其默认操作模式下，`nslookup`将返回与主机名对应的IP地址，或者反之，取决于你提供的是哪个。例如，通过运行以下命令来查找website.com的IP地址：
- en: '[PRE16]'
  id: totrans-292
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'It would return something similar to the following:'
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 它将返回类似于以下内容：
- en: '[PRE17]'
  id: totrans-294
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Here, `8.8.8.8` is the address of the DNS server the local host is configured
    to use.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，`8.8.8.8`是本地主机配置使用的DNS服务器的地址。
- en: Directly after this, we see the information for `website.com`. In this case,
    the DNS server returned two answers, indicating that the website uses a load-balancing
    system commonly known as a round robin. Essentially, this means that when you
    browse to this website, you will be sent to one of these two addresses and your
    queries will be resolved and answered appropriately.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 紧接着这个，我们看到了`website.com`的信息。在这种情况下，DNS服务器返回了两个答案，表明该网站使用一种常称为轮询的负载平衡系统。基本上，这意味着当你浏览这个网站时，你将被发送到这两个地址中的一个，并且你的查询将被解析并适当地回答。
- en: It's also important to note the text in the response that states "Non-authoritative
    answer" to our query. This response indicates that the DNS server we are querying
    does not contain complete information for the domain being queried. This answer
    typically indicates that you have been provided information that is cached from
    the last request made by a client.
  id: totrans-297
  prefs: []
  type: TYPE_NORMAL
  zh: 还要注意响应中指出的“非权威答案”文本。此响应表示我们正在查询的DNS服务器不包含所查询域的完整信息。这个答案通常表示您已经获得了上次由客户端发出的请求缓存的信息。
- en: Reverse DNS Lookups
  id: totrans-298
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 反向DNS查找
- en: 'It is possible to perform reverse lookup queries by providing the IP address
    instead, like so:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 通过提供IP地址执行反向查找查询是可能的，如下所示：
- en: '[PRE18]'
  id: totrans-300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'This will return information resembling the following:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 这将返回类似以下内容的信息：
- en: '[PRE19]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Non-authoritative answer:'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 非权威答案：
- en: '[PRE20]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: Looking up an NS record
  id: totrans-305
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 查找NS记录
- en: 'The NS record of a domain contains the IP addresses of the name servers that
    are authoritative for that domain. Retrieving an NS record is simple: we just
    run a query much like before, but now we include the -type switch to tell the
    utility to return only NS records:'
  id: totrans-306
  prefs: []
  type: TYPE_NORMAL
  zh: 域的NS记录包含该域的权威名称服务器的IP地址。检索NS记录很简单：我们只需运行一个类似之前的查询，但现在我们包括-type开关，告诉实用程序仅返回NS记录：
- en: '[PRE21]'
  id: totrans-307
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: 'The response will resemble the following:'
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 响应将类似于以下内容：
- en: '[PRE22]'
  id: totrans-309
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Here is the non-authoritative answer:'
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: 这是非权威答案：
- en: '[PRE23]'
  id: totrans-311
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Querying an MX record
  id: totrans-312
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 查询MX记录
- en: The MX record of a domain contains the IP addresses of the mail servers that
    handle messages for the domain. When you send an email to a domain, for example
    `@website.com`, mail is routed to the website's MX servers.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 域的MX记录包含处理该域消息的邮件服务器的IP地址。当您发送电子邮件到一个域，例如`@website.com`，邮件被路由到网站的MX服务器。
- en: 'You can use the `-type=mx` option to query a domain for its MX record. For
    example:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用`-type=mx`选项查询域的MX记录。例如：
- en: '[PRE24]'
  id: totrans-315
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'It will respond with output resembling the following:'
  id: totrans-316
  prefs: []
  type: TYPE_NORMAL
  zh: 它将响应类似于以下内容：
- en: '[PRE25]'
  id: totrans-317
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Here''s the non-authoritative answer:'
  id: totrans-318
  prefs: []
  type: TYPE_NORMAL
  zh: 这是非权威答案：
- en: '[PRE26]'
  id: totrans-319
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: Querying an SOA record
  id: totrans-320
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 查询SOA记录
- en: 'The **Start Of Authority** (**SOA**) record for a domain provides technical
    information about the domain itself. It can be retrieved by using the -`type=soa`
    option:'
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 域的**权威起始**（**SOA**）记录提供有关域本身的技术信息。可以使用-type=soa选项检索它：
- en: '[PRE27]'
  id: totrans-322
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'Here''s the non-authoritative answer:'
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 这是非权威答案：
- en: '[PRE28]'
  id: totrans-324
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: Querying another DNS
  id: totrans-325
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 查询另一个DNS
- en: 'Nslookup, by design, will query the same DNS server that the host system is
    currently configured to use. However, if you wish to change the DNS server that
    is being queried by `nslookup`, you can use the following command:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: Nslookup的设计将查询主机系统当前配置的相同DNS服务器。但是，如果您希望更改`nslookup`查询的DNS服务器，可以使用以下命令：
- en: '[PRE29]'
  id: totrans-327
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'This command will provide us with the authoritative answer to our previous
    query of `microsoft.com`:'
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令将为我们提供对我们之前对`microsoft.com`的查询的权威答案：
- en: '[PRE30]'
  id: totrans-329
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: This is useful not only for gaining authoritative information, but also for
    retrieving the information a certain DNS currently has cached.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 这不仅有助于获取权威信息，还有助于检索某个DNS当前缓存的信息。
- en: Also note that a closer examination of the WHOIS result,  the nameservers which
    are authoritative for the domain are located at the bottom of the result. You
    could use those servers returned from a WHOIS query with nslookup.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 还要注意WHOIS结果的更仔细的检查，权威于该域的名称服务器位于结果的底部。您可以使用从WHOIS查询返回的这些服务器与nslookup一起使用。
- en: Using dnsenum
  id: totrans-332
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用dnsenum
- en: 'Let''s use another tool to that is built into Kali, known as **dnsenum**, to
    examine DNS information. Simply put, dnsenum is a script designed to extract DNS
    information from a domain and reveal non-contiguous IP blocks. Here is a short
    list of the features of this script:'
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们使用另一个内置在Kali中的工具，称为**dnsenum**，来检查DNS信息。简而言之，dnsenum是一个旨在从域中提取DNS信息并显示非连续IP块的脚本。以下是此脚本的一些功能的简要列表：
- en: Get the host's address record
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取主机地址记录
- en: Get the nameservers
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取名称服务器
- en: Get the MX record
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 获取MX记录
- en: Perform AXFR queries on nameservers
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在名称服务器上执行AXFR查询
- en: Get extra names and subdomains via google scraping
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过谷歌抓取获取额外的名称和子域
- en: Brute-force subdomains from the file
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从文件中暴力破解子域
- en: Calculate C class domain-network ranges and perform WHOIS queries on them
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算C类域网络范围并对其执行WHOIS查询
- en: Write to `domain_ips.tx`t file IP blocks
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 写入`domain_ips.tx`t文件IP块
- en: Let's take a quick look at how to use dnsenum.
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们快速看一下如何使用dnsenum。
- en: Exercise – working with dnsenum
  id: totrans-343
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 练习-使用dnsenum
- en: '**Dnsenum** is a fast and very efficient way of acquiring the same info as
    nslookup without having to jump through as many hoops.'
  id: totrans-344
  prefs: []
  type: TYPE_NORMAL
  zh: '**Dnsenum**是一种快速而非常有效的获取与nslookup相同信息的方法，而无需跳过太多障碍。'
- en: 'To use dnsenum at its most basic, simply issue the following at the Terminal
    window:'
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
  zh: 要在其最基本的情况下使用dnsenum，只需在终端窗口中输入以下命令：
- en: '[PRE31]'
  id: totrans-346
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: This will return a list of results about records including name servers, MX
    servers, and A records. It will also attempt to perform a zone transfer.
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 这将返回有关记录的结果列表，包括名称服务器、MX服务器和A记录。它还将尝试执行区域传输。
- en: 'Want to try querying a different DNS server for the same name? Use the following:'
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
  zh: 想尝试为相同的名称查询不同的DNS服务器吗？使用以下命令：
- en: '[PRE32]'
  id: totrans-349
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: The use of `dnsserver` is particularly helpful when you are trying to query
    the authoritative server for a domain.
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
  zh: 在尝试查询域的权威服务器时，使用`dnsserver`特别有帮助。
- en: Using DNSMAP
  id: totrans-351
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用DNSMAP
- en: Another effective way to learn about subdomains, IP addresses, and build a picture
    or map of a network is through the use of DNSMAP. This utility is capable of performing
    several actions, but let's look at it right now as a way to learn about subdomains
    and associated IP addresses for a target.
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 了解子域、IP地址并构建网络图片或地图的另一种有效方法是使用DNSMAP。该实用程序能够执行多种操作，但让我们现在将其作为一种了解目标子域和相关IP地址的方法。
- en: 'You can use DNSMAP to perform any of the following actions:'
  id: totrans-353
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用DNSMAP执行以下任何操作：
- en: Find remote servers
  id: totrans-354
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查找远程服务器
- en: Find domain names that will allow you to map non-obvious/hard-to-find net blocks
  id: totrans-355
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 查找域名，以便您可以映射非明显/难以找到的网络块
- en: The ability to locate internal DNS names and IP addresses using brute-force
  id: totrans-356
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To use DNSMAP to locate subdomains, simply execute the following command:'
  id: totrans-357
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE33]'
  id: totrans-358
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'For example, it will be seen like this:'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE34]'
  id: totrans-360
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'There is another tool that is effective at gathering information from DNS:
    Fierce. **Fierce** is in the same  as other tools of its type, but it is still
    worth covering because it offers another attractive alternative.'
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
- en: Fierce is, at its heart, a scanner that helps locate non-contiguous IP space
    and hostnames of targeted domains. It's meant, in many ways, to be a way to gather
    information to be used in tools such as nmap. It locates potential targets both
    inside and outside a target network.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
- en: 'To use Fierce to perform a scan of a DNS namespace, issue the following command:'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE35]'
  id: totrans-364
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'An example using an actual domain name looks like this:'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE36]'
  id: totrans-366
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'The following figure shows the results of this example scan:'
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
- en: '![image](img/ec3dc835-f92f-442a-acc2-f3212b316098.png)'
  id: totrans-368
  prefs: []
  type: TYPE_IMG
- en: Using traceroute
  id: totrans-369
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '**Traceroute** is designed using the ICMP protocol as a component. Traceroute
    allows an administrator to map the path a packet would take between the source
    to the destination. Traceroute exists both in the Windows and Linux systems.'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
- en: Traceroute sends packets by slightly increasing the TTL value, initially with
    a TTL value of `1`. The first router receives the packet, decreases the TTL value,
    and then leaves the packet because it has a TTL value of `0`.
  id: totrans-371
  prefs: []
  type: TYPE_NORMAL
- en: 'The router sends an ICMP Time Exceeded message back to the source:'
  id: totrans-372
  prefs: []
  type: TYPE_NORMAL
- en: '![image](img/efd3d30d-3324-4ab0-bd91-ab18611a8b33.png)'
  id: totrans-373
  prefs: []
  type: TYPE_IMG
- en: There are many non-command-line versions of traceroute, if you find them easier
    to use.
  id: totrans-374
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-375
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There is a wealth of resources available for you to get details about the target
    sources which you should be familiar with when performing a penetration test.
    In this chapter, we learned how to research a target and use the information collected
    to understand the victim.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will build on the lessons learned during information-gathering
    and move to acting on this information through the use of scanning and enumeration.
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
- en: Further reading
  id: totrans-378
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can check out [http://kali.tools.org](http://kali.tools.org) for more information
    about the topics covered in this chapter.
  id: totrans-379
  prefs: []
  type: TYPE_NORMAL

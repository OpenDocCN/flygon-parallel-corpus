- en: Appendix A. Installing Kafka on Other Operating Systems
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Apache Kafka is primarily a Java application and therefore should be able to
    run on any system where you are able to install a JRE. It has, however, been optimized
    for Linux-based operating systems, so that is where it will perform best. Running
    on other operating systems may result in bugs specific to the OS. For this reason,
    when using Kafka for development or test purposes on a common desktop OS, it is
    a good idea to consider running in a virtual machine that matches your eventual
    production environment.
  prefs: []
  type: TYPE_NORMAL
- en: Installing on Windows
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As of Microsoft Windows 10, there are now two ways that you can run Kafka. The
    traditional way is using a native Java installation. Windows 10 users also have
    the option to use the Windows Subsystem for Linux. The latter method is highly
    preferred because it provides a much simpler setup that more closely matches the
    typical production environment, so we will review it first.
  prefs: []
  type: TYPE_NORMAL
- en: Using Windows Subsystem for Linux
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you are running Windows 10, you can install native Ubuntu support under Windows
    using Windows Subsystem for Linux (WSL). At the time of publication, Microsoft
    still considers WSL to be an experimental feature. Though it acts similar to a
    virtual machine, it does not require the resources of a full VM and provides richer
    integration with the Windows OS.
  prefs: []
  type: TYPE_NORMAL
- en: 'To install WSL, follow the instructions available from the Microsoft Developer
    Network at the [“What Is the Windows Subsystem for Linux?” page](https://oreil.ly/dULqm).
    Once that is done, you will need to install a JDK using `apt` (assuming that you
    have installed the Ubuntu system package for WSL):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: Once you have installed the JDK, you can proceed to install Apache Kafka using
    the instructions in [Chapter 2](ch02.html#installing_kafka).
  prefs: []
  type: TYPE_NORMAL
- en: Using Native Java
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: For older versions of Windows, or if you prefer not to use the WSL environment,
    you can run Kafka natively with a Java environment for Windows. Be aware, however,
    that this can introduce bugs specific to the Windows environment. These bugs may
    not get the attention in the Apache Kafka development community as similar problems
    on Linux might.
  prefs: []
  type: TYPE_NORMAL
- en: Before installing ZooKeeper and Kafka, you must have a Java environment set
    up. You should install the latest version of Oracle Java 16, which can be found
    on the [Oracle Java SE download page](https://jdk.java.net). Download a full JDK
    package so that you have all the Java tools available, and follow the instructions
    for installation.
  prefs: []
  type: TYPE_NORMAL
- en: Be Careful with Paths
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: When installing Java and Kafka, it is highly recommended that you stick to installation
    paths that do not contain spaces. While Windows allows spaces in paths, applications
    that are designed to run in Unix environments are not set up this way, and specifying
    paths will be difficult. When installing Java, make sure to set the installation
    path with this in mind. For example, if installing JDK 16.0.1, a good choice would
    be to use the path *C:\Java\jdk-16.0.1*.
  prefs: []
  type: TYPE_NORMAL
- en: 'Once Java is installed, set up the environment variables so that it can be
    used. This is done in the Control Panel for Windows, though the exact location
    will depend on your version of the OS. In Windows 10, you must:'
  prefs: []
  type: TYPE_NORMAL
- en: Select “System and Security”
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select System
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select “Advanced system settings,” which will open the System Properties window
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: On the Advanced tab, click the “Environment Variables” button
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Use this section to add a new user variable named `JAVA_HOME` ([Figure A-1](#fig-1-wincontrolpanel))
    and set it to the path where you installed Java. Then edit the system variable
    named `Path` and add a new entry that is **`%JAVA_HOME%\bin`**. Save these settings,
    and exit out of the Control Panel.
  prefs: []
  type: TYPE_NORMAL
- en: '![kdg2 aa01](assets/kdg2_aa01.png)'
  prefs: []
  type: TYPE_IMG
- en: Figure A-1\. Adding the `JAVA_HOME` variable
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
- en: Now you can proceed to install Apache Kafka. The installation includes ZooKeeper,
    so you do not have to install it separately. The [current release of Kafka](https://oreil.ly/xpwY1)
    can be downloaded online. At publication time, that version is 2.8.0 running under
    Scala version 2.13.0\. The downloaded file will be gzip compressed and packaged
    with the `tar` utility, so you will need to use a Windows application such as
    8 Zip to uncompress it. Similar to installing on Linux, you must choose a directory
    to extract Kafka into. For this example, we will assume Kafka is extracted into
    *C:\kafka_2.13-2.8.0*.
  prefs: []
  type: TYPE_NORMAL
- en: 'Running ZooKeeper and Kafka under Windows is a little different, as you must
    use the batch files designed for Windows rather than the shell scripts for other
    platforms. These batch files also do not support backgrounding the application,
    so you will need a separate shell for each application. First, start ZooKeeper:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Once ZooKeeper is running, you can open another window to start Kafka:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: Installing on macOS
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: macOS runs on Darwin, a Unix OS that is derived, in part, from FreeBSD. This
    means that many of the expectations of running on a Unix OS hold true, and installing
    applications designed for Unix, like Apache Kafka, is not too difficult. You can
    either keep the installation simple by using a package manager (like Homebrew),
    or you can install Java and Kafka manually for greater control over versions.
  prefs: []
  type: TYPE_NORMAL
- en: Using Homebrew
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: If you have already installed [Homebrew](https://brew.sh) for macOS, you can
    use it to install Kafka in one step. This will ensure that you have Java installed
    first, and it will then install Apache Kafka 2.8.0 (as of the time of writing).
  prefs: []
  type: TYPE_NORMAL
- en: 'If you have not yet installed Homebrew, do that first by following the directions
    on the [installation page](https://oreil.ly/ZVEvc). Then you can install Kafka
    itself. The Homebrew package manager will ensure that you have all the dependencies
    installed first, including Java:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: 'Homebrew will install Kafka under */usr/local/Cellar*, but the files will be
    linked into other directories:'
  prefs: []
  type: TYPE_NORMAL
- en: Binaries and scripts will be in */usr/local/bin*.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Kafka configurations will be in */usr/local/etc/kafka*.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: ZooKeeper configurations will be in */usr/local/etc/zookeeper*.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The `log.dirs` configuration (the location for Kafka data) will be set to */usr/local/var/lib/kafka-logs*.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'After installation is complete, you can start ZooKeeper and Kafka (this example
    starts Kafka in the foreground):'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: Installing Manually
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Similar to a manual installation for the Windows OS, when installing Kafka on
    macOS, you must first install a JDK. Use the same [Oracle Java SE download page](https://jdk.java.net)
    to get the proper version for macOS. You can then download Apache Kafka, similar
    to Windows again. For this example, we will assume that the Kafka download is
    expanded into the */usr/local/kafka_2.13-2.8.0* directory.
  prefs: []
  type: TYPE_NORMAL
- en: 'Starting ZooKeeper and Kafka looks just like starting them when using Linux,
    though you will need to make sure your `JAVA_HOME` directory is set first:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
